{"version":3,"mappings":"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","names":["API","axios","APP_BASE_URL","setHeader","value","key","generateEventParams","events$1","name","search","buildSearchParamsWithLocale","createConversation","params","referrerURL","sendMessage","content","replyTo","sendAttachment","attachment","timestamp","file","formData","getConversation","before","after","updateMessage","id","getAvailableAgents","token","getCampaigns","triggerCampaign","websiteToken","campaignId","customAttributes","getMostReadArticles","slug","locale","endPoints","urlData","DEFAULT_EXPIRY","getFromCache","expiry","cached","LocalStorage","data","setCache","cacheData","state","getters","$state","agent","CACHE_KEY_PREFIX","actions","commit","cachedData","payload","mutations","MutationHelpers.updatePresence","CLEAR_CONVERSATION_ATTRIBUTES","SET_CONVERSATION_ATTRIBUTES","SET_WIDGET_APP_CONFIG","SET_WIDGET_COLOR","SET_COLOR_SCHEME","UPDATE_CONVERSATION_ATTRIBUTES","TOGGLE_WIDGET_OPEN","SET_REFERRER_HOST","SET_BUBBLE_VISIBILITY","SET_ROUTE_UPDATE_STATE","_state","showPopoutButton","position","hideMessageBubble","showUnreadMessagesDialog","widgetStyle","darkMode","welcomeTitle","welcomeDescription","availableMessage","unavailableMessage","enableFileUpload","enableEmojiPicker","enableEndConversation","isWidgetOpen","widgetColor","referrerHost","status","appConfig","isEmptyObject","obj","msg","IFrameHelper","WOOT_PREFIX","RNHelper","groupBy","array","predicate","acc","_a","buildUrl","endPoint","ContactsAPI","userObject","identifier","customAttribute","SET_CURRENT_USER","parseErrorData","error","updateWidgetAuthToken","widgetAuthToken","dispatch","user","email","avatar_url","identifierHash","phone_number","company_name","city","country_code","description","custom_attributes","social_profiles","SET_USER_ERROR","_","currentUser","contacts","createTemporaryMessage","attachments","getUuid","MESSAGE_TYPE","getSenderName","message","shouldShowAvatar","nextMessage","currentSender","nextSender","isASubmittedFormMessage","groupConversationBySender","conversationsForADate","index","showAvatar","isLastMessage","findUndeliveredMessage","messageInbox","getNonDeletedMessages","messages","item","conversation","conversationGroupedByDate","formatUnixDate","date","userLastSeenAt","chat","createdAt","messageType","isOutGoing","_getters","unreadCount","unreadAgentMessages","maxUnreadCount","createConversationAPI","sendMessageAPI","sendAttachmentAPI","getMessagesAPI","getConversationAPI","toggleTyping","typingStatus","setUserLastSeenAt","lastSeen","sendEmailTranscript","toggleStatus","setCustomAttributes","deleteCustomAttribute","ON_AGENT_MESSAGE_RECEIVED","ON_UNREAD_MESSAGE_CLICK","ON_CAMPAIGN_MESSAGE_CLICK","ON_CONVERSATION_CREATED","emitter","meta","thumbUrl","fileType","tempMessage","formattedMessages","lastMessageId","conversations","missingMessages","updatedConversation","a","b","content_attributes","appGetters","type","messagesInbox","messageInConversation","tempId","uiFlags","newMeta","lastMessage","conversationAttributes","conversationLabels$1","label","conversationLabels","events","MessageAPI","messageId","values","authEndPoint","submittedValues","CampaignTimer","__publicField","campaigns","campaign","timeOnPage","store","timerId","campaignTimer","isPatternMatchingWithURL","urlPattern","url","updatedUrlPattern","locationObj","URLPattern","formatCampaigns","_b","filterCampaigns","currentURL","isInBusinessHours","resetCampaignTimers","formattedCampaigns","filteredCampaigns","article","createStore","globalConfig","configMixin","preChatMessage","options","preChatFields","hasEnabledFields","field","loadedEventConfig","getExtraSpaceToScroll","unreadMessageWrap","unreadCloseWrap","readViewWrap","extraHeight","shouldTriggerMessageUpdateEvent","previousChanges","isDarkModeAuto","mode","isDarkMode","getSystemPreference","calculatePrefersDarkMode","systemPreference","useDarkMode","useMapGetter","computed","prefersDarkMode","exports","requiredArgs","required","args","module","toDate","_index","_interopRequireDefault","require$$0","argument","argStr","isValid","_index2","require$$1","dirtyDate","formatDistance","formatDistanceLocale","count","result","buildFormatLongFn","dirtyOptions","width","format","dateFormats","timeFormats","dateTimeFormats","formatLong","_default","formatRelative","formatRelativeLocale","_date","_baseDate","_options","buildLocalizeFn","dirtyIndex","context","valuesArray","defaultWidth","_defaultWidth","_width","eraValues","quarterValues","monthValues","dayValues","dayPeriodValues","formattingDayPeriodValues","ordinalNumber","dirtyNumber","_dirtyOptions","number","rem100","localize","quarter","buildMatchPatternFn","dirtyString","string","matchResult","matchedString","parseResult","buildMatchFn","matchPattern","parsePatterns","findIndex","pattern","findKey","object","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","match","_index3","require$$2","_index4","require$$3","_index5","require$$4","toInteger","addMilliseconds","dirtyAmount","amount","subMilliseconds","addLeadingZeros","targetLength","sign","output","formatters","signedYear","year","month","dayPeriodEnumValue","numberOfDigits","milliseconds","fractionalSeconds","getUTCDayOfYear","MILLISECONDS_IN_DAY","startOfYearTimestamp","difference","startOfUTCISOWeek","weekStartsOn","day","diff","getUTCISOWeekYear","fourthOfJanuaryOfNextYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","startOfUTCISOWeekYear","fourthOfJanuary","getUTCISOWeek","MILLISECONDS_IN_WEEK","startOfUTCWeek","localeWeekStartsOn","defaultWeekStartsOn","getUTCWeekYear","localeFirstWeekContainsDate","defaultFirstWeekContainsDate","firstWeekContainsDate","firstWeekOfNextYear","firstWeekOfThisYear","startOfUTCWeekYear","firstWeek","getUTCWeek","_index6","require$$5","_index7","require$$6","dayPeriodEnum","era","signedWeekYear","weekYear","twoDigitYear","isoWeekYear","week","isoWeek","dayOfYear","dayOfWeek","localDayOfWeek","isoDayOfWeek","hours","_localize","originalDate","timezoneOffset","formatTimezoneWithOptionalMinutes","formatTimezone","formatTimezoneShort","offset","dirtyDelimiter","absOffset","minutes","delimiter","dateLongFormatter","timeLongFormatter","dateTimeLongFormatter","datePattern","timePattern","dateTimeFormat","longFormatters","getTimezoneOffsetInMilliseconds","utcDate","protectedTokens","isProtectedDayOfYearToken","isProtectedWeekYearToken","throwProtectedError","protectedDayOfYearTokens","protectedWeekYearTokens","input","_index8","require$$7","_index9","require$$8","_index10","require$$9","formattingTokensRegExp","longFormattingTokensRegExp","escapedStringRegExp","doubleQuoteRegExp","unescapedLatinCharacterRegExp","dirtyFormatStr","formatStr","formatterOptions","substring","firstCharacter","longFormatter","cleanEscapedString","formatter","tzIntlTimeZoneName","length","dtf","getDTF","partsTimeZone","hackyTimeZone","formatted","i","tzNameMatch","timeZone","tzTokenizeDate","getDateTimeFormat","partsOffset","hackyOffset","typeToPos","filled","pos","parsed","dtfCache","testDateFormatted","hourCycleSupported","newDateUTC","fullYear","hour","minute","second","millisecond","tzParseTimezone","MILLISECONDS_IN_HOUR","MILLISECONDS_IN_MINUTE","patterns","timezoneString","isUtcDate","absoluteOffset","validateTimezone","isValidTimezoneIANAString","toUtcDate","calcOffset","fixedOffset","fixOffset","tokens","asUTC","asTS","over","localTS","utcGuess","o2","o3","validIANATimezoneCache","timeZoneString","getTimeZoneOffset","timeZoneOffset","dirtyDelimeter","delimeter","tzPattern","DEFAULT_ADDITIONAL_DIGITS","additionalDigits","dateStrings","splitDateString","parseYearResult","parseYear","restDateString","parseDate","time","parseTime","dateString","parts","timeString","patternYYY","patternYYYYY","yearString","centuryString","validateDate","validateDayOfYearDate","validateWeekDate","dayOfISOWeekYear","validateTime","seconds","fourthOfJanuaryDay","DAYS_IN_MONTH","DAYS_IN_MONTH_LEAP_YEAR","isLeapYearIndex","isLeapYear","tzFormattingTokensRegExp","matches","precededByQuotedSection","replaced","assign","target","dirtyObject","property","cloneObject","utcToZonedTime","offsetMilliseconds","d","resultDate","formatInTimeZone","extendedOptions","getTimezoneOffset","zonedTimeToUtc","utc","dateFnsTz","DAYS_IN_WEEK","MINUTES_IN_HOUR","MINUTES_IN_DAY","getDateInTimezone","utcOffset","userTimezone","toMinutes","getTodayConfig","workingHours","slot","isTimeWithinRange","currentMinutes","openMinutes","closeMinutes","getOpenDaysMap","checkTodayAvailability","currentDay","openDays","todayConfig","todayOpenMinutes","findNextSlot","daysAhead","targetDay","config","slotOpenMinutes","minutesUntilOpen","convertSlotToUserTimezone","inboxTz","slotDetails","userTz","now","openingTime","openingInUserTz","nowInUserTz","openingDate","todayDate","daysUntilOpen","isInWorkingHours","findNextAvailableSlotDetails","isOnline","workingHoursEnabled","hasOnlineAgents","DEFAULT_TIMEZONE","DEFAULT_REPLY_TIME","useAvailability","agents","availableAgents","toRef","channelConfig","inboxConfig","useCamelCase","currentTime","agentList","checkInWorkingHours","checkIsOnline","_sfc_main","Spinner","router","useRouter","mapGetters","getLanguageDirection","getLocale","mapActions","container","isFixedHeight","localeWithVariation","enabledLanguages","localeWithoutVariation","hasLocaleWithoutVariation","lang","routeName","campaignDetails","expireBy","addHours","messageCount","activeCampaign","shouldSnoozeCampaign","isCampaignReadyToExecute","unreadMessageCount","eventName","e","shouldShowMessageView","shouldShowHomeView","SDK_SET_BUBBLE_VISIBILITY","snoozedTill","_ctx","_createElementBlock","_normalizeClass","$setup","_createVNode","_component_Spinner","$data","_component_router_view","playNewMessageNotificationInWidget","isMessageInActiveConversation","conversationId","activeConversationId","ActionCableConnector","BaseActionCableConnector","app","pubsubToken","CHATWOOT_ON_MESSAGE","BUS_EVENTS","_createElementVNode","_createCommentVNode","FluentIcon","CONVERSATION_STATUS","origin","authToken","popoutChatWindow","_hoisted_2","$options","_openBlock","_hoisted_1","$props","_component_FluentIcon","props","__props","usersToDisplay","MINUTE_ROUNDING_INTERVAL","HOUR_THRESHOLD_FOR_EXACT_TIME","t","useI18n","dayNames","allDayClosed","replyTimeMessage","replyTimeKey","nextSlot","roundedMinutesUntilOpen","adjustedHoursUntilOpen","formattedOpeningTime","getTime","replyTime","isAvailable","headerText","onBackButtonClick","formatMessage","useMessageFormatter","containerClasses","Banner","Branding","ChatHeader","ChatHeaderExpanded","event","_cache","_withKeys","_createBlock","_component_ChatHeaderExpanded","_component_ChatHeader","_component_Banner","_component_Branding","createRouter","createWebHashHistory","ViewWithHeader","__vitePreload","to","from","next","i18n","createI18n","i18nMessages","createApp","App","VueDOMPurifyHTML","domPurifyConfig","onClickaway","plugin","defaultConfig","startsWithPlus","isPhoneNumberValidWithDialCode"],"ignoreList":[34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],"sources":["../../../app/javascript/widget/helpers/axios.js","../../../app/javascript/widget/api/events.js","../../../app/javascript/widget/api/endPoints.js","../../../app/javascript/widget/api/agent.js","../../../app/javascript/shared/helpers/cache.js","../../../app/javascript/widget/store/modules/agent.js","../../../app/javascript/widget/store/types.js","../../../app/javascript/widget/store/modules/appConfig.js","../../../app/javascript/widget/helpers/utils.js","../../../app/javascript/widget/api/contacts.js","../../../app/javascript/widget/store/modules/contacts.js","../../../app/javascript/widget/store/modules/conversation/helpers.js","../../../app/javascript/widget/store/modules/conversation/getters.js","../../../app/javascript/widget/api/conversation.js","../../../app/javascript/widget/constants/widgetBusEvents.js","../../../app/javascript/widget/store/modules/conversation/actions.js","../../../app/javascript/widget/store/modules/conversation/mutations.js","../../../app/javascript/widget/store/modules/conversation/index.js","../../../app/javascript/widget/store/modules/conversationAttributes.js","../../../app/javascript/widget/api/conversationLabels.js","../../../app/javascript/widget/store/modules/conversationLabels.js","../../../app/javascript/widget/store/modules/events.js","../../../app/javascript/widget/api/message.js","../../../app/javascript/widget/store/modules/message.js","../../../app/javascript/widget/api/campaign.js","../../../app/javascript/widget/helpers/campaignTimer.js","../../../app/javascript/widget/helpers/campaignHelper.js","../../../app/javascript/widget/store/modules/campaign.js","../../../app/javascript/widget/api/article.js","../../../app/javascript/widget/store/modules/articles.js","../../../app/javascript/widget/store/index.js","../../../app/javascript/widget/mixins/configMixin.js","../../../app/javascript/widget/helpers/IframeEventHelper.js","../../../app/javascript/widget/composables/useDarkMode.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/requiredArgs/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/toDate/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/isValid/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/locale/en-US/_lib/formatDistance/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/locale/_lib/buildFormatLongFn/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/locale/en-US/_lib/formatLong/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/locale/en-US/_lib/formatRelative/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/locale/_lib/buildLocalizeFn/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/locale/en-US/_lib/localize/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/locale/_lib/buildMatchPatternFn/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/locale/_lib/buildMatchFn/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/locale/en-US/_lib/match/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/locale/en-US/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/toInteger/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/addMilliseconds/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/subMilliseconds/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/addLeadingZeros/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/format/lightFormatters/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/getUTCDayOfYear/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/startOfUTCISOWeek/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/getUTCISOWeekYear/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/startOfUTCISOWeekYear/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/getUTCISOWeek/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/startOfUTCWeek/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/getUTCWeekYear/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/startOfUTCWeekYear/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/getUTCWeek/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/format/formatters/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/format/longFormatters/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/protectedTokens/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/format/index.js","../../../node_modules/.pnpm/date-fns-tz@1.3.8_date-fns@2.21.1/node_modules/date-fns-tz/_lib/tzIntlTimeZoneName/index.js","../../../node_modules/.pnpm/date-fns-tz@1.3.8_date-fns@2.21.1/node_modules/date-fns-tz/_lib/tzTokenizeDate/index.js","../../../node_modules/.pnpm/date-fns-tz@1.3.8_date-fns@2.21.1/node_modules/date-fns-tz/_lib/newDateUTC/index.js","../../../node_modules/.pnpm/date-fns-tz@1.3.8_date-fns@2.21.1/node_modules/date-fns-tz/_lib/tzParseTimezone/index.js","../../../node_modules/.pnpm/date-fns-tz@1.3.8_date-fns@2.21.1/node_modules/date-fns-tz/format/formatters/index.js","../../../node_modules/.pnpm/date-fns-tz@1.3.8_date-fns@2.21.1/node_modules/date-fns-tz/_lib/tzPattern/index.js","../../../node_modules/.pnpm/date-fns-tz@1.3.8_date-fns@2.21.1/node_modules/date-fns-tz/toDate/index.js","../../../node_modules/.pnpm/date-fns-tz@1.3.8_date-fns@2.21.1/node_modules/date-fns-tz/format/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/assign/index.js","../../../node_modules/.pnpm/date-fns@2.21.1/node_modules/date-fns/_lib/cloneObject/index.js","../../../node_modules/.pnpm/date-fns-tz@1.3.8_date-fns@2.21.1/node_modules/date-fns-tz/utcToZonedTime/index.js","../../../node_modules/.pnpm/date-fns-tz@1.3.8_date-fns@2.21.1/node_modules/date-fns-tz/formatInTimeZone/index.js","../../../node_modules/.pnpm/date-fns-tz@1.3.8_date-fns@2.21.1/node_modules/date-fns-tz/getTimezoneOffset/index.js","../../../node_modules/.pnpm/date-fns-tz@1.3.8_date-fns@2.21.1/node_modules/date-fns-tz/zonedTimeToUtc/index.js","../../../node_modules/.pnpm/date-fns-tz@1.3.8_date-fns@2.21.1/node_modules/date-fns-tz/index.js","../../../app/javascript/widget/helpers/availabilityHelpers.js","../../../app/javascript/widget/composables/useAvailability.js","../../../app/javascript/widget/App.vue","../../../app/javascript/widget/helpers/WidgetAudioNotificationHelper.js","../../../app/javascript/widget/helpers/actionCable.js","../../../app/javascript/widget/components/Banner.vue","../../../app/javascript/widget/components/HeaderActions.vue","../../../app/javascript/widget/components/GroupedAvatars.vue","../../../app/javascript/widget/components/Availability/AvailabilityText.vue","../../../app/javascript/widget/components/Availability/AvailabilityContainer.vue","../../../app/javascript/widget/components/ChatHeader.vue","../../../app/javascript/widget/components/ChatHeaderExpanded.vue","../../../app/javascript/widget/components/layouts/ViewWithHeader.vue","../../../app/javascript/widget/router.js","../../../app/javascript/entrypoints/widget.js"],"sourcesContent":["import axios from 'axios';\nimport { APP_BASE_URL } from 'widget/helpers/constants';\n\nexport const API = axios.create({\n  baseURL: APP_BASE_URL,\n  withCredentials: false,\n});\n\nexport const setHeader = (value, key = 'X-Auth-Token') => {\n  API.defaults.headers.common[key] = value;\n};\n\nexport const removeHeader = key => {\n  delete API.defaults.headers.common[key];\n};\n","import { API } from 'widget/helpers/axios';\nimport { buildSearchParamsWithLocale } from '../helpers/urlParamsHelper';\n\nexport const generateEventParams = () => ({\n  initiated_at: {\n    timestamp: new Date().toString(),\n  },\n  referer: window.referrerURL || '',\n});\n\nexport default {\n  create(name) {\n    const search = buildSearchParamsWithLocale(window.location.search);\n    return API.post(`/api/v1/widget/events${search}`, {\n      name,\n      event_info: generateEventParams(),\n    });\n  },\n};\n","import { buildSearchParamsWithLocale } from '../helpers/urlParamsHelper';\nimport { generateEventParams } from './events';\n\nconst createConversation = params => {\n  const referrerURL = window.referrerURL || '';\n  const search = buildSearchParamsWithLocale(window.location.search);\n  return {\n    url: `/api/v1/widget/conversations${search}`,\n    params: {\n      contact: {\n        name: params.fullName,\n        email: params.emailAddress,\n        phone_number: params.phoneNumber,\n      },\n      message: {\n        content: params.message,\n        timestamp: new Date().toString(),\n        referer_url: referrerURL,\n      },\n      custom_attributes: params.customAttributes,\n    },\n  };\n};\n\nconst sendMessage = (content, replyTo) => {\n  const referrerURL = window.referrerURL || '';\n  const search = buildSearchParamsWithLocale(window.location.search);\n  return {\n    url: `/api/v1/widget/messages${search}`,\n    params: {\n      message: {\n        content,\n        reply_to: replyTo,\n        timestamp: new Date().toString(),\n        referer_url: referrerURL,\n      },\n    },\n  };\n};\n\nconst sendAttachment = ({ attachment, replyTo = null }) => {\n  const { referrerURL = '' } = window;\n  const timestamp = new Date().toString();\n  const { file } = attachment;\n\n  const formData = new FormData();\n  if (typeof file === 'string') {\n    formData.append('message[attachments][]', file);\n  } else {\n    formData.append('message[attachments][]', file, file.name);\n  }\n\n  formData.append('message[referer_url]', referrerURL);\n  formData.append('message[timestamp]', timestamp);\n  if (replyTo !== null) {\n    formData.append('message[reply_to]', replyTo);\n  }\n  return {\n    url: `/api/v1/widget/messages${window.location.search}`,\n    params: formData,\n  };\n};\n\nconst getConversation = ({ before, after }) => ({\n  url: `/api/v1/widget/messages${window.location.search}`,\n  params: { before, after },\n});\n\nconst updateMessage = id => ({\n  url: `/api/v1/widget/messages/${id}${window.location.search}`,\n});\n\nconst getAvailableAgents = token => ({\n  url: '/api/v1/widget/inbox_members',\n  params: {\n    website_token: token,\n  },\n});\nconst getCampaigns = token => ({\n  url: '/api/v1/widget/campaigns',\n  params: {\n    website_token: token,\n  },\n});\nconst triggerCampaign = ({ websiteToken, campaignId, customAttributes }) => ({\n  url: '/api/v1/widget/events',\n  data: {\n    name: 'campaign.triggered',\n    event_info: {\n      campaign_id: campaignId,\n      custom_attributes: customAttributes,\n      ...generateEventParams(),\n    },\n  },\n  params: {\n    website_token: websiteToken,\n  },\n});\n\nconst getMostReadArticles = (slug, locale) => ({\n  url: `/hc/${slug}/${locale}/articles.json`,\n  params: {\n    page: 1,\n    sort: 'views',\n    status: 1,\n    per_page: 6,\n  },\n});\n\nexport default {\n  createConversation,\n  sendMessage,\n  sendAttachment,\n  getConversation,\n  updateMessage,\n  getAvailableAgents,\n  getCampaigns,\n  triggerCampaign,\n  getMostReadArticles,\n};\n","import endPoints from 'widget/api/endPoints';\nimport { API } from 'widget/helpers/axios';\n\nexport const getAvailableAgents = async websiteToken => {\n  const urlData = endPoints.getAvailableAgents(websiteToken);\n  return API.get(urlData.url, { params: urlData.params });\n};\n","import { LocalStorage } from './localStorage';\n\n// Default cache expiry is 24 hours\nconst DEFAULT_EXPIRY = 24 * 60 * 60 * 1000;\n\nexport const getFromCache = (key, expiry = DEFAULT_EXPIRY) => {\n  try {\n    const cached = LocalStorage.get(key);\n    if (!cached) return null;\n\n    const { data, timestamp } = cached;\n    const isExpired = Date.now() - timestamp > expiry;\n\n    if (isExpired) {\n      LocalStorage.remove(key);\n      return null;\n    }\n\n    return data;\n  } catch (error) {\n    return null;\n  }\n};\n\nexport const setCache = (key, data) => {\n  try {\n    const cacheData = {\n      data,\n      timestamp: Date.now(),\n    };\n    LocalStorage.set(key, cacheData);\n  } catch (error) {\n    // Ignore cache errors\n  }\n};\n\nexport const clearCache = key => {\n  try {\n    LocalStorage.remove(key);\n  } catch (error) {\n    // Ignore cache errors\n  }\n};\n","import { getAvailableAgents } from 'widget/api/agent';\nimport * as MutationHelpers from 'shared/helpers/vuex/mutationHelpers';\nimport { getFromCache, setCache } from 'shared/helpers/cache';\n\nconst state = {\n  records: [],\n  uiFlags: {\n    isError: false,\n    hasFetched: false,\n  },\n};\n\nexport const getters = {\n  getHasFetched: $state => $state.uiFlags.hasFetched,\n  availableAgents: $state =>\n    $state.records.filter(agent => agent.availability_status === 'online'),\n};\n\nconst CACHE_KEY_PREFIX = 'chatwoot_available_agents_';\n\nexport const actions = {\n  fetchAvailableAgents: async ({ commit }, websiteToken) => {\n    try {\n      const cachedData = getFromCache(`${CACHE_KEY_PREFIX}${websiteToken}`);\n      if (cachedData) {\n        commit('setAgents', cachedData);\n        commit('setError', false);\n        commit('setHasFetched', true);\n        return;\n      }\n\n      const { data } = await getAvailableAgents(websiteToken);\n      const { payload = [] } = data;\n      setCache(`${CACHE_KEY_PREFIX}${websiteToken}`, payload);\n      commit('setAgents', payload);\n      commit('setError', false);\n      commit('setHasFetched', true);\n    } catch (error) {\n      commit('setError', true);\n      commit('setHasFetched', true);\n    }\n  },\n  updatePresence: async ({ commit }, data) => {\n    commit('updatePresence', data);\n  },\n};\n\nexport const mutations = {\n  setAgents($state, data) {\n    $state.records = data;\n  },\n  updatePresence: MutationHelpers.updatePresence,\n  setError($state, value) {\n    $state.uiFlags.isError = value;\n  },\n  setHasFetched($state, value) {\n    $state.uiFlags.hasFetched = value;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations,\n};\n","export const CLEAR_CONVERSATION_ATTRIBUTES = 'CLEAR_CONVERSATION_ATTRIBUTES';\nexport const SET_CONVERSATION_ATTRIBUTES = 'SET_CONVERSATION_ATTRIBUTES';\nexport const SET_WIDGET_APP_CONFIG = 'SET_WIDGET_APP_CONFIG';\nexport const SET_WIDGET_COLOR = 'SET_WIDGET_COLOR';\nexport const SET_COLOR_SCHEME = 'SET_COLOR_SCHEME';\nexport const UPDATE_CONVERSATION_ATTRIBUTES = 'UPDATE_CONVERSATION_ATTRIBUTES';\nexport const TOGGLE_WIDGET_OPEN = 'TOGGLE_WIDGET_OPEN';\nexport const SET_REFERRER_HOST = 'SET_REFERRER_HOST';\nexport const SET_BUBBLE_VISIBILITY = 'SET_BUBBLE_VISIBILITY';\nexport const SET_ROUTE_UPDATE_STATE = 'SET_ROUTE_UPDATE_STATE';\n","import {\n  SET_BUBBLE_VISIBILITY,\n  SET_COLOR_SCHEME,\n  SET_REFERRER_HOST,\n  SET_WIDGET_APP_CONFIG,\n  SET_WIDGET_COLOR,\n  TOGGLE_WIDGET_OPEN,\n  SET_ROUTE_UPDATE_STATE,\n} from '../types';\n\nconst state = {\n  hideMessageBubble: false,\n  isCampaignViewClicked: false,\n  showUnreadMessagesDialog: true,\n  isWebWidgetTriggered: false,\n  isWidgetOpen: false,\n  position: 'right',\n  referrerHost: '',\n  showPopoutButton: false,\n  widgetColor: '',\n  widgetStyle: 'standard',\n  darkMode: 'light',\n  isUpdatingRoute: false,\n  welcomeTitle: '',\n  welcomeDescription: '',\n  availableMessage: '',\n  unavailableMessage: '',\n  enableFileUpload: true,\n  enableEmojiPicker: true,\n  enableEndConversation: true,\n};\n\nexport const getters = {\n  getAppConfig: $state => $state,\n  isRightAligned: $state => $state.position === 'right',\n  getHideMessageBubble: $state => $state.hideMessageBubble,\n  getIsWidgetOpen: $state => $state.isWidgetOpen,\n  getWidgetColor: $state => $state.widgetColor,\n  getReferrerHost: $state => $state.referrerHost,\n  isWidgetStyleFlat: $state => $state.widgetStyle === 'flat',\n  darkMode: $state => $state.darkMode,\n  getShowUnreadMessagesDialog: $state => $state.showUnreadMessagesDialog,\n  getIsUpdatingRoute: _state => _state.isUpdatingRoute,\n  getWelcomeHeading: $state => $state.welcomeTitle,\n  getWelcomeTagline: $state => $state.welcomeDescription,\n  getAvailableMessage: $state => $state.availableMessage,\n  getUnavailableMessage: $state => $state.unavailableMessage,\n  getShouldShowFilePicker: $state => $state.enableFileUpload,\n  getShouldShowEmojiPicker: $state => $state.enableEmojiPicker,\n  getCanUserEndConversation: $state => $state.enableEndConversation,\n};\n\nexport const actions = {\n  setAppConfig(\n    { commit },\n    {\n      showPopoutButton,\n      position,\n      hideMessageBubble,\n      showUnreadMessagesDialog,\n      widgetStyle = 'rounded',\n      darkMode = 'light',\n      welcomeTitle = '',\n      welcomeDescription = '',\n      availableMessage = '',\n      unavailableMessage = '',\n      enableFileUpload = true,\n      enableEmojiPicker = true,\n      enableEndConversation = true,\n    }\n  ) {\n    commit(SET_WIDGET_APP_CONFIG, {\n      hideMessageBubble: !!hideMessageBubble,\n      position: position || 'right',\n      showPopoutButton: !!showPopoutButton,\n      showUnreadMessagesDialog: !!showUnreadMessagesDialog,\n      widgetStyle,\n      darkMode,\n      welcomeTitle,\n      welcomeDescription,\n      availableMessage,\n      unavailableMessage,\n      enableFileUpload,\n      enableEmojiPicker,\n      enableEndConversation,\n    });\n  },\n  toggleWidgetOpen({ commit }, isWidgetOpen) {\n    commit(TOGGLE_WIDGET_OPEN, isWidgetOpen);\n  },\n  setWidgetColor({ commit }, widgetColor) {\n    commit(SET_WIDGET_COLOR, widgetColor);\n  },\n  setColorScheme({ commit }, darkMode) {\n    commit(SET_COLOR_SCHEME, darkMode);\n  },\n  setReferrerHost({ commit }, referrerHost) {\n    commit(SET_REFERRER_HOST, referrerHost);\n  },\n  setBubbleVisibility({ commit }, hideMessageBubble) {\n    commit(SET_BUBBLE_VISIBILITY, hideMessageBubble);\n  },\n  setRouteTransitionState: async ({ commit }, status) => {\n    // Handles the routing state during navigation to different screen\n    // Called before the navigation starts and after navigation completes\n    // Handling this state in app/javascript/widget/router.js\n    // See issue: https://github.com/chatwoot/chatwoot/issues/10736\n    commit(SET_ROUTE_UPDATE_STATE, status);\n  },\n};\n\nexport const mutations = {\n  [SET_WIDGET_APP_CONFIG]($state, data) {\n    $state.showPopoutButton = data.showPopoutButton;\n    $state.position = data.position;\n    $state.hideMessageBubble = data.hideMessageBubble;\n    $state.widgetStyle = data.widgetStyle;\n    $state.darkMode = data.darkMode;\n    $state.locale = data.locale || $state.locale;\n    $state.showUnreadMessagesDialog = data.showUnreadMessagesDialog;\n    $state.welcomeTitle = data.welcomeTitle;\n    $state.welcomeDescription = data.welcomeDescription;\n    $state.availableMessage = data.availableMessage;\n    $state.unavailableMessage = data.unavailableMessage;\n    $state.enableFileUpload = data.enableFileUpload;\n    $state.enableEmojiPicker = data.enableEmojiPicker;\n    $state.enableEndConversation = data.enableEndConversation;\n  },\n  [TOGGLE_WIDGET_OPEN]($state, isWidgetOpen) {\n    $state.isWidgetOpen = isWidgetOpen;\n  },\n  [SET_WIDGET_COLOR]($state, widgetColor) {\n    $state.widgetColor = widgetColor;\n  },\n  [SET_REFERRER_HOST]($state, referrerHost) {\n    $state.referrerHost = referrerHost;\n  },\n  [SET_BUBBLE_VISIBILITY]($state, hideMessageBubble) {\n    $state.hideMessageBubble = hideMessageBubble;\n  },\n  [SET_COLOR_SCHEME]($state, darkMode) {\n    $state.darkMode = darkMode;\n  },\n  [SET_ROUTE_UPDATE_STATE]($state, status) {\n    $state.isUpdatingRoute = status;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations,\n};\n","import { WOOT_PREFIX } from './constants';\n\nexport const isEmptyObject = obj => {\n  if (!obj) return true;\n  return Object.keys(obj).length === 0 && obj.constructor === Object;\n};\n\nexport const sendMessage = msg => {\n  window.parent.postMessage(\n    `chatwoot-widget:${JSON.stringify({ ...msg })}`,\n    '*'\n  );\n};\n\nexport const IFrameHelper = {\n  isIFrame: () => window.self !== window.top,\n  sendMessage,\n  isAValidEvent: e => {\n    const isDataAString = typeof e.data === 'string';\n    return isDataAString && e.data.indexOf(WOOT_PREFIX) === 0;\n  },\n  getMessage: e => JSON.parse(e.data.replace(WOOT_PREFIX, '')),\n};\nexport const RNHelper = {\n  isRNWebView: () => window.ReactNativeWebView,\n  sendMessage: msg => {\n    window.ReactNativeWebView.postMessage(\n      `chatwoot-widget:${JSON.stringify({ ...msg })}`\n    );\n  },\n};\n\nexport const groupBy = (array, predicate) => {\n  return array.reduce((acc, value) => {\n    (acc[predicate(value)] ||= []).push(value);\n    return acc;\n  }, {});\n};\n","import { API } from 'widget/helpers/axios';\n\nconst buildUrl = endPoint => `/api/v1/${endPoint}${window.location.search}`;\n\nexport default {\n  get() {\n    return API.get(buildUrl('widget/contact'));\n  },\n  update(userObject) {\n    return API.patch(buildUrl('widget/contact'), userObject);\n  },\n  setUser(identifier, userObject) {\n    return API.patch(buildUrl('widget/contact/set_user'), {\n      identifier,\n      ...userObject,\n    });\n  },\n  setCustomAttributes(customAttributes = {}) {\n    return API.patch(buildUrl('widget/contact'), {\n      custom_attributes: customAttributes,\n    });\n  },\n  deleteCustomAttribute(customAttribute) {\n    return API.post(buildUrl('widget/contact/destroy_custom_attributes'), {\n      custom_attributes: [customAttribute],\n    });\n  },\n};\n","import { sendMessage } from 'widget/helpers/utils';\nimport ContactsAPI from '../../api/contacts';\nimport { SET_USER_ERROR } from '../../constants/errorTypes';\nimport { setHeader } from '../../helpers/axios';\nconst state = {\n  currentUser: {},\n};\n\nconst SET_CURRENT_USER = 'SET_CURRENT_USER';\nconst parseErrorData = error =>\n  error && error.response && error.response.data ? error.response.data : error;\nexport const updateWidgetAuthToken = widgetAuthToken => {\n  if (widgetAuthToken) {\n    setHeader(widgetAuthToken);\n    sendMessage({\n      event: 'setAuthCookie',\n      data: { widgetAuthToken },\n    });\n  }\n};\n\nexport const getters = {\n  getCurrentUser(_state) {\n    return _state.currentUser;\n  },\n};\n\nexport const actions = {\n  get: async ({ commit }) => {\n    try {\n      const { data } = await ContactsAPI.get();\n      commit(SET_CURRENT_USER, data);\n    } catch (error) {\n      // Ignore error\n    }\n  },\n  update: async ({ dispatch }, { user }) => {\n    try {\n      await ContactsAPI.update(user);\n      dispatch('get');\n    } catch (error) {\n      // Ignore error\n    }\n  },\n  setUser: async ({ dispatch }, { identifier, user: userObject }) => {\n    try {\n      const {\n        email,\n        name,\n        avatar_url,\n        identifier_hash: identifierHash,\n        phone_number,\n        company_name,\n        city,\n        country_code,\n        description,\n        custom_attributes,\n        social_profiles,\n      } = userObject;\n      const user = {\n        email,\n        name,\n        avatar_url,\n        identifier_hash: identifierHash,\n        phone_number,\n        additional_attributes: {\n          company_name,\n          city,\n          description,\n          country_code,\n          social_profiles,\n        },\n        custom_attributes,\n      };\n      const {\n        data: { widget_auth_token: widgetAuthToken },\n      } = await ContactsAPI.setUser(identifier, user);\n      updateWidgetAuthToken(widgetAuthToken);\n      dispatch('get');\n      if (identifierHash || widgetAuthToken) {\n        dispatch('conversation/clearConversations', {}, { root: true });\n        dispatch('conversation/fetchOldConversations', {}, { root: true });\n        dispatch('conversationAttributes/getAttributes', {}, { root: true });\n      }\n    } catch (error) {\n      const data = parseErrorData(error);\n      sendMessage({ event: 'error', errorType: SET_USER_ERROR, data });\n    }\n  },\n  setCustomAttributes: async (_, customAttributes = {}) => {\n    try {\n      await ContactsAPI.setCustomAttributes(customAttributes);\n    } catch (error) {\n      // Ignore error\n    }\n  },\n  deleteCustomAttribute: async (_, customAttribute) => {\n    try {\n      await ContactsAPI.deleteCustomAttribute(customAttribute);\n    } catch (error) {\n      // Ignore error\n    }\n  },\n};\n\nexport const mutations = {\n  [SET_CURRENT_USER]($state, user) {\n    const { currentUser } = $state;\n    $state.currentUser = { ...currentUser, ...user };\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations,\n};\n","import { MESSAGE_TYPE } from 'widget/helpers/constants';\nimport { isASubmittedFormMessage } from 'shared/helpers/MessageTypeHelper';\n\nimport getUuid from '../../../helpers/uuid';\nexport const createTemporaryMessage = ({ attachments, content, replyTo }) => {\n  const timestamp = new Date().getTime() / 1000;\n  return {\n    id: getUuid(),\n    content,\n    attachments,\n    status: 'in_progress',\n    replyTo,\n    created_at: timestamp,\n    message_type: MESSAGE_TYPE.INCOMING,\n  };\n};\n\nconst getSenderName = message => (message.sender ? message.sender.name : '');\n\nconst shouldShowAvatar = (message, nextMessage) => {\n  const currentSender = getSenderName(message);\n  const nextSender = getSenderName(nextMessage);\n\n  return (\n    currentSender !== nextSender ||\n    message.message_type !== nextMessage.message_type ||\n    isASubmittedFormMessage(nextMessage)\n  );\n};\n\nexport const groupConversationBySender = conversationsForADate =>\n  conversationsForADate.map((message, index) => {\n    let showAvatar;\n    const isLastMessage = index === conversationsForADate.length - 1;\n    if (isASubmittedFormMessage(message)) {\n      showAvatar = false;\n    } else if (isLastMessage) {\n      showAvatar = true;\n    } else {\n      const nextMessage = conversationsForADate[index + 1];\n      showAvatar = shouldShowAvatar(message, nextMessage);\n    }\n    return { showAvatar, ...message };\n  });\n\nexport const findUndeliveredMessage = (messageInbox, { content }) =>\n  Object.values(messageInbox).filter(\n    message => message.content === content && message.status === 'in_progress'\n  );\n\nexport const getNonDeletedMessages = ({ messages }) => {\n  return messages.filter(\n    item => !(item.content_attributes && item.content_attributes.deleted)\n  );\n};\n","import { MESSAGE_TYPE } from 'widget/helpers/constants';\nimport { groupBy } from 'widget/helpers/utils';\nimport { groupConversationBySender } from './helpers';\nimport { formatUnixDate } from 'shared/helpers/DateHelper';\n\nexport const getters = {\n  getAllMessagesLoaded: _state => _state.uiFlags.allMessagesLoaded,\n  getIsCreating: _state => _state.uiFlags.isCreating,\n  getIsAgentTyping: _state => _state.uiFlags.isAgentTyping,\n  getConversation: _state => _state.conversations,\n  getConversationSize: _state => Object.keys(_state.conversations).length,\n  getEarliestMessage: _state => {\n    const conversation = Object.values(_state.conversations);\n    if (conversation.length) {\n      return conversation[0];\n    }\n    return {};\n  },\n  getLastMessage: _state => {\n    const conversation = Object.values(_state.conversations);\n    if (conversation.length) {\n      return conversation[conversation.length - 1];\n    }\n    return {};\n  },\n  getGroupedConversation: _state => {\n    const conversationGroupedByDate = groupBy(\n      Object.values(_state.conversations),\n      message => formatUnixDate(message.created_at)\n    );\n    return Object.keys(conversationGroupedByDate).map(date => ({\n      date,\n      messages: groupConversationBySender(conversationGroupedByDate[date]),\n    }));\n  },\n  getIsFetchingList: _state => _state.uiFlags.isFetchingList,\n  getMessageCount: _state => {\n    return Object.values(_state.conversations).length;\n  },\n  getUnreadMessageCount: _state => {\n    const { userLastSeenAt } = _state.meta;\n    return Object.values(_state.conversations).filter(chat => {\n      const { created_at: createdAt, message_type: messageType } = chat;\n      const isOutGoing = messageType === MESSAGE_TYPE.OUTGOING;\n      const hasNotSeen = userLastSeenAt\n        ? createdAt * 1000 > userLastSeenAt * 1000\n        : true;\n      return hasNotSeen && isOutGoing;\n    }).length;\n  },\n  getUnreadTextMessages: (_state, _getters) => {\n    const unreadCount = _getters.getUnreadMessageCount;\n    const allMessages = [...Object.values(_state.conversations)];\n    const unreadAgentMessages = allMessages.filter(message => {\n      const { message_type: messageType } = message;\n      return messageType === MESSAGE_TYPE.OUTGOING;\n    });\n    const maxUnreadCount = Math.min(unreadCount, 3);\n    return unreadAgentMessages.splice(-maxUnreadCount);\n  },\n};\n","import endPoints from 'widget/api/endPoints';\nimport { API } from 'widget/helpers/axios';\n\nconst createConversationAPI = async content => {\n  const urlData = endPoints.createConversation(content);\n  return API.post(urlData.url, urlData.params);\n};\n\nconst sendMessageAPI = async (content, replyTo = null) => {\n  const urlData = endPoints.sendMessage(content, replyTo);\n  return API.post(urlData.url, urlData.params);\n};\n\nconst sendAttachmentAPI = async (attachment, replyTo = null) => {\n  const urlData = endPoints.sendAttachment(attachment, replyTo);\n  return API.post(urlData.url, urlData.params);\n};\n\nconst getMessagesAPI = async ({ before, after }) => {\n  const urlData = endPoints.getConversation({ before, after });\n  return API.get(urlData.url, { params: urlData.params });\n};\n\nconst getConversationAPI = async () => {\n  return API.get(`/api/v1/widget/conversations${window.location.search}`);\n};\n\nconst toggleTyping = async ({ typingStatus }) => {\n  return API.post(\n    `/api/v1/widget/conversations/toggle_typing${window.location.search}`,\n    { typing_status: typingStatus }\n  );\n};\n\nconst setUserLastSeenAt = async ({ lastSeen }) => {\n  return API.post(\n    `/api/v1/widget/conversations/update_last_seen${window.location.search}`,\n    { contact_last_seen_at: lastSeen }\n  );\n};\nconst sendEmailTranscript = async () => {\n  return API.post(\n    `/api/v1/widget/conversations/transcript${window.location.search}`\n  );\n};\nconst toggleStatus = async () => {\n  return API.get(\n    `/api/v1/widget/conversations/toggle_status${window.location.search}`\n  );\n};\n\nconst setCustomAttributes = async customAttributes => {\n  return API.post(\n    `/api/v1/widget/conversations/set_custom_attributes${window.location.search}`,\n    {\n      custom_attributes: customAttributes,\n    }\n  );\n};\n\nconst deleteCustomAttribute = async customAttribute => {\n  return API.post(\n    `/api/v1/widget/conversations/destroy_custom_attributes${window.location.search}`,\n    {\n      custom_attribute: [customAttribute],\n    }\n  );\n};\n\nexport {\n  createConversationAPI,\n  sendMessageAPI,\n  getConversationAPI,\n  getMessagesAPI,\n  sendAttachmentAPI,\n  toggleTyping,\n  setUserLastSeenAt,\n  sendEmailTranscript,\n  toggleStatus,\n  setCustomAttributes,\n  deleteCustomAttribute,\n};\n","export const ON_AGENT_MESSAGE_RECEIVED = 'ON_AGENT_MESSAGE_RECEIVED';\nexport const ON_UNREAD_MESSAGE_CLICK = 'ON_UNREAD_MESSAGE_CLICK';\nexport const ON_CAMPAIGN_MESSAGE_CLICK = 'ON_CAMPAIGN_MESSAGE_CLICK';\nexport const ON_CONVERSATION_CREATED = 'ON_CONVERSATION_CREATED';\n","import {\n  createConversationAPI,\n  sendMessageAPI,\n  getMessagesAPI,\n  sendAttachmentAPI,\n  toggleTyping,\n  setUserLastSeenAt,\n  toggleStatus,\n  setCustomAttributes,\n  deleteCustomAttribute,\n} from 'widget/api/conversation';\n\nimport { ON_CONVERSATION_CREATED } from 'widget/constants/widgetBusEvents';\nimport { createTemporaryMessage, getNonDeletedMessages } from './helpers';\nimport { emitter } from 'shared/helpers/mitt';\nexport const actions = {\n  createConversation: async ({ commit, dispatch }, params) => {\n    commit('setConversationUIFlag', { isCreating: true });\n    try {\n      const { data } = await createConversationAPI(params);\n      const { messages } = data;\n      const [message = {}] = messages;\n      commit('pushMessageToConversation', message);\n      dispatch('conversationAttributes/getAttributes', {}, { root: true });\n      // Emit event to notify that conversation is created and show the chat screen\n      emitter.emit(ON_CONVERSATION_CREATED);\n    } catch (error) {\n      // Ignore error\n    } finally {\n      commit('setConversationUIFlag', { isCreating: false });\n    }\n  },\n  sendMessage: async ({ dispatch }, params) => {\n    const { content, replyTo } = params;\n    const message = createTemporaryMessage({ content, replyTo });\n    dispatch('sendMessageWithData', message);\n  },\n  sendMessageWithData: async ({ commit }, message) => {\n    const { id, content, replyTo, meta = {} } = message;\n\n    commit('pushMessageToConversation', message);\n    commit('updateMessageMeta', { id, meta: { ...meta, error: '' } });\n    try {\n      const { data } = await sendMessageAPI(content, replyTo);\n\n      // [VITE] Don't delete this manually, since `pushMessageToConversation` does the replacement for us anyway\n      // commit('deleteMessage', message.id);\n      commit('pushMessageToConversation', { ...data, status: 'sent' });\n    } catch (error) {\n      commit('pushMessageToConversation', { ...message, status: 'failed' });\n      commit('updateMessageMeta', {\n        id,\n        meta: { ...meta, error: '' },\n      });\n    }\n  },\n\n  setLastMessageId: async ({ commit }) => {\n    commit('setLastMessageId');\n  },\n\n  sendAttachment: async ({ commit }, params) => {\n    const {\n      attachment: { thumbUrl, fileType },\n      meta = {},\n    } = params;\n    const attachment = {\n      thumb_url: thumbUrl,\n      data_url: thumbUrl,\n      file_type: fileType,\n      status: 'in_progress',\n    };\n    const tempMessage = createTemporaryMessage({\n      attachments: [attachment],\n      replyTo: params.replyTo,\n    });\n    commit('pushMessageToConversation', tempMessage);\n    try {\n      const { data } = await sendAttachmentAPI(params);\n      commit('updateAttachmentMessageStatus', {\n        message: data,\n        tempId: tempMessage.id,\n      });\n      commit('pushMessageToConversation', { ...data, status: 'sent' });\n    } catch (error) {\n      commit('pushMessageToConversation', { ...tempMessage, status: 'failed' });\n      commit('updateMessageMeta', {\n        id: tempMessage.id,\n        meta: { ...meta, error: '' },\n      });\n      // Show error\n    }\n  },\n  fetchOldConversations: async ({ commit }, { before } = {}) => {\n    try {\n      commit('setConversationListLoading', true);\n      const {\n        data: { payload, meta },\n      } = await getMessagesAPI({ before });\n      const { contact_last_seen_at: lastSeen } = meta;\n      const formattedMessages = getNonDeletedMessages({ messages: payload });\n      commit('conversation/setMetaUserLastSeenAt', lastSeen, { root: true });\n      commit('setMessagesInConversation', formattedMessages);\n      commit('setConversationListLoading', false);\n    } catch (error) {\n      commit('setConversationListLoading', false);\n    }\n  },\n\n  syncLatestMessages: async ({ state, commit }) => {\n    try {\n      const { lastMessageId, conversations } = state;\n\n      const {\n        data: { payload, meta },\n      } = await getMessagesAPI({ after: lastMessageId });\n\n      const { contact_last_seen_at: lastSeen } = meta;\n      const formattedMessages = getNonDeletedMessages({ messages: payload });\n      const missingMessages = formattedMessages.filter(\n        message => conversations?.[message.id] === undefined\n      );\n      if (!missingMessages.length) return;\n      missingMessages.forEach(message => {\n        conversations[message.id] = message;\n      });\n      // Sort conversation messages by created_at\n      const updatedConversation = Object.fromEntries(\n        Object.entries(conversations).sort(\n          (a, b) => a[1].created_at - b[1].created_at\n        )\n      );\n      commit('conversation/setMetaUserLastSeenAt', lastSeen, { root: true });\n      commit('setMissingMessagesInConversation', updatedConversation);\n    } catch (error) {\n      // IgnoreError\n    }\n  },\n\n  clearConversations: ({ commit }) => {\n    commit('clearConversations');\n  },\n\n  addOrUpdateMessage: async ({ commit }, data) => {\n    const { id, content_attributes } = data;\n    if (content_attributes && content_attributes.deleted) {\n      commit('deleteMessage', id);\n      return;\n    }\n    commit('pushMessageToConversation', data);\n  },\n\n  toggleAgentTyping({ commit }, data) {\n    commit('toggleAgentTypingStatus', data);\n  },\n\n  toggleUserTyping: async (_, data) => {\n    try {\n      await toggleTyping(data);\n    } catch (error) {\n      // IgnoreError\n    }\n  },\n\n  setUserLastSeen: async ({ commit, getters: appGetters }) => {\n    if (!appGetters.getConversationSize) {\n      return;\n    }\n\n    const lastSeen = Date.now() / 1000;\n    try {\n      commit('setMetaUserLastSeenAt', lastSeen);\n      await setUserLastSeenAt({ lastSeen });\n    } catch (error) {\n      // IgnoreError\n    }\n  },\n\n  resolveConversation: async () => {\n    await toggleStatus();\n  },\n\n  setCustomAttributes: async (_, customAttributes = {}) => {\n    try {\n      await setCustomAttributes(customAttributes);\n    } catch (error) {\n      // IgnoreError\n    }\n  },\n\n  deleteCustomAttribute: async (_, customAttribute) => {\n    try {\n      await deleteCustomAttribute(customAttribute);\n    } catch (error) {\n      // IgnoreError\n    }\n  },\n};\n","import { MESSAGE_TYPE } from 'widget/helpers/constants';\nimport { findUndeliveredMessage } from './helpers';\n\nexport const mutations = {\n  clearConversations($state) {\n    $state.conversations = {};\n  },\n  pushMessageToConversation($state, message) {\n    const { id, status, message_type: type } = message;\n\n    const messagesInbox = $state.conversations;\n    const isMessageIncoming = type === MESSAGE_TYPE.INCOMING;\n    const isTemporaryMessage = status === 'in_progress';\n\n    if (!isMessageIncoming || isTemporaryMessage) {\n      messagesInbox[id] = message;\n      return;\n    }\n\n    const [messageInConversation] = findUndeliveredMessage(\n      messagesInbox,\n      message\n    );\n    if (!messageInConversation) {\n      messagesInbox[id] = message;\n    } else {\n      // [VITE] instead of leaving undefined behind, we remove it completely\n      // remove the temporary message and replace it with the new message\n      // messagesInbox[messageInConversation.id] = undefined;\n      delete messagesInbox[messageInConversation.id];\n      messagesInbox[id] = message;\n    }\n  },\n\n  updateAttachmentMessageStatus($state, { message, tempId }) {\n    const { id } = message;\n    const messagesInbox = $state.conversations;\n\n    const messageInConversation = messagesInbox[tempId];\n\n    if (messageInConversation) {\n      // [VITE] instead of leaving undefined behind, we remove it completely\n      // remove the temporary message and replace it with the new message\n      // messagesInbox[tempId] = undefined;\n      delete messagesInbox[tempId];\n      messagesInbox[id] = { ...message };\n    }\n  },\n\n  setConversationUIFlag($state, uiFlags) {\n    $state.uiFlags = {\n      ...$state.uiFlags,\n      ...uiFlags,\n    };\n  },\n\n  setConversationListLoading($state, status) {\n    $state.uiFlags.isFetchingList = status;\n  },\n\n  setMessagesInConversation($state, payload) {\n    if (!payload.length) {\n      $state.uiFlags.allMessagesLoaded = true;\n      return;\n    }\n\n    payload.forEach(message => {\n      $state.conversations[message.id] = message;\n    });\n  },\n\n  setMissingMessagesInConversation($state, payload) {\n    $state.conversation = payload;\n  },\n\n  updateMessage($state, { id, content_attributes }) {\n    $state.conversations[id] = {\n      ...$state.conversations[id],\n      content_attributes: {\n        ...($state.conversations[id].content_attributes || {}),\n        ...content_attributes,\n      },\n    };\n  },\n\n  updateMessageMeta($state, { id, meta }) {\n    const message = $state.conversations[id];\n    if (!message) return;\n\n    const newMeta = message.meta ? { ...message.meta, ...meta } : { ...meta };\n    message.meta = { ...newMeta };\n  },\n\n  deleteMessage($state, id) {\n    delete $state.conversations[id];\n    // [VITE] In Vue 3 proxy objects, we can't delete properties by setting them to undefined\n    // Instead, we have to use the delete operator\n    // $state.conversations[id] = undefined;\n  },\n\n  toggleAgentTypingStatus($state, { status }) {\n    $state.uiFlags.isAgentTyping = status === 'on';\n  },\n\n  setMetaUserLastSeenAt($state, lastSeen) {\n    $state.meta.userLastSeenAt = lastSeen;\n  },\n\n  setLastMessageId($state) {\n    const { conversations } = $state;\n    const lastMessage = Object.values(conversations).pop();\n    if (!lastMessage) return;\n    const { id } = lastMessage;\n    $state.lastMessageId = id;\n  },\n};\n","import { getters } from './getters';\nimport { actions } from './actions';\nimport { mutations } from './mutations';\n\nconst state = {\n  conversations: {},\n  meta: {\n    userLastSeenAt: undefined,\n  },\n  uiFlags: {\n    allMessagesLoaded: false,\n    isFetchingList: false,\n    isAgentTyping: false,\n    isCreating: false,\n  },\n  lastMessageId: null,\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations,\n};\n","import {\n  SET_CONVERSATION_ATTRIBUTES,\n  UPDATE_CONVERSATION_ATTRIBUTES,\n  CLEAR_CONVERSATION_ATTRIBUTES,\n} from '../types';\nimport { getConversationAPI } from '../../api/conversation';\n\nconst state = {\n  id: '',\n  status: '',\n};\n\nexport const getters = {\n  getConversationParams: $state => $state,\n};\n\nexport const actions = {\n  getAttributes: async ({ commit }) => {\n    try {\n      const { data } = await getConversationAPI();\n      const { contact_last_seen_at: lastSeen } = data;\n      commit(SET_CONVERSATION_ATTRIBUTES, data);\n      commit('conversation/setMetaUserLastSeenAt', lastSeen, { root: true });\n    } catch (error) {\n      // Ignore error\n    }\n  },\n  update({ commit }, data) {\n    commit(UPDATE_CONVERSATION_ATTRIBUTES, data);\n  },\n  clearConversationAttributes: ({ commit }) => {\n    commit('CLEAR_CONVERSATION_ATTRIBUTES');\n  },\n};\n\nexport const mutations = {\n  [SET_CONVERSATION_ATTRIBUTES]($state, data) {\n    $state.id = data.id;\n    $state.status = data.status;\n  },\n  [UPDATE_CONVERSATION_ATTRIBUTES]($state, data) {\n    if (data.id === $state.id) {\n      $state.id = data.id;\n      $state.status = data.status;\n    }\n  },\n  [CLEAR_CONVERSATION_ATTRIBUTES]($state) {\n    $state.id = '';\n    $state.status = '';\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations,\n};\n","import { API } from 'widget/helpers/axios';\n\nconst buildUrl = endPoint => `/api/v1/${endPoint}${window.location.search}`;\n\nexport default {\n  create(label) {\n    return API.post(buildUrl('widget/labels'), { label });\n  },\n  destroy(label) {\n    return API.delete(buildUrl(`widget/labels/${label}`));\n  },\n};\n","import conversationLabels from '../../api/conversationLabels';\n\nconst state = {};\n\nexport const getters = {};\n\nexport const actions = {\n  create: async (_, label) => {\n    try {\n      await conversationLabels.create(label);\n    } catch (error) {\n      // Ignore error\n    }\n  },\n  destroy: async (_, label) => {\n    try {\n      await conversationLabels.destroy(label);\n    } catch (error) {\n      // Ignore error\n    }\n  },\n};\n\nexport const mutations = {};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations,\n};\n","import events from 'widget/api/events';\n\nconst actions = {\n  create: async (_, { name }) => {\n    try {\n      await events.create(name);\n    } catch (error) {\n      // Ignore error\n    }\n  },\n};\n\nexport default {\n  namespaced: true,\n  state: {},\n  getters: {},\n  actions,\n  mutations: {},\n};\n","import authEndPoint from 'widget/api/endPoints';\nimport { API } from 'widget/helpers/axios';\n\nexport default {\n  update: ({ messageId, email, values }) => {\n    const urlData = authEndPoint.updateMessage(messageId);\n    return API.patch(urlData.url, {\n      contact: { email },\n      message: { submitted_values: values },\n    });\n  },\n};\n","import MessageAPI from '../../api/message';\n\nconst state = {\n  uiFlags: {\n    isUpdating: false,\n  },\n};\n\nexport const getters = {\n  getUIFlags: $state => $state.uiFlags,\n};\n\nexport const actions = {\n  update: async (\n    { commit, dispatch, getters: { getUIFlags: uiFlags } },\n    { email, messageId, submittedValues }\n  ) => {\n    if (uiFlags.isUpdating) {\n      return;\n    }\n    commit('toggleUpdateStatus', true);\n    try {\n      await MessageAPI.update({\n        email,\n        messageId,\n        values: submittedValues,\n      });\n      commit(\n        'conversation/updateMessage',\n        {\n          id: messageId,\n          content_attributes: {\n            submitted_email: email,\n            submitted_values: email ? null : submittedValues,\n          },\n        },\n        { root: true }\n      );\n      dispatch('contacts/get', {}, { root: true });\n    } catch (error) {\n      // Ignore error\n    }\n    commit('toggleUpdateStatus', false);\n  },\n};\n\nexport const mutations = {\n  toggleUpdateStatus($state, status) {\n    $state.uiFlags.isUpdating = status;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations,\n};\n","import endPoints from 'widget/api/endPoints';\nimport { API } from 'widget/helpers/axios';\n\nconst getCampaigns = async websiteToken => {\n  const urlData = endPoints.getCampaigns(websiteToken);\n  return API.get(urlData.url, { params: urlData.params });\n};\n\nconst triggerCampaign = async ({\n  campaignId,\n  websiteToken,\n  customAttributes,\n}) => {\n  const urlData = endPoints.triggerCampaign({\n    websiteToken,\n    campaignId,\n    customAttributes,\n  });\n  await API.post(\n    urlData.url,\n    { ...urlData.data },\n    {\n      params: urlData.params,\n    }\n  );\n};\nexport { getCampaigns, triggerCampaign };\n","import store from '../store';\nclass CampaignTimer {\n  constructor() {\n    this.campaignTimers = [];\n  }\n\n  initTimers = ({ campaigns }, websiteToken) => {\n    this.clearTimers();\n    campaigns.forEach(campaign => {\n      const { timeOnPage, id: campaignId } = campaign;\n      this.campaignTimers[campaignId] = setTimeout(() => {\n        store.dispatch('campaign/startCampaign', { campaignId, websiteToken });\n      }, timeOnPage * 1000);\n    });\n  };\n\n  clearTimers = () => {\n    this.campaignTimers.forEach(timerId => {\n      clearTimeout(timerId);\n      this.campaignTimers[timerId] = null;\n    });\n  };\n}\nexport default new CampaignTimer();\n","import { URLPattern } from 'urlpattern-polyfill';\n\nexport const isPatternMatchingWithURL = (urlPattern, url) => {\n  let updatedUrlPattern = urlPattern;\n  const locationObj = new URL(url);\n\n  if (updatedUrlPattern.endsWith('/')) {\n    updatedUrlPattern = updatedUrlPattern.slice(0, -1) + '*\\\\?*\\\\#*';\n  }\n\n  if (locationObj.pathname.endsWith('/')) {\n    locationObj.pathname = locationObj.pathname.slice(0, -1);\n  }\n\n  const pattern = new URLPattern(updatedUrlPattern);\n  return pattern.test(locationObj.toString());\n};\n\n// Format all campaigns\nexport const formatCampaigns = ({ campaigns }) => {\n  return campaigns.map(item => {\n    return {\n      id: item.id,\n      triggerOnlyDuringBusinessHours:\n        item.trigger_only_during_business_hours || false,\n      timeOnPage: item?.trigger_rules?.time_on_page,\n      url: item?.trigger_rules?.url,\n    };\n  });\n};\n\n// Filter all campaigns based on current URL and business availability time\nexport const filterCampaigns = ({\n  campaigns,\n  currentURL,\n  isInBusinessHours,\n}) => {\n  return campaigns.filter(campaign => {\n    if (!isPatternMatchingWithURL(campaign.url, currentURL)) {\n      return false;\n    }\n    if (campaign.triggerOnlyDuringBusinessHours) {\n      return isInBusinessHours;\n    }\n    return true;\n  });\n};\n","import { getCampaigns, triggerCampaign } from 'widget/api/campaign';\nimport campaignTimer from 'widget/helpers/campaignTimer';\nimport {\n  formatCampaigns,\n  filterCampaigns,\n} from 'widget/helpers/campaignHelper';\nimport { getFromCache, setCache } from 'shared/helpers/cache';\n\nconst CACHE_KEY_PREFIX = 'chatwoot_campaigns_';\n\nconst state = {\n  records: [],\n  uiFlags: {\n    hasFetched: false,\n    isError: false,\n  },\n  activeCampaign: {},\n};\n\nconst resetCampaignTimers = (\n  campaigns,\n  currentURL,\n  websiteToken,\n  isInBusinessHours\n) => {\n  const formattedCampaigns = formatCampaigns({ campaigns });\n  // Find all campaigns that matches the current URL\n  const filteredCampaigns = filterCampaigns({\n    campaigns: formattedCampaigns,\n    currentURL,\n    isInBusinessHours,\n  });\n  campaignTimer.initTimers({ campaigns: filteredCampaigns }, websiteToken);\n};\n\nexport const getters = {\n  getCampaigns: $state => $state.records,\n  getUIFlags: $state => $state.uiFlags,\n  getActiveCampaign: $state => $state.activeCampaign,\n};\n\nexport const actions = {\n  fetchCampaigns: async (\n    { commit },\n    { websiteToken, currentURL, isInBusinessHours }\n  ) => {\n    try {\n      // Cache for 1 hour\n      const CACHE_EXPIRY = 60 * 60 * 1000;\n      const cachedData = getFromCache(\n        `${CACHE_KEY_PREFIX}${websiteToken}`,\n        CACHE_EXPIRY\n      );\n      if (cachedData) {\n        commit('setCampaigns', cachedData);\n        commit('setError', false);\n        resetCampaignTimers(\n          cachedData,\n          currentURL,\n          websiteToken,\n          isInBusinessHours\n        );\n        return;\n      }\n\n      const { data: campaigns } = await getCampaigns(websiteToken);\n      setCache(`${CACHE_KEY_PREFIX}${websiteToken}`, campaigns);\n      commit('setCampaigns', campaigns);\n      commit('setError', false);\n      resetCampaignTimers(\n        campaigns,\n        currentURL,\n        websiteToken,\n        isInBusinessHours\n      );\n    } catch (error) {\n      commit('setError', true);\n    }\n  },\n  initCampaigns: async (\n    { getters: { getCampaigns: campaigns, getUIFlags: uiFlags }, dispatch },\n    { currentURL, websiteToken, isInBusinessHours }\n  ) => {\n    if (!campaigns.length) {\n      // This check is added to ensure that the campaigns are fetched once\n      // On high traffic sites, if the campaigns are empty, the API is called\n      // every time the user changes the URL (in case of the SPA)\n      // So, we need to ensure that the campaigns are fetched only once\n      if (!uiFlags.hasFetched) {\n        dispatch('fetchCampaigns', {\n          websiteToken,\n          currentURL,\n          isInBusinessHours,\n        });\n      }\n    } else {\n      resetCampaignTimers(\n        campaigns,\n        currentURL,\n        websiteToken,\n        isInBusinessHours\n      );\n    }\n  },\n  startCampaign: async (\n    {\n      commit,\n      rootState: {\n        appConfig: { isWidgetOpen },\n      },\n    },\n    { websiteToken, campaignId }\n  ) => {\n    // Disable campaign execution if widget is opened\n    if (!isWidgetOpen) {\n      const { data: campaigns } = await getCampaigns(websiteToken);\n      // Check campaign is disabled or not\n      const campaign = campaigns.find(item => item.id === campaignId);\n      if (campaign) {\n        commit('setActiveCampaign', campaign);\n      }\n    }\n  },\n\n  executeCampaign: async (\n    { commit },\n    { campaignId, websiteToken, customAttributes }\n  ) => {\n    try {\n      commit(\n        'conversation/setConversationUIFlag',\n        { isCreating: true },\n        { root: true }\n      );\n      await triggerCampaign({ campaignId, websiteToken, customAttributes });\n      commit('setCampaignExecuted', true);\n      commit('setActiveCampaign', {});\n    } catch (error) {\n      commit('setError', true);\n    } finally {\n      commit(\n        'conversation/setConversationUIFlag',\n        { isCreating: false },\n        { root: true }\n      );\n    }\n  },\n  resetCampaign: async ({ commit }) => {\n    try {\n      commit('setCampaignExecuted', false);\n      commit('setActiveCampaign', {});\n    } catch (error) {\n      commit('setError', true);\n    }\n  },\n};\n\nexport const mutations = {\n  setCampaigns($state, data) {\n    $state.records = data;\n    $state.uiFlags.hasFetched = true;\n  },\n  setActiveCampaign($state, data) {\n    $state.activeCampaign = data;\n  },\n  setError($state, value) {\n    $state.uiFlags.isError = value;\n  },\n  setHasFetched($state, value) {\n    $state.uiFlags.hasFetched = value;\n  },\n  setCampaignExecuted($state, data) {\n    $state.campaignHasExecuted = data;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations,\n};\n","import endPoints from 'widget/api/endPoints';\nimport { API } from 'widget/helpers/axios';\n\nexport const getMostReadArticles = async (slug, locale) => {\n  const urlData = endPoints.getMostReadArticles(slug, locale);\n  return API.get(urlData.url, { params: urlData.params });\n};\n","import { getMostReadArticles } from 'widget/api/article';\nimport { getFromCache, setCache } from 'shared/helpers/cache';\n\nconst CACHE_KEY_PREFIX = 'chatwoot_most_read_articles_';\n\nconst state = {\n  records: [],\n  uiFlags: {\n    isError: false,\n    hasFetched: false,\n    isFetching: false,\n  },\n};\n\nexport const getters = {\n  uiFlags: $state => $state.uiFlags,\n  popularArticles: $state => $state.records,\n};\n\nexport const actions = {\n  fetch: async ({ commit }, { slug, locale }) => {\n    commit('setIsFetching', true);\n    commit('setError', false);\n\n    try {\n      if (!locale) return;\n      const cachedData = getFromCache(`${CACHE_KEY_PREFIX}${slug}_${locale}`);\n      if (cachedData) {\n        commit('setArticles', cachedData);\n        return;\n      }\n\n      const { data } = await getMostReadArticles(slug, locale);\n      const { payload = [] } = data;\n\n      setCache(`${CACHE_KEY_PREFIX}${slug}_${locale}`, payload);\n      if (payload.length) {\n        commit('setArticles', payload);\n      }\n    } catch (error) {\n      commit('setError', true);\n    } finally {\n      commit('setIsFetching', false);\n    }\n  },\n};\n\nexport const mutations = {\n  setArticles($state, data) {\n    $state.records = data;\n  },\n  setError($state, value) {\n    $state.uiFlags.isError = value;\n  },\n  setIsFetching($state, value) {\n    $state.uiFlags.isFetching = value;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations,\n};\n","import { createStore } from 'vuex';\n\nimport agent from 'widget/store/modules/agent';\nimport appConfig from 'widget/store/modules/appConfig';\nimport contacts from 'widget/store/modules/contacts';\nimport conversation from 'widget/store/modules/conversation';\nimport conversationAttributes from 'widget/store/modules/conversationAttributes';\nimport conversationLabels from 'widget/store/modules/conversationLabels';\nimport events from 'widget/store/modules/events';\nimport globalConfig from 'shared/store/globalConfig';\nimport message from 'widget/store/modules/message';\nimport campaign from 'widget/store/modules/campaign';\nimport article from 'widget/store/modules/articles';\n\nexport default createStore({\n  modules: {\n    agent,\n    appConfig,\n    contacts,\n    conversation,\n    conversationAttributes,\n    conversationLabels,\n    events,\n    globalConfig,\n    message,\n    campaign,\n    article,\n  },\n});\n","export default {\n  computed: {\n    useInboxAvatarForBot() {\n      return this.channelConfig.enabledFeatures.includes(\n        'use_inbox_avatar_for_bot'\n      );\n    },\n    hasAConnectedAgentBot() {\n      return !!window.chatwootWebChannel.hasAConnectedAgentBot;\n    },\n    inboxAvatarUrl() {\n      return window.chatwootWebChannel.avatarUrl;\n    },\n    channelConfig() {\n      return window.chatwootWebChannel;\n    },\n    hasEmojiPickerEnabled() {\n      return this.channelConfig.enabledFeatures.includes('emoji_picker');\n    },\n    hasAttachmentsEnabled() {\n      return this.channelConfig.enabledFeatures.includes('attachments');\n    },\n    hasEndConversationEnabled() {\n      return this.channelConfig.enabledFeatures.includes('end_conversation');\n    },\n    preChatFormEnabled() {\n      return window.chatwootWebChannel.preChatFormEnabled;\n    },\n    preChatFormOptions() {\n      let preChatMessage = '';\n      const options = window.chatwootWebChannel.preChatFormOptions || {};\n      preChatMessage = options.pre_chat_message;\n      const { pre_chat_fields: preChatFields = [] } = options;\n      return {\n        preChatMessage,\n        preChatFields,\n      };\n    },\n    shouldShowPreChatForm() {\n      const { preChatFields } = this.preChatFormOptions;\n      // Check if at least one enabled field in pre-chat fields\n      const hasEnabledFields =\n        preChatFields.filter(field => field.enabled).length > 0;\n      return this.preChatFormEnabled && hasEnabledFields;\n    },\n  },\n};\n","export const loadedEventConfig = () => {\n  return {\n    event: 'loaded',\n    config: {\n      authToken: window.authToken,\n      channelConfig: window.chatwootWebChannel,\n    },\n  };\n};\n\nexport const getExtraSpaceToScroll = () => {\n  // This function calculates the extra space needed for the view to\n  // accommodate the height of close button + height of\n  // read messages button. So that scrollbar won't appear\n  const unreadMessageWrap = document.querySelector('.unread-messages');\n  const unreadCloseWrap = document.querySelector('.close-unread-wrap');\n  const readViewWrap = document.querySelector('.open-read-view-wrap');\n\n  if (!unreadMessageWrap) return 0;\n\n  // 24px to compensate the paddings\n  let extraHeight = 48 + unreadMessageWrap.scrollHeight;\n  if (unreadCloseWrap) extraHeight += unreadCloseWrap.scrollHeight;\n  if (readViewWrap) extraHeight += readViewWrap.scrollHeight;\n\n  return extraHeight;\n};\n\nexport const shouldTriggerMessageUpdateEvent = message => {\n  const { previous_changes: previousChanges } = message;\n\n  if (!previousChanges) {\n    return false;\n  }\n  const hasNotifiableAttributeChanges =\n    Object.keys(previousChanges).includes('content_attributes');\n  if (!hasNotifiableAttributeChanges) {\n    return false;\n  }\n\n  const hasSubmittedValueChanges = Object.keys(\n    previousChanges.content_attributes[1] || {}\n  ).includes('submitted_values');\n\n  return hasSubmittedValueChanges;\n};\n","import { computed } from 'vue';\nimport { useMapGetter } from 'dashboard/composables/store';\n\nconst isDarkModeAuto = mode => mode === 'auto';\nconst isDarkMode = mode => mode === 'dark';\n\nconst getSystemPreference = () =>\n  window.matchMedia?.('(prefers-color-scheme: dark)').matches ?? false;\n\nconst calculatePrefersDarkMode = (mode, systemPreference) =>\n  isDarkModeAuto(mode) ? systemPreference : isDarkMode(mode);\n\n/**\n * Composable for handling dark mode.\n * @returns {Object} An object containing computed properties and methods for dark mode.\n */\nexport function useDarkMode() {\n  const darkMode = useMapGetter('appConfig/darkMode');\n\n  const systemPreference = computed(getSystemPreference);\n\n  const prefersDarkMode = computed(() =>\n    calculatePrefersDarkMode(darkMode.value, systemPreference.value)\n  );\n\n  return {\n    darkMode,\n    prefersDarkMode,\n  };\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = requiredArgs;\n\nfunction requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toDate;\n\nvar _index = _interopRequireDefault(require(\"../_lib/requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nfunction toDate(argument) {\n  (0, _index.default)(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isValid;\n\nvar _index = _interopRequireDefault(require(\"../toDate/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../_lib/requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - Now `isValid` doesn't throw an exception\n *   if the first argument is not an instance of Date.\n *   Instead, argument is converted beforehand using `toDate`.\n *\n *   Examples:\n *\n *   | `isValid` argument        | Before v2.0.0 | v2.0.0 onward |\n *   |---------------------------|---------------|---------------|\n *   | `new Date()`              | `true`        | `true`        |\n *   | `new Date('2016-01-01')`  | `true`        | `true`        |\n *   | `new Date('')`            | `false`       | `false`       |\n *   | `new Date(1488370835081)` | `true`        | `true`        |\n *   | `new Date(NaN)`           | `false`       | `false`       |\n *   | `'2016-01-01'`            | `TypeError`   | `false`       |\n *   | `''`                      | `TypeError`   | `false`       |\n *   | `1488370835081`           | `TypeError`   | `true`        |\n *   | `NaN`                     | `TypeError`   | `false`       |\n *\n *   We introduce this change to make *date-fns* consistent with ECMAScript behavior\n *   that try to coerce arguments to the expected type\n *   (which is also the case with other *date-fns* functions).\n *\n * @param {*} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // For the valid date:\n * var result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * var result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * var result = isValid(new Date(''))\n * //=> false\n */\nfunction isValid(dirtyDate) {\n  (0, _index2.default)(1, arguments);\n  var date = (0, _index.default)(dirtyDate);\n  return !isNaN(date);\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = formatDistance;\nvar formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\n\nfunction formatDistance(token, count, options) {\n  options = options || {};\n  var result;\n\n  if (typeof formatDistanceLocale[token] === 'string') {\n    result = formatDistanceLocale[token];\n  } else if (count === 1) {\n    result = formatDistanceLocale[token].one;\n  } else {\n    result = formatDistanceLocale[token].other.replace('{{count}}', count);\n  }\n\n  if (options.addSuffix) {\n    if (options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n\n  return result;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildFormatLongFn;\n\nfunction buildFormatLongFn(args) {\n  return function (dirtyOptions) {\n    var options = dirtyOptions || {};\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"../../../_lib/buildFormatLongFn/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: (0, _index.default)({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: (0, _index.default)({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: (0, _index.default)({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nvar _default = formatLong;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = formatRelative;\nvar formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\n\nfunction formatRelative(token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildLocalizeFn;\n\nfunction buildLocalizeFn(args) {\n  return function (dirtyIndex, dirtyOptions) {\n    var options = dirtyOptions || {};\n    var context = options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n\n      var _width = options.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    return valuesArray[index];\n  };\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"../../../_lib/buildLocalizeFn/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter'] // Note: in English, the names of days of the week and months are capitalized.\n  // If you are making a new locale based on this one, check if the same is true for the language you're working on.\n  // Generally, formatted dates should look like they are in the middle of a sentence,\n  // e.g. in Spanish language the weekdays and months should be in the lowercase.\n\n};\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\n\nfunction ordinalNumber(dirtyNumber, _dirtyOptions) {\n  var number = Number(dirtyNumber); // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`:\n  //\n  //   var options = dirtyOptions || {}\n  //   var unit = String(options.unit)\n  //\n  // where `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'\n\n  var rem100 = number % 100;\n\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n\n      case 2:\n        return number + 'nd';\n\n      case 3:\n        return number + 'rd';\n    }\n  }\n\n  return number + 'th';\n}\n\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: (0, _index.default)({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: (0, _index.default)({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function (quarter) {\n      return Number(quarter) - 1;\n    }\n  }),\n  month: (0, _index.default)({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: (0, _index.default)({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: (0, _index.default)({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nvar _default = localize;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildMatchPatternFn;\n\nfunction buildMatchPatternFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var matchResult = string.match(args.matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n\n    if (!parseResult) {\n      return null;\n    }\n\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildMatchFn;\n\nfunction buildMatchFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var value;\n\n    if (Object.prototype.toString.call(parsePatterns) === '[object Array]') {\n      value = findIndex(parsePatterns, function (pattern) {\n        return pattern.test(matchedString);\n      });\n    } else {\n      value = findKey(parsePatterns, function (pattern) {\n        return pattern.test(matchedString);\n      });\n    }\n\n    value = args.valueCallback ? args.valueCallback(value) : value;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n}\n\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"../../../_lib/buildMatchPatternFn/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../../../_lib/buildMatchFn/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: (0, _index.default)({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function (value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: (0, _index2.default)({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: (0, _index2.default)({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function (index) {\n      return index + 1;\n    }\n  }),\n  month: (0, _index2.default)({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: (0, _index2.default)({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: (0, _index2.default)({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nvar _default = match;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"./_lib/formatDistance/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"./_lib/formatLong/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"./_lib/formatRelative/index.js\"));\n\nvar _index4 = _interopRequireDefault(require(\"./_lib/localize/index.js\"));\n\nvar _index5 = _interopRequireDefault(require(\"./_lib/match/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\nvar locale = {\n  code: 'en-US',\n  formatDistance: _index.default,\n  formatLong: _index2.default,\n  formatRelative: _index3.default,\n  localize: _index4.default,\n  match: _index5.default,\n  options: {\n    weekStartsOn: 0\n    /* Sunday */\n    ,\n    firstWeekContainsDate: 1\n  }\n};\nvar _default = locale;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toInteger;\n\nfunction toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = addMilliseconds;\n\nvar _index = _interopRequireDefault(require(\"../_lib/toInteger/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../toDate/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../_lib/requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\nfunction addMilliseconds(dirtyDate, dirtyAmount) {\n  (0, _index3.default)(2, arguments);\n  var timestamp = (0, _index2.default)(dirtyDate).getTime();\n  var amount = (0, _index.default)(dirtyAmount);\n  return new Date(timestamp + amount);\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = subMilliseconds;\n\nvar _index = _interopRequireDefault(require(\"../_lib/toInteger/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../addMilliseconds/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../_lib/requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @name subMilliseconds\n * @category Millisecond Helpers\n * @summary Subtract the specified number of milliseconds from the given date.\n *\n * @description\n * Subtract the specified number of milliseconds from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\n * const result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:29.250\n */\nfunction subMilliseconds(dirtyDate, dirtyAmount) {\n  (0, _index3.default)(2, arguments);\n  var amount = (0, _index.default)(dirtyAmount);\n  return (0, _index2.default)(dirtyDate, -amount);\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = addLeadingZeros;\n\nfunction addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n\n  return sign + output;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"../../addLeadingZeros/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\nvar formatters = {\n  // Year\n  y: function (date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n    var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return (0, _index.default)(token === 'yy' ? year % 100 : year, token.length);\n  },\n  // Month\n  M: function (date, token) {\n    var month = date.getUTCMonth();\n    return token === 'M' ? String(month + 1) : (0, _index.default)(month + 1, 2);\n  },\n  // Day of the month\n  d: function (date, token) {\n    return (0, _index.default)(date.getUTCDate(), token.length);\n  },\n  // AM or PM\n  a: function (date, token) {\n    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return dayPeriodEnumValue.toUpperCase();\n\n      case 'aaa':\n        return dayPeriodEnumValue;\n\n      case 'aaaaa':\n        return dayPeriodEnumValue[0];\n\n      case 'aaaa':\n      default:\n        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';\n    }\n  },\n  // Hour [1-12]\n  h: function (date, token) {\n    return (0, _index.default)(date.getUTCHours() % 12 || 12, token.length);\n  },\n  // Hour [0-23]\n  H: function (date, token) {\n    return (0, _index.default)(date.getUTCHours(), token.length);\n  },\n  // Minute\n  m: function (date, token) {\n    return (0, _index.default)(date.getUTCMinutes(), token.length);\n  },\n  // Second\n  s: function (date, token) {\n    return (0, _index.default)(date.getUTCSeconds(), token.length);\n  },\n  // Fraction of second\n  S: function (date, token) {\n    var numberOfDigits = token.length;\n    var milliseconds = date.getUTCMilliseconds();\n    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n    return (0, _index.default)(fractionalSeconds, token.length);\n  }\n};\nvar _default = formatters;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getUTCDayOfYear;\n\nvar _index = _interopRequireDefault(require(\"../../toDate/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MILLISECONDS_IN_DAY = 86400000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nfunction getUTCDayOfYear(dirtyDate) {\n  (0, _index2.default)(1, arguments);\n  var date = (0, _index.default)(dirtyDate);\n  var timestamp = date.getTime();\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n  var startOfYearTimestamp = date.getTime();\n  var difference = timestamp - startOfYearTimestamp;\n  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = startOfUTCISOWeek;\n\nvar _index = _interopRequireDefault(require(\"../../toDate/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\nfunction startOfUTCISOWeek(dirtyDate) {\n  (0, _index2.default)(1, arguments);\n  var weekStartsOn = 1;\n  var date = (0, _index.default)(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getUTCISOWeekYear;\n\nvar _index = _interopRequireDefault(require(\"../../toDate/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../startOfUTCISOWeek/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\nfunction getUTCISOWeekYear(dirtyDate) {\n  (0, _index3.default)(1, arguments);\n  var date = (0, _index.default)(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = (0, _index2.default)(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = (0, _index2.default)(fourthOfJanuaryOfThisYear);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = startOfUTCISOWeekYear;\n\nvar _index = _interopRequireDefault(require(\"../getUTCISOWeekYear/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../startOfUTCISOWeek/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\nfunction startOfUTCISOWeekYear(dirtyDate) {\n  (0, _index3.default)(1, arguments);\n  var year = (0, _index.default)(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = (0, _index2.default)(fourthOfJanuary);\n  return date;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getUTCISOWeek;\n\nvar _index = _interopRequireDefault(require(\"../../toDate/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../startOfUTCISOWeek/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../startOfUTCISOWeekYear/index.js\"));\n\nvar _index4 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nfunction getUTCISOWeek(dirtyDate) {\n  (0, _index4.default)(1, arguments);\n  var date = (0, _index.default)(dirtyDate);\n  var diff = (0, _index2.default)(date).getTime() - (0, _index3.default)(date).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = startOfUTCWeek;\n\nvar _index = _interopRequireDefault(require(\"../toInteger/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../../toDate/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\nfunction startOfUTCWeek(dirtyDate, dirtyOptions) {\n  (0, _index3.default)(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : (0, _index.default)(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : (0, _index.default)(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = (0, _index2.default)(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getUTCWeekYear;\n\nvar _index = _interopRequireDefault(require(\"../toInteger/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../../toDate/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../startOfUTCWeek/index.js\"));\n\nvar _index4 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\nfunction getUTCWeekYear(dirtyDate, dirtyOptions) {\n  (0, _index4.default)(1, arguments);\n  var date = (0, _index2.default)(dirtyDate, dirtyOptions);\n  var year = date.getUTCFullYear();\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : (0, _index.default)(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : (0, _index.default)(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = (0, _index3.default)(firstWeekOfNextYear, dirtyOptions);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = (0, _index3.default)(firstWeekOfThisYear, dirtyOptions);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = startOfUTCWeekYear;\n\nvar _index = _interopRequireDefault(require(\"../toInteger/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../getUTCWeekYear/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../startOfUTCWeek/index.js\"));\n\nvar _index4 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\nfunction startOfUTCWeekYear(dirtyDate, dirtyOptions) {\n  (0, _index4.default)(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : (0, _index.default)(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : (0, _index.default)(options.firstWeekContainsDate);\n  var year = (0, _index2.default)(dirtyDate, dirtyOptions);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = (0, _index3.default)(firstWeek, dirtyOptions);\n  return date;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getUTCWeek;\n\nvar _index = _interopRequireDefault(require(\"../../toDate/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../startOfUTCWeek/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../startOfUTCWeekYear/index.js\"));\n\nvar _index4 = _interopRequireDefault(require(\"../requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nfunction getUTCWeek(dirtyDate, options) {\n  (0, _index4.default)(1, arguments);\n  var date = (0, _index.default)(dirtyDate);\n  var diff = (0, _index2.default)(date, options).getTime() - (0, _index3.default)(date, options).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"../lightFormatters/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../../../_lib/getUTCDayOfYear/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../../../_lib/getUTCISOWeek/index.js\"));\n\nvar _index4 = _interopRequireDefault(require(\"../../../_lib/getUTCISOWeekYear/index.js\"));\n\nvar _index5 = _interopRequireDefault(require(\"../../../_lib/getUTCWeek/index.js\"));\n\nvar _index6 = _interopRequireDefault(require(\"../../../_lib/getUTCWeekYear/index.js\"));\n\nvar _index7 = _interopRequireDefault(require(\"../../addLeadingZeros/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar dayPeriodEnum = {\n  am: 'am',\n  pm: 'pm',\n  midnight: 'midnight',\n  noon: 'noon',\n  morning: 'morning',\n  afternoon: 'afternoon',\n  evening: 'evening',\n  night: 'night'\n  /*\n   * |     | Unit                           |     | Unit                           |\n   * |-----|--------------------------------|-----|--------------------------------|\n   * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n   * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n   * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n   * |  d  | Day of month                   |  D  | Day of year                    |\n   * |  e  | Local day of week              |  E  | Day of week                    |\n   * |  f  |                                |  F* | Day of week in month           |\n   * |  g* | Modified Julian day            |  G  | Era                            |\n   * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n   * |  i! | ISO day of week                |  I! | ISO week of year               |\n   * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n   * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n   * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n   * |  m  | Minute                         |  M  | Month                          |\n   * |  n  |                                |  N  |                                |\n   * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n   * |  p! | Long localized time            |  P! | Long localized date            |\n   * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n   * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n   * |  s  | Second                         |  S  | Fraction of second             |\n   * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n   * |  u  | Extended year                  |  U* | Cyclic year                    |\n   * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n   * |  w  | Local week of year             |  W* | Week of month                  |\n   * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n   * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n   * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n   *\n   * Letters marked by * are not implemented but reserved by Unicode standard.\n   *\n   * Letters marked by ! are non-standard, but implemented by date-fns:\n   * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n   * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n   *   i.e. 7 for Sunday, 1 for Monday, etc.\n   * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n   * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n   *   `R` is supposed to be used in conjunction with `I` and `i`\n   *   for universal ISO week-numbering date, whereas\n   *   `Y` is supposed to be used in conjunction with `w` and `e`\n   *   for week-numbering date specific to the locale.\n   * - `P` is long localized date format\n   * - `p` is long localized time format\n   */\n\n};\nvar formatters = {\n  // Era\n  G: function (date, token, localize) {\n    var era = date.getUTCFullYear() > 0 ? 1 : 0;\n\n    switch (token) {\n      // AD, BC\n      case 'G':\n      case 'GG':\n      case 'GGG':\n        return localize.era(era, {\n          width: 'abbreviated'\n        });\n      // A, B\n\n      case 'GGGGG':\n        return localize.era(era, {\n          width: 'narrow'\n        });\n      // Anno Domini, Before Christ\n\n      case 'GGGG':\n      default:\n        return localize.era(era, {\n          width: 'wide'\n        });\n    }\n  },\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === 'yo') {\n      var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n      var year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, {\n        unit: 'year'\n      });\n    }\n\n    return _index.default.y(date, token);\n  },\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    var signedWeekYear = (0, _index6.default)(date, options); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear; // Two digit year\n\n    if (token === 'YY') {\n      var twoDigitYear = weekYear % 100;\n      return (0, _index7.default)(twoDigitYear, 2);\n    } // Ordinal number\n\n\n    if (token === 'Yo') {\n      return localize.ordinalNumber(weekYear, {\n        unit: 'year'\n      });\n    } // Padding\n\n\n    return (0, _index7.default)(weekYear, token.length);\n  },\n  // ISO week-numbering year\n  R: function (date, token) {\n    var isoWeekYear = (0, _index4.default)(date); // Padding\n\n    return (0, _index7.default)(isoWeekYear, token.length);\n  },\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    var year = date.getUTCFullYear();\n    return (0, _index7.default)(year, token.length);\n  },\n  // Quarter\n  Q: function (date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'Q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'QQ':\n        return (0, _index7.default)(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'Qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'QQQ':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'QQQQQ':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'QQQQ':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'qq':\n        return (0, _index7.default)(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'qqq':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'qqqqq':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'qqqq':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Month\n  M: function (date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      case 'M':\n      case 'MM':\n        return _index.default.M(date, token);\n      // 1st, 2nd, ..., 12th\n\n      case 'Mo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'MMM':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // J, F, ..., D\n\n      case 'MMMMM':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // January, February, ..., December\n\n      case 'MMMM':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone month\n  L: function (date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      // 1, 2, ..., 12\n      case 'L':\n        return String(month + 1);\n      // 01, 02, ..., 12\n\n      case 'LL':\n        return (0, _index7.default)(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n\n      case 'Lo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'LLL':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // J, F, ..., D\n\n      case 'LLLLL':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // January, February, ..., December\n\n      case 'LLLL':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Local week of year\n  w: function (date, token, localize, options) {\n    var week = (0, _index5.default)(date, options);\n\n    if (token === 'wo') {\n      return localize.ordinalNumber(week, {\n        unit: 'week'\n      });\n    }\n\n    return (0, _index7.default)(week, token.length);\n  },\n  // ISO week of year\n  I: function (date, token, localize) {\n    var isoWeek = (0, _index3.default)(date);\n\n    if (token === 'Io') {\n      return localize.ordinalNumber(isoWeek, {\n        unit: 'week'\n      });\n    }\n\n    return (0, _index7.default)(isoWeek, token.length);\n  },\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === 'do') {\n      return localize.ordinalNumber(date.getUTCDate(), {\n        unit: 'date'\n      });\n    }\n\n    return _index.default.d(date, token);\n  },\n  // Day of year\n  D: function (date, token, localize) {\n    var dayOfYear = (0, _index2.default)(date);\n\n    if (token === 'Do') {\n      return localize.ordinalNumber(dayOfYear, {\n        unit: 'dayOfYear'\n      });\n    }\n\n    return (0, _index7.default)(dayOfYear, token.length);\n  },\n  // Day of week\n  E: function (date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n\n    switch (token) {\n      // Tue\n      case 'E':\n      case 'EE':\n      case 'EEE':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'EEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'EEEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'EEEE':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Local day of week\n  e: function (date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case 'e':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'ee':\n        return (0, _index7.default)(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n\n      case 'eo':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'eee':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'eeeee':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'eeeeee':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'eeee':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case 'c':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'cc':\n        return (0, _index7.default)(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n\n      case 'co':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'ccc':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // T\n\n      case 'ccccc':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // Tu\n\n      case 'cccccc':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'standalone'\n        });\n      // Tuesday\n\n      case 'cccc':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // ISO day of week\n  i: function (date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n\n    switch (token) {\n      // 2\n      case 'i':\n        return String(isoDayOfWeek);\n      // 02\n\n      case 'ii':\n        return (0, _index7.default)(isoDayOfWeek, token.length);\n      // 2nd\n\n      case 'io':\n        return localize.ordinalNumber(isoDayOfWeek, {\n          unit: 'day'\n        });\n      // Tue\n\n      case 'iii':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'iiiii':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'iiiiii':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'iiii':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM or PM\n  a: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'aaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n\n      case 'aaaaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'aaaa':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    }\n\n    switch (token) {\n      case 'b':\n      case 'bb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'bbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n\n      case 'bbbbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'bbbb':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case 'B':\n      case 'BB':\n      case 'BBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'BBBBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'BBBB':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === 'ho') {\n      var hours = date.getUTCHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return _index.default.h(date, token);\n  },\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === 'Ho') {\n      return localize.ordinalNumber(date.getUTCHours(), {\n        unit: 'hour'\n      });\n    }\n\n    return _index.default.H(date, token);\n  },\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    var hours = date.getUTCHours() % 12;\n\n    if (token === 'Ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return (0, _index7.default)(hours, token.length);\n  },\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    if (hours === 0) hours = 24;\n\n    if (token === 'ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return (0, _index7.default)(hours, token.length);\n  },\n  // Minute\n  m: function (date, token, localize) {\n    if (token === 'mo') {\n      return localize.ordinalNumber(date.getUTCMinutes(), {\n        unit: 'minute'\n      });\n    }\n\n    return _index.default.m(date, token);\n  },\n  // Second\n  s: function (date, token, localize) {\n    if (token === 'so') {\n      return localize.ordinalNumber(date.getUTCSeconds(), {\n        unit: 'second'\n      });\n    }\n\n    return _index.default.s(date, token);\n  },\n  // Fraction of second\n  S: function (date, token) {\n    return _index.default.S(date, token);\n  },\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n\n      case 'XXXX':\n      case 'XX':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n\n      case 'xxxx':\n      case 'xx':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (GMT)\n  O: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (specific non-location)\n  z: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'zzzz':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Seconds timestamp\n  t: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = Math.floor(originalDate.getTime() / 1000);\n    return (0, _index7.default)(timestamp, token.length);\n  },\n  // Milliseconds timestamp\n  T: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = originalDate.getTime();\n    return (0, _index7.default)(timestamp, token.length);\n  }\n};\n\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n\n  var delimiter = dirtyDelimiter || '';\n  return sign + String(hours) + delimiter + (0, _index7.default)(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + (0, _index7.default)(Math.abs(offset) / 60, 2);\n  }\n\n  return formatTimezone(offset, dirtyDelimiter);\n}\n\nfunction formatTimezone(offset, dirtyDelimiter) {\n  var delimiter = dirtyDelimiter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = (0, _index7.default)(Math.floor(absOffset / 60), 2);\n  var minutes = (0, _index7.default)(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n\nvar _default = formatters;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction dateLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'P':\n      return formatLong.date({\n        width: 'short'\n      });\n\n    case 'PP':\n      return formatLong.date({\n        width: 'medium'\n      });\n\n    case 'PPP':\n      return formatLong.date({\n        width: 'long'\n      });\n\n    case 'PPPP':\n    default:\n      return formatLong.date({\n        width: 'full'\n      });\n  }\n}\n\nfunction timeLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'p':\n      return formatLong.time({\n        width: 'short'\n      });\n\n    case 'pp':\n      return formatLong.time({\n        width: 'medium'\n      });\n\n    case 'ppp':\n      return formatLong.time({\n        width: 'long'\n      });\n\n    case 'pppp':\n    default:\n      return formatLong.time({\n        width: 'full'\n      });\n  }\n}\n\nfunction dateTimeLongFormatter(pattern, formatLong) {\n  var matchResult = pattern.match(/(P+)(p+)?/);\n  var datePattern = matchResult[1];\n  var timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  var dateTimeFormat;\n\n  switch (datePattern) {\n    case 'P':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'short'\n      });\n      break;\n\n    case 'PP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'medium'\n      });\n      break;\n\n    case 'PPP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'long'\n      });\n      break;\n\n    case 'PPPP':\n    default:\n      dateTimeFormat = formatLong.dateTime({\n        width: 'full'\n      });\n      break;\n  }\n\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\n}\n\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\nvar _default = longFormatters;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getTimezoneOffsetInMilliseconds;\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nfunction getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isProtectedDayOfYearToken = isProtectedDayOfYearToken;\nexports.isProtectedWeekYearToken = isProtectedWeekYearToken;\nexports.throwProtectedError = throwProtectedError;\nvar protectedDayOfYearTokens = ['D', 'DD'];\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\n\nfunction isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\n\nfunction isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\n\nfunction throwProtectedError(token, format, input) {\n  if (token === 'YYYY') {\n    throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'YY') {\n    throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'D') {\n    throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'DD') {\n    throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = format;\n\nvar _index = _interopRequireDefault(require(\"../isValid/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../locale/en-US/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../subMilliseconds/index.js\"));\n\nvar _index4 = _interopRequireDefault(require(\"../toDate/index.js\"));\n\nvar _index5 = _interopRequireDefault(require(\"../_lib/format/formatters/index.js\"));\n\nvar _index6 = _interopRequireDefault(require(\"../_lib/format/longFormatters/index.js\"));\n\nvar _index7 = _interopRequireDefault(require(\"../_lib/getTimezoneOffsetInMilliseconds/index.js\"));\n\nvar _index8 = require(\"../_lib/protectedTokens/index.js\");\n\nvar _index9 = _interopRequireDefault(require(\"../_lib/toInteger/index.js\"));\n\nvar _index10 = _interopRequireDefault(require(\"../_lib/requiredArgs/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g; // This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\n\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * >  Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://git.io/fxCyr\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Su, Sa        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://git.io/fxCyr\n *\n * 9. `D` and `DD` tokens represent days of the year but they are ofthen confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://git.io/fxCyr\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The second argument is now required for the sake of explicitness.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   format(new Date(2016, 0, 1))\n *\n *   // v2.0.0 onward\n *   format(new Date(2016, 0, 1), \"yyyy-MM-dd'T'HH:mm:ss.SSSxxx\")\n *   ```\n *\n * - New format string API for `format` function\n *   which is based on [Unicode Technical Standard #35](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table).\n *   See [this post](https://blog.date-fns.org/post/unicode-tokens-in-date-fns-v2-sreatyki91jg) for more details.\n *\n * - Characters are now escaped using single quote symbols (`'`) instead of square brackets.\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://git.io/fxCyr\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://git.io/fxCyr\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * var result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * var result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * var result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\n\nfunction format(dirtyDate, dirtyFormatStr, dirtyOptions) {\n  (0, _index10.default)(2, arguments);\n  var formatStr = String(dirtyFormatStr);\n  var options = dirtyOptions || {};\n  var locale = options.locale || _index2.default;\n  var localeFirstWeekContainsDate = locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : (0, _index9.default)(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : (0, _index9.default)(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var localeWeekStartsOn = locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : (0, _index9.default)(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : (0, _index9.default)(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  if (!locale.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n\n  if (!locale.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n\n  var originalDate = (0, _index4.default)(dirtyDate);\n\n  if (!(0, _index.default)(originalDate)) {\n    throw new RangeError('Invalid time value');\n  } // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376\n\n\n  var timezoneOffset = (0, _index7.default)(originalDate);\n  var utcDate = (0, _index3.default)(originalDate, timezoneOffset);\n  var formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale,\n    _originalDate: originalDate\n  };\n  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = _index6.default[firstCharacter];\n      return longFormatter(substring, locale.formatLong, formatterOptions);\n    }\n\n    return substring;\n  }).join('').match(formattingTokensRegExp).map(function (substring) {\n    // Replace two single quote characters with one single quote character\n    if (substring === \"''\") {\n      return \"'\";\n    }\n\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === \"'\") {\n      return cleanEscapedString(substring);\n    }\n\n    var formatter = _index5.default[firstCharacter];\n\n    if (formatter) {\n      if (!options.useAdditionalWeekYearTokens && (0, _index8.isProtectedWeekYearToken)(substring)) {\n        (0, _index8.throwProtectedError)(substring, dirtyFormatStr, dirtyDate);\n      }\n\n      if (!options.useAdditionalDayOfYearTokens && (0, _index8.isProtectedDayOfYearToken)(substring)) {\n        (0, _index8.throwProtectedError)(substring, dirtyFormatStr, dirtyDate);\n      }\n\n      return formatter(utcDate, substring, locale.localize, formatterOptions);\n    }\n\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n    }\n\n    return substring;\n  }).join('');\n  return result;\n}\n\nfunction cleanEscapedString(input) {\n  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = tzIntlTimeZoneName;\n\n/**\n * Returns the formatted time zone name of the provided `timeZone` or the current\n * system time zone if omitted, accounting for DST according to the UTC value of\n * the date.\n */\nfunction tzIntlTimeZoneName(length, date, options) {\n  var dtf = getDTF(length, options.timeZone, options.locale);\n  return dtf.formatToParts ? partsTimeZone(dtf, date) : hackyTimeZone(dtf, date);\n}\n\nfunction partsTimeZone(dtf, date) {\n  var formatted = dtf.formatToParts(date);\n\n  for (var i = formatted.length - 1; i >= 0; --i) {\n    if (formatted[i].type === 'timeZoneName') {\n      return formatted[i].value;\n    }\n  }\n}\n\nfunction hackyTimeZone(dtf, date) {\n  var formatted = dtf.format(date).replace(/\\u200E/g, '');\n  var tzNameMatch = / [\\w-+ ]+$/.exec(formatted);\n  return tzNameMatch ? tzNameMatch[0].substr(1) : '';\n} // If a locale has been provided `en-US` is used as a fallback in case it is an\n// invalid locale, otherwise the locale is left undefined to use the system locale.\n\n\nfunction getDTF(length, timeZone, locale) {\n  if (locale && !locale.code) {\n    throw new Error(\"date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`\");\n  }\n\n  return new Intl.DateTimeFormat(locale ? [locale.code, 'en-US'] : undefined, {\n    timeZone: timeZone,\n    timeZoneName: length\n  });\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = tzTokenizeDate;\n\n/**\n * Returns the [year, month, day, hour, minute, seconds] tokens of the provided\n * `date` as it will be rendered in the `timeZone`.\n */\nfunction tzTokenizeDate(date, timeZone) {\n  var dtf = getDateTimeFormat(timeZone);\n  return dtf.formatToParts ? partsOffset(dtf, date) : hackyOffset(dtf, date);\n}\n\nvar typeToPos = {\n  year: 0,\n  month: 1,\n  day: 2,\n  hour: 3,\n  minute: 4,\n  second: 5\n};\n\nfunction partsOffset(dtf, date) {\n  try {\n    var formatted = dtf.formatToParts(date);\n    var filled = [];\n\n    for (var i = 0; i < formatted.length; i++) {\n      var pos = typeToPos[formatted[i].type];\n\n      if (pos >= 0) {\n        filled[pos] = parseInt(formatted[i].value, 10);\n      }\n    }\n\n    return filled;\n  } catch (error) {\n    if (error instanceof RangeError) {\n      return [NaN];\n    }\n\n    throw error;\n  }\n}\n\nfunction hackyOffset(dtf, date) {\n  var formatted = dtf.format(date).replace(/\\u200E/g, '');\n  var parsed = /(\\d+)\\/(\\d+)\\/(\\d+),? (\\d+):(\\d+):(\\d+)/.exec(formatted); // var [, fMonth, fDay, fYear, fHour, fMinute, fSecond] = parsed\n  // return [fYear, fMonth, fDay, fHour, fMinute, fSecond]\n\n  return [parsed[3], parsed[1], parsed[2], parsed[4], parsed[5], parsed[6]];\n} // Get a cached Intl.DateTimeFormat instance for the IANA `timeZone`. This can be used\n// to get deterministic local date/time output according to the `en-US` locale which\n// can be used to extract local time parts as necessary.\n\n\nvar dtfCache = {};\n\nfunction getDateTimeFormat(timeZone) {\n  if (!dtfCache[timeZone]) {\n    // New browsers use `hourCycle`, IE and Chrome <73 does not support it and uses `hour12`\n    var testDateFormatted = new Intl.DateTimeFormat('en-US', {\n      hour12: false,\n      timeZone: 'America/New_York',\n      year: 'numeric',\n      month: 'numeric',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit'\n    }).format(new Date('2014-06-25T04:00:00.123Z'));\n    var hourCycleSupported = testDateFormatted === '06/25/2014, 00:00:00' || testDateFormatted === '06/25/2014 00:00:00';\n    dtfCache[timeZone] = hourCycleSupported ? new Intl.DateTimeFormat('en-US', {\n      hour12: false,\n      timeZone: timeZone,\n      year: 'numeric',\n      month: 'numeric',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit'\n    }) : new Intl.DateTimeFormat('en-US', {\n      hourCycle: 'h23',\n      timeZone: timeZone,\n      year: 'numeric',\n      month: 'numeric',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit'\n    });\n  }\n\n  return dtfCache[timeZone];\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = newDateUTC;\n\n/**\n * Use instead of `new Date(Date.UTC(...))` to support years below 100 which doesn't work\n * otherwise due to the nature of the\n * [`Date` constructor](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date#interpretation_of_two-digit_years.\n *\n * For `Date.UTC(...)`, use `newDateUTC(...).getTime()`.\n */\nfunction newDateUTC(fullYear, month, day, hour, minute, second, millisecond) {\n  var utcDate = new Date(0);\n  utcDate.setUTCFullYear(fullYear, month, day);\n  utcDate.setUTCHours(hour, minute, second, millisecond);\n  return utcDate;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = tzParseTimezone;\n\nvar _index = _interopRequireDefault(require(\"../tzTokenizeDate/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../newDateUTC/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MILLISECONDS_IN_HOUR = 3600000;\nvar MILLISECONDS_IN_MINUTE = 60000;\nvar patterns = {\n  timezone: /([Z+-].*)$/,\n  timezoneZ: /^(Z)$/,\n  timezoneHH: /^([+-]\\d{2})$/,\n  timezoneHHMM: /^([+-]\\d{2}):?(\\d{2})$/\n}; // Parse various time zone offset formats to an offset in milliseconds\n\nfunction tzParseTimezone(timezoneString, date, isUtcDate) {\n  var token;\n  var absoluteOffset; // Empty string\n\n  if (!timezoneString) {\n    return 0;\n  } // Z\n\n\n  token = patterns.timezoneZ.exec(timezoneString);\n\n  if (token) {\n    return 0;\n  }\n\n  var hours; // hh\n\n  token = patterns.timezoneHH.exec(timezoneString);\n\n  if (token) {\n    hours = parseInt(token[1], 10);\n\n    if (!validateTimezone(hours)) {\n      return NaN;\n    }\n\n    return -(hours * MILLISECONDS_IN_HOUR);\n  } // hh:mm or hhmm\n\n\n  token = patterns.timezoneHHMM.exec(timezoneString);\n\n  if (token) {\n    hours = parseInt(token[1], 10);\n    var minutes = parseInt(token[2], 10);\n\n    if (!validateTimezone(hours, minutes)) {\n      return NaN;\n    }\n\n    absoluteOffset = Math.abs(hours) * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE;\n    return hours > 0 ? -absoluteOffset : absoluteOffset;\n  } // IANA time zone\n\n\n  if (isValidTimezoneIANAString(timezoneString)) {\n    date = new Date(date || Date.now());\n    var utcDate = isUtcDate ? date : toUtcDate(date);\n    var offset = calcOffset(utcDate, timezoneString);\n    var fixedOffset = isUtcDate ? offset : fixOffset(date, offset, timezoneString);\n    return -fixedOffset;\n  }\n\n  return NaN;\n}\n\nfunction toUtcDate(date) {\n  return (0, _index2.default)(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());\n}\n\nfunction calcOffset(date, timezoneString) {\n  var tokens = (0, _index.default)(date, timezoneString); // ms dropped because it's not provided by tzTokenizeDate\n\n  var asUTC = (0, _index2.default)(tokens[0], tokens[1] - 1, tokens[2], tokens[3] % 24, tokens[4], tokens[5], 0).getTime();\n  var asTS = date.getTime();\n  var over = asTS % 1000;\n  asTS -= over >= 0 ? over : 1000 + over;\n  return asUTC - asTS;\n}\n\nfunction fixOffset(date, offset, timezoneString) {\n  var localTS = date.getTime(); // Our UTC time is just a guess because our offset is just a guess\n\n  var utcGuess = localTS - offset; // Test whether the zone matches the offset for this ts\n\n  var o2 = calcOffset(new Date(utcGuess), timezoneString); // If so, offset didn't change, and we're done\n\n  if (offset === o2) {\n    return offset;\n  } // If not, change the ts by the difference in the offset\n\n\n  utcGuess -= o2 - offset; // If that gives us the local time we want, we're done\n\n  var o3 = calcOffset(new Date(utcGuess), timezoneString);\n\n  if (o2 === o3) {\n    return o2;\n  } // If it's different, we're in a hole time. The offset has changed, but we don't adjust the time\n\n\n  return Math.max(o2, o3);\n}\n\nfunction validateTimezone(hours, minutes) {\n  return -23 <= hours && hours <= 23 && (minutes == null || 0 <= minutes && minutes <= 59);\n}\n\nvar validIANATimezoneCache = {};\n\nfunction isValidTimezoneIANAString(timeZoneString) {\n  if (validIANATimezoneCache[timeZoneString]) return true;\n\n  try {\n    new Intl.DateTimeFormat(undefined, {\n      timeZone: timeZoneString\n    });\n    validIANATimezoneCache[timeZoneString] = true;\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"../../_lib/tzIntlTimeZoneName/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../../_lib/tzParseTimezone/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MILLISECONDS_IN_MINUTE = 60 * 1000;\nvar formatters = {\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, localize, options) {\n    var timezoneOffset = getTimeZoneOffset(options.timeZone, options._originalDate || date);\n\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimeter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n\n      case 'XXXX':\n      case 'XX':\n        // Hours and minutes without `:` delimeter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimeter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimeter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, localize, options) {\n    var timezoneOffset = getTimeZoneOffset(options.timeZone, options._originalDate || date);\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimeter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n\n      case 'xxxx':\n      case 'xx':\n        // Hours and minutes without `:` delimeter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimeter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimeter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (GMT)\n  O: function (date, token, localize, options) {\n    var timezoneOffset = getTimeZoneOffset(options.timeZone, options._originalDate || date);\n\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (specific non-location)\n  z: function (date, token, localize, options) {\n    var originalDate = options._originalDate || date;\n\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return (0, _index.default)('short', originalDate, options);\n      // Long\n\n      case 'zzzz':\n      default:\n        return (0, _index.default)('long', originalDate, options);\n    }\n  }\n};\n\nfunction getTimeZoneOffset(timeZone, originalDate) {\n  var timeZoneOffset = timeZone ? (0, _index2.default)(timeZone, originalDate, true) / MILLISECONDS_IN_MINUTE : originalDate.getTimezoneOffset();\n\n  if (Number.isNaN(timeZoneOffset)) {\n    throw new RangeError('Invalid time zone specified: ' + timeZone);\n  }\n\n  return timeZoneOffset;\n}\n\nfunction addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n\n  return sign + output;\n}\n\nfunction formatTimezone(offset, dirtyDelimeter) {\n  var delimeter = dirtyDelimeter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);\n  var minutes = addLeadingZeros(Math.floor(absOffset % 60), 2);\n  return sign + hours + delimeter + minutes;\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimeter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n\n  return formatTimezone(offset, dirtyDelimeter);\n}\n\nfunction formatTimezoneShort(offset, dirtyDelimeter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n\n  var delimeter = dirtyDelimeter || '';\n  return sign + String(hours) + delimeter + addLeadingZeros(minutes, 2);\n}\n\nvar _default = formatters;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/** Regex to identify the presence of a time zone specifier in a date string */\nvar tzPattern = /(Z|[+-]\\d{2}(?::?\\d{2})?| UTC| [a-zA-Z]+\\/[a-zA-Z_]+(?:\\/[a-zA-Z_]+)?)$/;\nvar _default = tzPattern;\nexports.default = _default;\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toDate;\n\nvar _index = _interopRequireDefault(require(\"date-fns/_lib/toInteger/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"date-fns/_lib/getTimezoneOffsetInMilliseconds/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../_lib/tzParseTimezone/index.js\"));\n\nvar _index4 = _interopRequireDefault(require(\"../_lib/tzPattern/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MILLISECONDS_IN_HOUR = 3600000;\nvar MILLISECONDS_IN_MINUTE = 60000;\nvar DEFAULT_ADDITIONAL_DIGITS = 2;\nvar patterns = {\n  dateTimePattern: /^([0-9W+-]+)(T| )(.*)/,\n  datePattern: /^([0-9W+-]+)(.*)/,\n  plainTime: /:/,\n  // year tokens\n  YY: /^(\\d{2})$/,\n  YYY: [/^([+-]\\d{2})$/, // 0 additional digits\n  /^([+-]\\d{3})$/, // 1 additional digit\n  /^([+-]\\d{4})$/ // 2 additional digits\n  ],\n  YYYY: /^(\\d{4})/,\n  YYYYY: [/^([+-]\\d{4})/, // 0 additional digits\n  /^([+-]\\d{5})/, // 1 additional digit\n  /^([+-]\\d{6})/ // 2 additional digits\n  ],\n  // date tokens\n  MM: /^-(\\d{2})$/,\n  DDD: /^-?(\\d{3})$/,\n  MMDD: /^-?(\\d{2})-?(\\d{2})$/,\n  Www: /^-?W(\\d{2})$/,\n  WwwD: /^-?W(\\d{2})-?(\\d{1})$/,\n  HH: /^(\\d{2}([.,]\\d*)?)$/,\n  HHMM: /^(\\d{2}):?(\\d{2}([.,]\\d*)?)$/,\n  HHMMSS: /^(\\d{2}):?(\\d{2}):?(\\d{2}([.,]\\d*)?)$/,\n  // time zone tokens (to identify the presence of a tz)\n  timeZone: _index4.default\n};\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If an argument is a string, the function tries to parse it.\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n * If the function cannot parse the string or the values are invalid, it returns Invalid Date.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n * All *date-fns* functions will throw `RangeError` if `options.additionalDigits` is not 0, 1, 2 or undefined.\n *\n * @param {Date|String|Number} argument - the value to convert\n * @param {OptionsWithTZ} [options] - the object with options. See [Options]{@link https://date-fns.org/docs/Options}\n * @param {0|1|2} [options.additionalDigits=2] - the additional number of digits in the extended year format\n * @param {String} [options.timeZone=''] - used to specify the IANA time zone offset of a date String.\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * var result = toDate('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * var result = toDate('+02014101', {additionalDigits: 1})\n * //=> Fri Apr 11 2014 00:00:00\n */\n\nfunction toDate(argument, dirtyOptions) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument required, but only ' + arguments.length + ' present');\n  }\n\n  if (argument === null) {\n    return new Date(NaN);\n  }\n\n  var options = dirtyOptions || {};\n  var additionalDigits = options.additionalDigits == null ? DEFAULT_ADDITIONAL_DIGITS : (0, _index.default)(options.additionalDigits);\n\n  if (additionalDigits !== 2 && additionalDigits !== 1 && additionalDigits !== 0) {\n    throw new RangeError('additionalDigits must be 0, 1 or 2');\n  } // Clone the date\n\n\n  if (argument instanceof Date || typeof argument === 'object' && Object.prototype.toString.call(argument) === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || Object.prototype.toString.call(argument) === '[object Number]') {\n    return new Date(argument);\n  } else if (!(typeof argument === 'string' || Object.prototype.toString.call(argument) === '[object String]')) {\n    return new Date(NaN);\n  }\n\n  var dateStrings = splitDateString(argument);\n  var parseYearResult = parseYear(dateStrings.date, additionalDigits);\n  var year = parseYearResult.year;\n  var restDateString = parseYearResult.restDateString;\n  var date = parseDate(restDateString, year);\n\n  if (isNaN(date)) {\n    return new Date(NaN);\n  }\n\n  if (date) {\n    var timestamp = date.getTime();\n    var time = 0;\n    var offset;\n\n    if (dateStrings.time) {\n      time = parseTime(dateStrings.time);\n\n      if (isNaN(time)) {\n        return new Date(NaN);\n      }\n    }\n\n    if (dateStrings.timeZone || options.timeZone) {\n      offset = (0, _index3.default)(dateStrings.timeZone || options.timeZone, new Date(timestamp + time));\n\n      if (isNaN(offset)) {\n        return new Date(NaN);\n      }\n    } else {\n      // get offset accurate to hour in time zones that change offset\n      offset = (0, _index2.default)(new Date(timestamp + time));\n      offset = (0, _index2.default)(new Date(timestamp + time + offset));\n    }\n\n    return new Date(timestamp + time + offset);\n  } else {\n    return new Date(NaN);\n  }\n}\n\nfunction splitDateString(dateString) {\n  var dateStrings = {};\n  var parts = patterns.dateTimePattern.exec(dateString);\n  var timeString;\n\n  if (!parts) {\n    parts = patterns.datePattern.exec(dateString);\n\n    if (parts) {\n      dateStrings.date = parts[1];\n      timeString = parts[2];\n    } else {\n      dateStrings.date = null;\n      timeString = dateString;\n    }\n  } else {\n    dateStrings.date = parts[1];\n    timeString = parts[3];\n  }\n\n  if (timeString) {\n    var token = patterns.timeZone.exec(timeString);\n\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], '');\n      dateStrings.timeZone = token[1].trim();\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  var patternYYY = patterns.YYY[additionalDigits];\n  var patternYYYYY = patterns.YYYYY[additionalDigits];\n  var token; // YYYY or YYYYY\n\n  token = patterns.YYYY.exec(dateString) || patternYYYYY.exec(dateString);\n\n  if (token) {\n    var yearString = token[1];\n    return {\n      year: parseInt(yearString, 10),\n      restDateString: dateString.slice(yearString.length)\n    };\n  } // YY or YYY\n\n\n  token = patterns.YY.exec(dateString) || patternYYY.exec(dateString);\n\n  if (token) {\n    var centuryString = token[1];\n    return {\n      year: parseInt(centuryString, 10) * 100,\n      restDateString: dateString.slice(centuryString.length)\n    };\n  } // Invalid ISO-formatted year\n\n\n  return {\n    year: null\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) {\n    return null;\n  }\n\n  var token;\n  var date;\n  var month;\n  var week; // YYYY\n\n  if (dateString.length === 0) {\n    date = new Date(0);\n    date.setUTCFullYear(year);\n    return date;\n  } // YYYY-MM\n\n\n  token = patterns.MM.exec(dateString);\n\n  if (token) {\n    date = new Date(0);\n    month = parseInt(token[1], 10) - 1;\n\n    if (!validateDate(year, month)) {\n      return new Date(NaN);\n    }\n\n    date.setUTCFullYear(year, month);\n    return date;\n  } // YYYY-DDD or YYYYDDD\n\n\n  token = patterns.DDD.exec(dateString);\n\n  if (token) {\n    date = new Date(0);\n    var dayOfYear = parseInt(token[1], 10);\n\n    if (!validateDayOfYearDate(year, dayOfYear)) {\n      return new Date(NaN);\n    }\n\n    date.setUTCFullYear(year, 0, dayOfYear);\n    return date;\n  } // yyyy-MM-dd or YYYYMMDD\n\n\n  token = patterns.MMDD.exec(dateString);\n\n  if (token) {\n    date = new Date(0);\n    month = parseInt(token[1], 10) - 1;\n    var day = parseInt(token[2], 10);\n\n    if (!validateDate(year, month, day)) {\n      return new Date(NaN);\n    }\n\n    date.setUTCFullYear(year, month, day);\n    return date;\n  } // YYYY-Www or YYYYWww\n\n\n  token = patterns.Www.exec(dateString);\n\n  if (token) {\n    week = parseInt(token[1], 10) - 1;\n\n    if (!validateWeekDate(year, week)) {\n      return new Date(NaN);\n    }\n\n    return dayOfISOWeekYear(year, week);\n  } // YYYY-Www-D or YYYYWwwD\n\n\n  token = patterns.WwwD.exec(dateString);\n\n  if (token) {\n    week = parseInt(token[1], 10) - 1;\n    var dayOfWeek = parseInt(token[2], 10) - 1;\n\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } // Invalid ISO-formatted date\n\n\n  return null;\n}\n\nfunction parseTime(timeString) {\n  var token;\n  var hours;\n  var minutes; // hh\n\n  token = patterns.HH.exec(timeString);\n\n  if (token) {\n    hours = parseFloat(token[1].replace(',', '.'));\n\n    if (!validateTime(hours)) {\n      return NaN;\n    }\n\n    return hours % 24 * MILLISECONDS_IN_HOUR;\n  } // hh:mm or hhmm\n\n\n  token = patterns.HHMM.exec(timeString);\n\n  if (token) {\n    hours = parseInt(token[1], 10);\n    minutes = parseFloat(token[2].replace(',', '.'));\n\n    if (!validateTime(hours, minutes)) {\n      return NaN;\n    }\n\n    return hours % 24 * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE;\n  } // hh:mm:ss or hhmmss\n\n\n  token = patterns.HHMMSS.exec(timeString);\n\n  if (token) {\n    hours = parseInt(token[1], 10);\n    minutes = parseInt(token[2], 10);\n    var seconds = parseFloat(token[3].replace(',', '.'));\n\n    if (!validateTime(hours, minutes, seconds)) {\n      return NaN;\n    }\n\n    return hours % 24 * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE + seconds * 1000;\n  } // Invalid ISO-formatted time\n\n\n  return null;\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  week = week || 0;\n  day = day || 0;\n  var date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  var fourthOfJanuaryDay = date.getUTCDay() || 7;\n  var diff = week * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n} // Validation functions\n\n\nvar DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nvar DAYS_IN_MONTH_LEAP_YEAR = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || year % 4 === 0 && year % 100 !== 0;\n}\n\nfunction validateDate(year, month, date) {\n  if (month < 0 || month > 11) {\n    return false;\n  }\n\n  if (date != null) {\n    if (date < 1) {\n      return false;\n    }\n\n    var isLeapYear = isLeapYearIndex(year);\n\n    if (isLeapYear && date > DAYS_IN_MONTH_LEAP_YEAR[month]) {\n      return false;\n    }\n\n    if (!isLeapYear && date > DAYS_IN_MONTH[month]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  if (dayOfYear < 1) {\n    return false;\n  }\n\n  var isLeapYear = isLeapYearIndex(year);\n\n  if (isLeapYear && dayOfYear > 366) {\n    return false;\n  }\n\n  if (!isLeapYear && dayOfYear > 365) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction validateWeekDate(year, week, day) {\n  if (week < 0 || week > 52) {\n    return false;\n  }\n\n  if (day != null && (day < 0 || day > 6)) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours != null && (hours < 0 || hours >= 25)) {\n    return false;\n  }\n\n  if (minutes != null && (minutes < 0 || minutes >= 60)) {\n    return false;\n  }\n\n  if (seconds != null && (seconds < 0 || seconds >= 60)) {\n    return false;\n  }\n\n  return true;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = format;\n\nvar _index = _interopRequireDefault(require(\"date-fns/format/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"./formatters/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../toDate/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar tzFormattingTokensRegExp = /([xXOz]+)|''|'(''|[^'])+('|$)/g;\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * >  Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://git.io/fxCyr\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 8     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 8     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Su            |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Su            | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Su, Sa        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Su            |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Su            |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | AM, PM                          | a..aaa  | AM, PM                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bbb  | AM, PM, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 1, 2, ..., 11, 0                  |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 0001, ..., 999               |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | PDT, EST, CEST                    | 6     |\n * |                                 | zzzz    | Pacific Daylight Time             | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 05/29/1453                        | 7     |\n * |                                 | PP      | May 29, 1453                      | 7     |\n * |                                 | PPP     | May 29th, 1453                    | 7     |\n * |                                 | PPPP    | Sunday, May 29th, 1453            | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 05/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | May 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | May 29th, 1453 at ...             | 7     |\n * |                                 | PPPPpppp| Sunday, May 29th, 1453 at ...     | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are created using the Intl browser API. The output is determined by the\n *    preferred standard of the current locale (en-US by default) which may not always give the expected result.\n *    For this reason it is recommended to supply a `locale` in the format options when formatting a time zone name.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. These tokens are often confused with others. See: https://git.io/fxCyr\n *\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole\n *   library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The second argument is now required for the sake of explicitness.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   format(new Date(2016, 0, 1))\n *\n *   // v2.0.0 onward\n *   format(new Date(2016, 0, 1), \"yyyy-MM-dd'T'HH:mm:ss.SSSxxx\")\n *   ```\n *\n * - New format string API for `format` function\n *   which is based on [Unicode Technical Standard\n *   #35](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table). See [this\n *   post](https://blog.date-fns.org/post/unicode-tokens-in-date-fns-v2-sreatyki91jg) for more details.\n *\n * - Characters are now escaped using single quote symbols (`'`) instead of square brackets.\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {OptionsWithTZ} [options] - the object with options. See [Options]{@link https://date-fns.org/docs/Options}\n * @param {0|1|2} [options.additionalDigits=2] - passed to `toDate`. See [toDate]{@link\n *   https://date-fns.org/docs/toDate}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See\n *   [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {Boolean} [options.awareOfUnicodeTokens=false] - if true, allows usage of Unicode tokens causes confusion:\n *   - Some of the day of year tokens (`D`, `DD`) that are confused with the day of month tokens (`d`, `dd`).\n *   - Some of the local week-numbering year tokens (`YY`, `YYYY`) that are confused with the calendar year tokens\n *   (`yy`, `yyyy`). See: https://git.io/fxCyr\n * @param {String} [options.timeZone=''] - used to specify the IANA time zone offset of a date String.\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} `options.awareOfUnicodeTokens` must be set to `true` to use `XX` token; see:\n *   https://git.io/fxCyr\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * var result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * var result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * var result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\n\nfunction format(dirtyDate, dirtyFormatStr, dirtyOptions) {\n  var formatStr = String(dirtyFormatStr);\n  var options = dirtyOptions || {};\n  var matches = formatStr.match(tzFormattingTokensRegExp);\n\n  if (matches) {\n    var date = (0, _index3.default)(dirtyDate, options); // Work through each match and replace the tz token in the format string with the quoted\n    // formatted time zone so the remaining tokens can be filled in by date-fns#format.\n\n    formatStr = matches.reduce(function (result, token) {\n      if (token[0] === \"'\") {\n        return result; // This is a quoted portion, matched only to ensure we don't match inside it\n      }\n\n      var pos = result.indexOf(token);\n      var precededByQuotedSection = result[pos - 1] === \"'\";\n      var replaced = result.replace(token, \"'\" + _index2.default[token[0]](date, token, null, options) + \"'\"); // If the replacement results in two adjoining quoted strings, the back to back quotes\n      // are removed, so it doesn't look like an escaped quote.\n\n      return precededByQuotedSection ? replaced.substring(0, pos - 1) + replaced.substring(pos + 1) : replaced;\n    }, formatStr);\n  }\n\n  return (0, _index.default)(dirtyDate, formatStr, options);\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = assign;\n\nfunction assign(target, dirtyObject) {\n  if (target == null) {\n    throw new TypeError('assign requires that input parameter not be null or undefined');\n  }\n\n  dirtyObject = dirtyObject || {};\n\n  for (var property in dirtyObject) {\n    if (dirtyObject.hasOwnProperty(property)) {\n      target[property] = dirtyObject[property];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = cloneObject;\n\nvar _index = _interopRequireDefault(require(\"../assign/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction cloneObject(dirtyObject) {\n  return (0, _index.default)({}, dirtyObject);\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = utcToZonedTime;\n\nvar _index = _interopRequireDefault(require(\"../_lib/tzParseTimezone/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../toDate/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @name utcToZonedTime\n * @category Time Zone Helpers\n * @summary Get a date/time representing local time in a given time zone from the UTC date\n *\n * @description\n * Returns a date instance with values representing the local time in the time zone\n * specified of the UTC time from the date provided. In other words, when the new date\n * is formatted it will show the equivalent hours in the target time zone regardless\n * of the current system time zone.\n *\n * @param {Date|String|Number} date - the date with the relevant UTC time\n * @param {String} timeZone - the time zone to get local time for, can be an offset or IANA time zone\n * @param {OptionsWithTZ} [options] - the object with options. See [Options]{@link https://date-fns.org/docs/Options}\n * @param {0|1|2} [options.additionalDigits=2] - passed to `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * @returns {Date} the new date with the equivalent time in the time zone\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n *\n * @example\n * // In June 10am UTC is 6am in New York (-04:00)\n * const result = utcToZonedTime('2014-06-25T10:00:00.000Z', 'America/New_York')\n * //=> Jun 25 2014 06:00:00\n */\nfunction utcToZonedTime(dirtyDate, timeZone, options) {\n  var date = (0, _index2.default)(dirtyDate, options);\n  var offsetMilliseconds = (0, _index.default)(timeZone, date, true);\n  var d = new Date(date.getTime() - offsetMilliseconds);\n  var resultDate = new Date(0);\n  resultDate.setFullYear(d.getUTCFullYear(), d.getUTCMonth(), d.getUTCDate());\n  resultDate.setHours(d.getUTCHours(), d.getUTCMinutes(), d.getUTCSeconds(), d.getUTCMilliseconds());\n  return resultDate;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = formatInTimeZone;\n\nvar _index = _interopRequireDefault(require(\"date-fns/_lib/cloneObject/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../format/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../utcToZonedTime/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @name formatInTimeZone\n * @category Time Zone Helpers\n * @summary Gets the offset in milliseconds between the time zone and Universal Coordinated Time (UTC)\n *\n * @param {Date|String|Number} date - the date representing the local time / real UTC time\n * @param {String} timeZone - the time zone this date should be formatted for; can be an offset or IANA time zone\n * @param {String} formatStr - the string of tokens\n * @param {OptionsWithTZ} [options] - the object with options. See [Options]{@link https://date-fns.org/docs/Options}\n * @param {0|1|2} [options.additionalDigits=2] - passed to `toDate`. See [toDate]{@link\n *   https://date-fns.org/docs/toDate}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See\n *   [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {Boolean} [options.awareOfUnicodeTokens=false] - if true, allows usage of Unicode tokens causes confusion:\n *   - Some of the day of year tokens (`D`, `DD`) that are confused with the day of month tokens (`d`, `dd`).\n *   - Some of the local week-numbering year tokens (`YY`, `YYYY`) that are confused with the calendar year tokens\n *   (`yy`, `yyyy`). See: https://git.io/fxCyr\n * @param {String} [options.timeZone=''] - used to specify the IANA time zone offset of a date String.\n * @returns {String} the formatted date string\n */\nfunction formatInTimeZone(date, timeZone, formatStr, options) {\n  var extendedOptions = (0, _index.default)(options);\n  extendedOptions.timeZone = timeZone;\n  return (0, _index2.default)((0, _index3.default)(date, timeZone), formatStr, extendedOptions);\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getTimezoneOffset;\n\nvar _index = _interopRequireDefault(require(\"../_lib/tzParseTimezone/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @name getTimezoneOffset\n * @category Time Zone Helpers\n * @summary Gets the offset in milliseconds between the time zone and Universal Coordinated Time (UTC)\n *\n * @description\n * Returns the time zone offset from UTC time in milliseconds for IANA time zones as well\n * as other time zone offset string formats.\n *\n * For time zones where daylight savings time is applicable a `Date` should be passed on\n * the second parameter to ensure the offset correctly accounts for DST at that time of\n * year. When omitted, the current date is used.\n *\n * @param {String} timeZone - the time zone of this local time, can be an offset or IANA time zone\n * @param {Date|Number} [date] - the date with values representing the local time\n * @returns {Number} the time zone offset in milliseconds\n *\n * @example\n * const result = getTimezoneOffset('-07:00')\n *   //=> -18000000 (-7 * 60 * 60 * 1000)\n * const result = getTimezoneOffset('Africa/Johannesburg')\n *   //=> 7200000 (2 * 60 * 60 * 1000)\n * const result = getTimezoneOffset('America/New_York', new Date(2016, 0, 1))\n *   //=> -18000000 (-5 * 60 * 60 * 1000)\n * const result = getTimezoneOffset('America/New_York', new Date(2016, 6, 1))\n *   //=> -14400000 (-4 * 60 * 60 * 1000)\n */\nfunction getTimezoneOffset(timeZone, date) {\n  return -(0, _index.default)(timeZone, date);\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = zonedTimeToUtc;\n\nvar _index = _interopRequireDefault(require(\"date-fns/_lib/cloneObject/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../toDate/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../_lib/tzPattern/index.js\"));\n\nvar _index4 = _interopRequireDefault(require(\"../_lib/tzParseTimezone/index.js\"));\n\nvar _index5 = _interopRequireDefault(require(\"../_lib/newDateUTC/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @name zonedTimeToUtc\n * @category Time Zone Helpers\n * @summary Get the UTC date/time from a date representing local time in a given time zone\n *\n * @description\n * Returns a date instance with the UTC time of the provided date of which the values\n * represented the local time in the time zone specified. In other words, if the input\n * date represented local time in time time zone, the timestamp of the output date will\n * give the equivalent UTC of that local time regardless of the current system time zone.\n *\n * @param {Date|String|Number} date - the date with values representing the local time\n * @param {String} timeZone - the time zone of this local time, can be an offset or IANA time zone\n * @param {OptionsWithTZ} [options] - the object with options. See [Options]{@link https://date-fns.org/docs/Options}\n * @param {0|1|2} [options.additionalDigits=2] - passed to `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * @returns {Date} the new date with the equivalent time in the time zone\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n *\n * @example\n * // In June 10am in Los Angeles is 5pm UTC\n * const result = zonedTimeToUtc(new Date(2014, 5, 25, 10, 0, 0), 'America/Los_Angeles')\n * //=> 2014-06-25T17:00:00.000Z\n */\nfunction zonedTimeToUtc(date, timeZone, options) {\n  if (typeof date === 'string' && !date.match(_index3.default)) {\n    var extendedOptions = (0, _index.default)(options);\n    extendedOptions.timeZone = timeZone;\n    return (0, _index2.default)(date, extendedOptions);\n  }\n\n  var d = (0, _index2.default)(date, options);\n  var utc = (0, _index5.default)(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds()).getTime();\n  var offsetMilliseconds = (0, _index4.default)(timeZone, new Date(utc));\n  return new Date(utc + offsetMilliseconds);\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\n// This file is generated automatically by `scripts/build/indices.js`. Please, don't change it.\nmodule.exports = {\n  format: require('./format/index.js'),\n  formatInTimeZone: require('./formatInTimeZone/index.js'),\n  getTimezoneOffset: require('./getTimezoneOffset/index.js'),\n  toDate: require('./toDate/index.js'),\n  utcToZonedTime: require('./utcToZonedTime/index.js'),\n  zonedTimeToUtc: require('./zonedTimeToUtc/index.js')\n};","import { utcToZonedTime } from 'date-fns-tz';\n\n// Constants\nconst DAYS_IN_WEEK = 7;\nconst MINUTES_IN_HOUR = 60;\nconst MINUTES_IN_DAY = 24 * 60;\n\n// ---------------------------------------------------------------------------\n// Internal helper utilities\n// ---------------------------------------------------------------------------\n\n/**\n * Get date in timezone\n * @private\n * @param {Date|string} time\n * @param {string} utcOffset\n * @returns {Date}\n */\nconst getDateInTimezone = (time, utcOffset) => {\n  const dateString = time instanceof Date ? time.toISOString() : time;\n  try {\n    return utcToZonedTime(dateString, utcOffset);\n  } catch (error) {\n    const userTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    // eslint-disable-next-line no-console\n    console.warn(\n      `Invalid timezone: ${utcOffset}, falling back to user timezone: ${userTimezone}`\n    );\n    return utcToZonedTime(dateString, userTimezone);\n  }\n};\n\n/**\n * Convert time to minutes\n * @private\n * @param {number} hours\n * @param {number} minutes\n * @returns {number}\n */\nconst toMinutes = (hours = 0, minutes = 0) => hours * MINUTES_IN_HOUR + minutes;\n\n/**\n * Get today's config\n * @private\n * @param {Date|string} time\n * @param {string} utcOffset\n * @param {Array} workingHours\n * @returns {Object|null}\n */\nconst getTodayConfig = (time, utcOffset, workingHours) => {\n  const date = getDateInTimezone(time, utcOffset);\n  const dayOfWeek = date.getDay();\n  return workingHours.find(slot => slot.dayOfWeek === dayOfWeek) || null;\n};\n\n/**\n * Check if current time is within working range, handling midnight crossing\n * @private\n * @param {number} currentMinutes\n * @param {number} openMinutes\n * @param {number} closeMinutes\n * @returns {boolean}\n */\nconst isTimeWithinRange = (currentMinutes, openMinutes, closeMinutes) => {\n  const crossesMidnight = closeMinutes <= openMinutes;\n\n  return crossesMidnight\n    ? currentMinutes >= openMinutes || currentMinutes < closeMinutes\n    : currentMinutes >= openMinutes && currentMinutes < closeMinutes;\n};\n\n/**\n * Build a map keyed by `dayOfWeek` for all slots that are NOT closed all day.\n * @private\n *\n * @param {Array<Object>} workingHours - Full array of working-hour slot configs.\n * @returns {Map<number, Object>} Map where the key is the numeric day (0-6) and the value is the slot config.\n */\nconst getOpenDaysMap = workingHours =>\n  new Map(\n    (workingHours || [])\n      .filter(slot => !slot.closedAllDay)\n      .map(slot => [slot.dayOfWeek, slot])\n  );\n\n/**\n * Determine if today's slot is still upcoming.\n * @private\n * Returns an object with details if the slot is yet to open, otherwise `null`.\n *\n * @param {number} currentDay - `Date#getDay()` value (0-6) for current time.\n * @param {number} currentMinutes - Minutes since midnight for current time.\n * @param {Map<number, Object>} openDays - Map produced by `getOpenDaysMap`.\n * @returns {Object|null} Slot details (config, minutesUntilOpen, etc.) or `null`.\n */\nconst checkTodayAvailability = (currentDay, currentMinutes, openDays) => {\n  const todayConfig = openDays.get(currentDay);\n  if (!todayConfig || todayConfig.openAllDay) return null;\n\n  const todayOpenMinutes = toMinutes(\n    todayConfig.openHour ?? 0,\n    todayConfig.openMinutes ?? 0\n  );\n\n  // Haven't opened yet today\n  if (currentMinutes < todayOpenMinutes) {\n    return {\n      config: todayConfig,\n      minutesUntilOpen: todayOpenMinutes - currentMinutes,\n      daysUntilOpen: 0,\n      dayOfWeek: currentDay,\n    };\n  }\n  return null;\n};\n\n/**\n * Search the upcoming days (including tomorrow) for the next open slot.\n * @private\n *\n * @param {number} currentDay - Day index (0-6) representing today.\n * @param {number} currentMinutes - Minutes since midnight for current time.\n * @param {Map<number, Object>} openDays - Map of open day configs.\n * @returns {Object|null} Details of the next slot or `null` if none found.\n */\nconst findNextSlot = (currentDay, currentMinutes, openDays) =>\n  Array.from({ length: DAYS_IN_WEEK }, (_, i) => i + 1)\n    .map(daysAhead => {\n      const targetDay = (currentDay + daysAhead) % DAYS_IN_WEEK;\n      const config = openDays.get(targetDay);\n\n      if (!config) return null;\n\n      // Calculate minutes until this slot opens\n      const slotOpenMinutes = config.openAllDay\n        ? 0\n        : toMinutes(config.openHour ?? 0, config.openMinutes ?? 0);\n      const minutesUntilOpen =\n        MINUTES_IN_DAY -\n        currentMinutes + // remaining mins today\n        (daysAhead - 1) * MINUTES_IN_DAY + // full days between\n        slotOpenMinutes; // opening on target day\n\n      return {\n        config,\n        minutesUntilOpen,\n        daysUntilOpen: daysAhead,\n        dayOfWeek: targetDay,\n      };\n    })\n    .find(Boolean) || null;\n\n/**\n * Convert slot details from inbox timezone to user timezone\n * @private\n * @param {Date} time - Current time\n * @param {string} inboxTz - Inbox timezone\n * @param {Object} slotDetails - Original slot details\n * @returns {Object} Slot details with user timezone adjustments\n */\nconst convertSlotToUserTimezone = (time, inboxTz, slotDetails) => {\n  if (!slotDetails) return null;\n\n  const userTz = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n  // If timezones match, no conversion needed\n  if (inboxTz === userTz) return slotDetails;\n\n  // Calculate when the slot opens (absolute time)\n  const now = time instanceof Date ? time : new Date(time);\n  const openingTime = new Date(\n    now.getTime() + slotDetails.minutesUntilOpen * 60000\n  );\n\n  // Convert to user timezone\n  const openingInUserTz = getDateInTimezone(openingTime, userTz);\n  const nowInUserTz = getDateInTimezone(now, userTz);\n\n  // Calculate days difference in user timezone\n  const openingDate = new Date(openingInUserTz);\n  openingDate.setHours(0, 0, 0, 0);\n  const todayDate = new Date(nowInUserTz);\n  todayDate.setHours(0, 0, 0, 0);\n  const daysUntilOpen = Math.round((openingDate - todayDate) / 86400000);\n\n  // Return with user timezone adjustments\n  return {\n    ...slotDetails,\n    config: {\n      ...slotDetails.config,\n      openHour: openingInUserTz.getHours(),\n      openMinutes: openingInUserTz.getMinutes(),\n      dayOfWeek: openingInUserTz.getDay(),\n    },\n    daysUntilOpen,\n    dayOfWeek: openingInUserTz.getDay(),\n  };\n};\n\n// ---------------------------------------------------------------------------\n// Exported functions\n// ---------------------------------------------------------------------------\n\n/**\n * Check if open all day\n * @param {Date|string} time\n * @param {string} utcOffset\n * @param {Array} workingHours\n * @returns {boolean}\n */\nexport const isOpenAllDay = (time, utcOffset, workingHours = []) => {\n  const todayConfig = getTodayConfig(time, utcOffset, workingHours);\n  return todayConfig?.openAllDay === true;\n};\n\n/**\n * Check if closed all day\n * @param {Date|string} time\n * @param {string} utcOffset\n * @param {Array} workingHours\n * @returns {boolean}\n */\nexport const isClosedAllDay = (time, utcOffset, workingHours = []) => {\n  const todayConfig = getTodayConfig(time, utcOffset, workingHours);\n  return todayConfig?.closedAllDay === true;\n};\n\n/**\n * Check if in working hours\n * @param {Date|string} time\n * @param {string} utcOffset\n * @param {Array} workingHours\n * @returns {boolean}\n */\nexport const isInWorkingHours = (time, utcOffset, workingHours = []) => {\n  if (!workingHours.length) return false;\n\n  const todayConfig = getTodayConfig(time, utcOffset, workingHours);\n  if (!todayConfig) return false;\n\n  // Handle all-day states\n  if (todayConfig.openAllDay) return true;\n  if (todayConfig.closedAllDay) return false;\n\n  // Check time-based availability\n  const date = getDateInTimezone(time, utcOffset);\n  const currentMinutes = toMinutes(date.getHours(), date.getMinutes());\n\n  const openMinutes = toMinutes(\n    todayConfig.openHour ?? 0,\n    todayConfig.openMinutes ?? 0\n  );\n  const closeMinutes = toMinutes(\n    todayConfig.closeHour ?? 0,\n    todayConfig.closeMinutes ?? 0\n  );\n\n  return isTimeWithinRange(currentMinutes, openMinutes, closeMinutes);\n};\n\n/**\n * Find next available slot with detailed information\n * Returns times adjusted to user's timezone for display\n * @param {Date|string} time\n * @param {string} utcOffset\n * @param {Array} workingHours\n * @returns {Object|null}\n */\nexport const findNextAvailableSlotDetails = (\n  time,\n  utcOffset,\n  workingHours = []\n) => {\n  const date = getDateInTimezone(time, utcOffset);\n  const currentDay = date.getDay();\n  const currentMinutes = toMinutes(date.getHours(), date.getMinutes());\n\n  const openDays = getOpenDaysMap(workingHours);\n\n  // No open days at all\n  if (openDays.size === 0) return null;\n\n  // Check today first\n  const todaySlot = checkTodayAvailability(\n    currentDay,\n    currentMinutes,\n    openDays\n  );\n\n  // Find the slot (today or next)\n  const slotDetails =\n    todaySlot || findNextSlot(currentDay, currentMinutes, openDays);\n\n  // Convert to user timezone for display\n  return convertSlotToUserTimezone(time, utcOffset, slotDetails);\n};\n\n/**\n * Find minutes until next available slot\n * @param {Date|string} time\n * @param {string} utcOffset\n * @param {Array} workingHours\n * @returns {number|null}\n */\nexport const findNextAvailableSlotDiff = (\n  time,\n  utcOffset,\n  workingHours = []\n) => {\n  if (isInWorkingHours(time, utcOffset, workingHours)) {\n    return 0;\n  }\n\n  const nextSlot = findNextAvailableSlotDetails(time, utcOffset, workingHours);\n  return nextSlot ? nextSlot.minutesUntilOpen : null;\n};\n\n/**\n * Check if online\n * @param {boolean} workingHoursEnabled\n * @param {Date|string} time\n * @param {string} utcOffset\n * @param {Array} workingHours\n * @param {boolean} hasOnlineAgents\n * @returns {boolean}\n */\nexport const isOnline = (\n  workingHoursEnabled,\n  time,\n  utcOffset,\n  workingHours,\n  hasOnlineAgents\n) => {\n  if (!workingHoursEnabled) {\n    return hasOnlineAgents;\n  }\n\n  const inWorkingHours = isInWorkingHours(time, utcOffset, workingHours);\n  return inWorkingHours && hasOnlineAgents;\n};\n","import { computed, toRef } from 'vue';\nimport {\n  isOnline as checkIsOnline,\n  isInWorkingHours as checkInWorkingHours,\n} from 'widget/helpers/availabilityHelpers';\nimport { useCamelCase } from 'dashboard/composables/useTransformKeys';\n\nconst DEFAULT_TIMEZONE = 'UTC';\nconst DEFAULT_REPLY_TIME = 'in_a_few_minutes';\n\n/**\n * Composable for availability-related logic\n * @param {Ref|Array} agents - Available agents (can be ref or raw array)\n * @returns {Object} Availability utilities and computed properties\n */\nexport function useAvailability(agents = []) {\n  const availableAgents = toRef(agents);\n\n  const channelConfig = computed(() => window.chatwootWebChannel || {});\n\n  const inboxConfig = computed(() => ({\n    workingHours: channelConfig.value.workingHours?.map(useCamelCase) || [],\n    workingHoursEnabled: channelConfig.value.workingHoursEnabled || false,\n    timezone: channelConfig.value.timezone || DEFAULT_TIMEZONE,\n    utcOffset:\n      channelConfig.value.utcOffset ||\n      channelConfig.value.timezone ||\n      DEFAULT_TIMEZONE,\n    replyTime: channelConfig.value.replyTime || DEFAULT_REPLY_TIME,\n  }));\n\n  const currentTime = computed(() => new Date());\n\n  const hasOnlineAgents = computed(() => {\n    const agentList = availableAgents.value || [];\n    return Array.isArray(agentList) ? agentList.length > 0 : false;\n  });\n\n  const isInWorkingHours = computed(() =>\n    checkInWorkingHours(\n      currentTime.value,\n      inboxConfig.value.utcOffset,\n      inboxConfig.value.workingHours\n    )\n  );\n\n  // Check if online (considering both working hours and agents)\n  const isOnline = computed(() =>\n    checkIsOnline(\n      inboxConfig.value.workingHoursEnabled,\n      currentTime.value,\n      inboxConfig.value.utcOffset,\n      inboxConfig.value.workingHours,\n      hasOnlineAgents.value\n    )\n  );\n\n  return {\n    channelConfig,\n    inboxConfig,\n\n    currentTime,\n    availableAgents,\n    hasOnlineAgents,\n\n    isOnline,\n    isInWorkingHours,\n  };\n}\n","<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport { setHeader } from 'widget/helpers/axios';\nimport addHours from 'date-fns/addHours';\nimport { IFrameHelper, RNHelper } from 'widget/helpers/utils';\nimport configMixin from './mixins/configMixin';\nimport { getLocale } from './helpers/urlParamsHelper';\nimport { getLanguageDirection } from 'dashboard/components/widgets/conversation/advancedFilterItems/languages';\nimport { isEmptyObject } from 'widget/helpers/utils';\nimport Spinner from 'shared/components/Spinner.vue';\nimport {\n  getExtraSpaceToScroll,\n  loadedEventConfig,\n} from './helpers/IframeEventHelper';\nimport {\n  ON_AGENT_MESSAGE_RECEIVED,\n  ON_CAMPAIGN_MESSAGE_CLICK,\n  ON_UNREAD_MESSAGE_CLICK,\n} from './constants/widgetBusEvents';\nimport { useDarkMode } from 'widget/composables/useDarkMode';\nimport { useRouter } from 'vue-router';\nimport { useAvailability } from 'widget/composables/useAvailability';\nimport { SDK_SET_BUBBLE_VISIBILITY } from '../shared/constants/sharedFrameEvents';\nimport { emitter } from 'shared/helpers/mitt';\n\nexport default {\n  name: 'App',\n  components: {\n    Spinner,\n  },\n  mixins: [configMixin],\n  setup() {\n    const { prefersDarkMode } = useDarkMode();\n    const router = useRouter();\n    const { isInWorkingHours } = useAvailability();\n\n    return { prefersDarkMode, router, isInWorkingHours };\n  },\n  data() {\n    return {\n      isMobile: false,\n      campaignsSnoozedTill: undefined,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      activeCampaign: 'campaign/getActiveCampaign',\n      conversationSize: 'conversation/getConversationSize',\n      hideMessageBubble: 'appConfig/getHideMessageBubble',\n      isFetchingList: 'conversation/getIsFetchingList',\n      isRightAligned: 'appConfig/isRightAligned',\n      isWidgetOpen: 'appConfig/getIsWidgetOpen',\n      messageCount: 'conversation/getMessageCount',\n      unreadMessageCount: 'conversation/getUnreadMessageCount',\n      isWidgetStyleFlat: 'appConfig/isWidgetStyleFlat',\n      showUnreadMessagesDialog: 'appConfig/getShowUnreadMessagesDialog',\n    }),\n    isIFrame() {\n      return IFrameHelper.isIFrame();\n    },\n    isRNWebView() {\n      return RNHelper.isRNWebView();\n    },\n    isRTL() {\n      return this.$root.$i18n.locale\n        ? getLanguageDirection(this.$root.$i18n.locale)\n        : false;\n    },\n  },\n  watch: {\n    activeCampaign() {\n      this.setCampaignView();\n    },\n    isRTL: {\n      immediate: true,\n      handler(value) {\n        document.documentElement.dir = value ? 'rtl' : 'ltr';\n      },\n    },\n  },\n  mounted() {\n    const { websiteToken, locale, widgetColor } = window.chatwootWebChannel;\n    this.setLocale(locale);\n    this.setWidgetColor(widgetColor);\n    setHeader(window.authToken);\n    if (this.isIFrame) {\n      this.registerListeners();\n      this.sendLoadedEvent();\n    } else {\n      this.fetchOldConversations();\n      this.fetchAvailableAgents(websiteToken);\n      this.setLocale(getLocale(window.location.search));\n    }\n    if (this.isRNWebView) {\n      this.registerListeners();\n      this.sendRNWebViewLoadedEvent();\n    }\n    this.$store.dispatch('conversationAttributes/getAttributes');\n    this.registerUnreadEvents();\n    this.registerCampaignEvents();\n  },\n  methods: {\n    ...mapActions('appConfig', [\n      'setAppConfig',\n      'setReferrerHost',\n      'setWidgetColor',\n      'setBubbleVisibility',\n      'setColorScheme',\n    ]),\n    ...mapActions('conversation', ['fetchOldConversations']),\n    ...mapActions('campaign', [\n      'initCampaigns',\n      'executeCampaign',\n      'resetCampaign',\n    ]),\n    ...mapActions('agent', ['fetchAvailableAgents']),\n    scrollConversationToBottom() {\n      const container = this.$el.querySelector('.conversation-wrap');\n      container.scrollTop = container.scrollHeight;\n    },\n    setBubbleLabel() {\n      IFrameHelper.sendMessage({\n        event: 'setBubbleLabel',\n        label: this.$t('BUBBLE.LABEL'),\n      });\n    },\n    setIframeHeight(isFixedHeight) {\n      this.$nextTick(() => {\n        const extraHeight = getExtraSpaceToScroll();\n        IFrameHelper.sendMessage({\n          event: 'updateIframeHeight',\n          isFixedHeight,\n          extraHeight,\n        });\n      });\n    },\n    setLocale(localeWithVariation) {\n      if (!localeWithVariation) return;\n      const { enabledLanguages } = window.chatwootWebChannel;\n      const localeWithoutVariation = localeWithVariation.split('_')[0];\n      const hasLocaleWithoutVariation = enabledLanguages.some(\n        lang => lang.iso_639_1_code === localeWithoutVariation\n      );\n      const hasLocaleWithVariation = enabledLanguages.some(\n        lang => lang.iso_639_1_code === localeWithVariation\n      );\n\n      if (hasLocaleWithVariation) {\n        this.$root.$i18n.locale = localeWithVariation;\n      } else if (hasLocaleWithoutVariation) {\n        this.$root.$i18n.locale = localeWithoutVariation;\n      }\n    },\n    registerUnreadEvents() {\n      emitter.on(ON_AGENT_MESSAGE_RECEIVED, () => {\n        const { name: routeName } = this.$route;\n        if ((this.isWidgetOpen || !this.isIFrame) && routeName === 'messages') {\n          this.$store.dispatch('conversation/setUserLastSeen');\n        }\n        this.setUnreadView();\n      });\n      emitter.on(ON_UNREAD_MESSAGE_CLICK, () => {\n        this.router\n          .replace({ name: 'messages' })\n          .then(() => this.unsetUnreadView());\n      });\n    },\n    registerCampaignEvents() {\n      emitter.on(ON_CAMPAIGN_MESSAGE_CLICK, () => {\n        if (this.shouldShowPreChatForm) {\n          this.router.replace({ name: 'prechat-form' });\n        } else {\n          this.router.replace({ name: 'messages' });\n          emitter.emit('execute-campaign', {\n            campaignId: this.activeCampaign.id,\n          });\n        }\n        this.unsetUnreadView();\n      });\n      emitter.on('execute-campaign', campaignDetails => {\n        const { customAttributes, campaignId } = campaignDetails;\n        const { websiteToken } = window.chatwootWebChannel;\n        this.executeCampaign({ campaignId, websiteToken, customAttributes });\n        this.router.replace({ name: 'messages' });\n      });\n      emitter.on('snooze-campaigns', () => {\n        const expireBy = addHours(new Date(), 1);\n        this.campaignsSnoozedTill = Number(expireBy);\n      });\n    },\n    setCampaignView() {\n      const { messageCount, activeCampaign } = this;\n      const shouldSnoozeCampaign =\n        this.campaignsSnoozedTill && this.campaignsSnoozedTill > Date.now();\n      const isCampaignReadyToExecute =\n        !isEmptyObject(activeCampaign) &&\n        !messageCount &&\n        !shouldSnoozeCampaign;\n      if (this.isIFrame && isCampaignReadyToExecute) {\n        this.router.replace({ name: 'campaigns' }).then(() => {\n          this.setIframeHeight(true);\n          IFrameHelper.sendMessage({ event: 'setUnreadMode' });\n        });\n      }\n    },\n    setUnreadView() {\n      const { unreadMessageCount } = this;\n      if (!this.showUnreadMessagesDialog) {\n        this.handleUnreadNotificationDot();\n      } else if (\n        this.isIFrame &&\n        unreadMessageCount > 0 &&\n        !this.isWidgetOpen\n      ) {\n        this.router.replace({ name: 'unread-messages' }).then(() => {\n          this.setIframeHeight(true);\n          IFrameHelper.sendMessage({ event: 'setUnreadMode' });\n        });\n        this.handleUnreadNotificationDot();\n      }\n    },\n    unsetUnreadView() {\n      if (this.isIFrame) {\n        IFrameHelper.sendMessage({ event: 'resetUnreadMode' });\n        this.setIframeHeight(false);\n        this.handleUnreadNotificationDot();\n      }\n    },\n    handleUnreadNotificationDot() {\n      const { unreadMessageCount } = this;\n      if (this.isIFrame) {\n        IFrameHelper.sendMessage({\n          event: 'handleNotificationDot',\n          unreadMessageCount,\n        });\n      }\n    },\n    createWidgetEvents(message) {\n      const { eventName } = message;\n      const isWidgetTriggerEvent = eventName === 'webwidget.triggered';\n      if (\n        isWidgetTriggerEvent &&\n        ['unread-messages', 'campaigns'].includes(this.$route.name)\n      ) {\n        return;\n      }\n      this.$store.dispatch('events/create', { name: eventName });\n    },\n    registerListeners() {\n      const { websiteToken } = window.chatwootWebChannel;\n      window.addEventListener('message', e => {\n        if (!IFrameHelper.isAValidEvent(e)) {\n          return;\n        }\n        const message = IFrameHelper.getMessage(e);\n        if (message.event === 'config-set') {\n          this.setLocale(message.locale);\n          this.setBubbleLabel();\n          this.fetchOldConversations().then(() => this.setUnreadView());\n          this.fetchAvailableAgents(websiteToken);\n          this.setAppConfig(message);\n          this.$store.dispatch('contacts/get');\n          this.setCampaignReadData(message.campaignsSnoozedTill);\n        } else if (message.event === 'widget-visible') {\n          this.scrollConversationToBottom();\n        } else if (message.event === 'change-url') {\n          const { referrerURL, referrerHost } = message;\n          this.initCampaigns({\n            currentURL: referrerURL,\n            websiteToken,\n            isInBusinessHours: this.isInWorkingHours,\n          });\n          window.referrerURL = referrerURL;\n          this.setReferrerHost(referrerHost);\n        } else if (message.event === 'toggle-close-button') {\n          this.isMobile = message.isMobile;\n        } else if (message.event === 'push-event') {\n          this.createWidgetEvents(message);\n        } else if (message.event === 'set-label') {\n          this.$store.dispatch('conversationLabels/create', message.label);\n        } else if (message.event === 'remove-label') {\n          this.$store.dispatch('conversationLabels/destroy', message.label);\n        } else if (message.event === 'set-user') {\n          this.$store.dispatch('contacts/setUser', message);\n        } else if (message.event === 'set-custom-attributes') {\n          this.$store.dispatch(\n            'contacts/setCustomAttributes',\n            message.customAttributes\n          );\n        } else if (message.event === 'delete-custom-attribute') {\n          this.$store.dispatch(\n            'contacts/deleteCustomAttribute',\n            message.customAttribute\n          );\n        } else if (message.event === 'set-conversation-custom-attributes') {\n          this.$store.dispatch(\n            'conversation/setCustomAttributes',\n            message.customAttributes\n          );\n        } else if (message.event === 'delete-conversation-custom-attribute') {\n          this.$store.dispatch(\n            'conversation/deleteCustomAttribute',\n            message.customAttribute\n          );\n        } else if (message.event === 'set-locale') {\n          this.setLocale(message.locale);\n          this.setBubbleLabel();\n        } else if (message.event === 'set-color-scheme') {\n          this.setColorScheme(message.darkMode);\n        } else if (message.event === 'toggle-open') {\n          this.$store.dispatch('appConfig/toggleWidgetOpen', message.isOpen);\n\n          const shouldShowMessageView =\n            ['home'].includes(this.$route.name) &&\n            message.isOpen &&\n            this.messageCount;\n          const shouldShowHomeView =\n            !message.isOpen &&\n            ['unread-messages', 'campaigns'].includes(this.$route.name);\n\n          if (shouldShowMessageView) {\n            this.router.replace({ name: 'messages' });\n          }\n          if (shouldShowHomeView) {\n            this.$store.dispatch('conversation/setUserLastSeen');\n            this.unsetUnreadView();\n            this.router.replace({ name: 'home' });\n          }\n          if (!message.isOpen) {\n            this.resetCampaign();\n          }\n        } else if (message.event === SDK_SET_BUBBLE_VISIBILITY) {\n          this.setBubbleVisibility(message.hideMessageBubble);\n        }\n      });\n    },\n    sendLoadedEvent() {\n      IFrameHelper.sendMessage(loadedEventConfig());\n    },\n    sendRNWebViewLoadedEvent() {\n      RNHelper.sendMessage(loadedEventConfig());\n    },\n    setCampaignReadData(snoozedTill) {\n      if (snoozedTill) {\n        this.campaignsSnoozedTill = Number(snoozedTill);\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    v-if=\"!conversationSize && isFetchingList\"\n    class=\"flex items-center justify-center flex-1 h-full bg-n-background\"\n    :class=\"{ dark: prefersDarkMode }\"\n  >\n    <Spinner size=\"\" />\n  </div>\n  <div\n    v-else\n    class=\"flex flex-col justify-end h-full\"\n    :class=\"{\n      'is-mobile': isMobile,\n      'is-widget-right': isRightAligned,\n      'is-bubble-hidden': hideMessageBubble,\n      'is-flat-design': isWidgetStyleFlat,\n      dark: prefersDarkMode,\n    }\"\n  >\n    <router-view />\n  </div>\n</template>\n\n<style lang=\"scss\">\n@import 'widget/assets/scss/woot.scss';\n</style>\n","import { IFrameHelper } from 'widget/helpers/utils';\n\nexport const playNewMessageNotificationInWidget = () => {\n  IFrameHelper.sendMessage({ event: 'playAudio' });\n};\n","import BaseActionCableConnector from '../../shared/helpers/BaseActionCableConnector';\nimport { playNewMessageNotificationInWidget } from 'widget/helpers/WidgetAudioNotificationHelper';\nimport { ON_AGENT_MESSAGE_RECEIVED } from '../constants/widgetBusEvents';\nimport { IFrameHelper } from 'widget/helpers/utils';\nimport { shouldTriggerMessageUpdateEvent } from './IframeEventHelper';\nimport { CHATWOOT_ON_MESSAGE } from '../constants/sdkEvents';\nimport { emitter } from '../../shared/helpers/mitt';\n\nconst isMessageInActiveConversation = (getters, message) => {\n  const { conversation_id: conversationId } = message;\n  const activeConversationId =\n    getters['conversationAttributes/getConversationParams'].id;\n  return activeConversationId && conversationId !== activeConversationId;\n};\n\nclass ActionCableConnector extends BaseActionCableConnector {\n  constructor(app, pubsubToken) {\n    super(app, pubsubToken);\n    this.events = {\n      'message.created': this.onMessageCreated,\n      'message.updated': this.onMessageUpdated,\n      'conversation.typing_on': this.onTypingOn,\n      'conversation.typing_off': this.onTypingOff,\n      'conversation.status_changed': this.onStatusChange,\n      'conversation.created': this.onConversationCreated,\n      'presence.update': this.onPresenceUpdate,\n      'contact.merged': this.onContactMerge,\n    };\n  }\n\n  onDisconnected = () => {\n    this.setLastMessageId();\n  };\n\n  onReconnect = () => {\n    this.syncLatestMessages();\n  };\n\n  setLastMessageId = () => {\n    this.app.$store.dispatch('conversation/setLastMessageId');\n  };\n\n  syncLatestMessages = () => {\n    this.app.$store.dispatch('conversation/syncLatestMessages');\n  };\n\n  onStatusChange = data => {\n    if (data.status === 'resolved') {\n      this.app.$store.dispatch('campaign/resetCampaign');\n    }\n    this.app.$store.dispatch('conversationAttributes/update', data);\n  };\n\n  onMessageCreated = data => {\n    if (isMessageInActiveConversation(this.app.$store.getters, data)) {\n      return;\n    }\n\n    this.app.$store\n      .dispatch('conversation/addOrUpdateMessage', data)\n      .then(() => emitter.emit(ON_AGENT_MESSAGE_RECEIVED));\n\n    IFrameHelper.sendMessage({\n      event: 'onEvent',\n      eventIdentifier: CHATWOOT_ON_MESSAGE,\n      data,\n    });\n    if (data.sender_type === 'User') {\n      playNewMessageNotificationInWidget();\n    }\n  };\n\n  onMessageUpdated = data => {\n    if (isMessageInActiveConversation(this.app.$store.getters, data)) {\n      return;\n    }\n\n    if (shouldTriggerMessageUpdateEvent(data)) {\n      IFrameHelper.sendMessage({\n        event: 'onEvent',\n        eventIdentifier: CHATWOOT_ON_MESSAGE,\n        data,\n      });\n    }\n\n    this.app.$store.dispatch('conversation/addOrUpdateMessage', data);\n  };\n\n  onConversationCreated = () => {\n    this.app.$store.dispatch('conversationAttributes/getAttributes');\n  };\n\n  onPresenceUpdate = data => {\n    this.app.$store.dispatch('agent/updatePresence', data.users);\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  onContactMerge = data => {\n    const { pubsub_token: pubsubToken } = data;\n    ActionCableConnector.refreshConnector(pubsubToken);\n  };\n\n  onTypingOn = data => {\n    const activeConversationId =\n      this.app.$store.getters['conversationAttributes/getConversationParams']\n        .id;\n    const isUserTypingOnAnotherConversation =\n      data.conversation && data.conversation.id !== activeConversationId;\n\n    if (isUserTypingOnAnotherConversation || data.is_private) {\n      return;\n    }\n    this.clearTimer();\n    this.app.$store.dispatch('conversation/toggleAgentTyping', {\n      status: 'on',\n    });\n    this.initTimer();\n  };\n\n  onTypingOff = () => {\n    this.clearTimer();\n    this.app.$store.dispatch('conversation/toggleAgentTyping', {\n      status: 'off',\n    });\n  };\n\n  clearTimer = () => {\n    if (this.CancelTyping) {\n      clearTimeout(this.CancelTyping);\n      this.CancelTyping = null;\n    }\n  };\n\n  initTimer = () => {\n    // Turn off typing automatically after 30 seconds\n    this.CancelTyping = setTimeout(() => {\n      this.onTypingOff();\n    }, 30000);\n  };\n}\n\nexport default ActionCableConnector;\n","<script>\nimport { BUS_EVENTS } from 'shared/constants/busEvents';\nimport { emitter } from 'shared/helpers/mitt';\n\nexport default {\n  data() {\n    return {\n      showBannerMessage: false,\n      bannerMessage: '',\n      bannerType: 'error',\n    };\n  },\n  mounted() {\n    emitter.on(BUS_EVENTS.SHOW_ALERT, ({ message, type = 'error' }) => {\n      this.bannerMessage = message;\n      this.bannerType = type;\n      this.showBannerMessage = true;\n      setTimeout(() => {\n        this.showBannerMessage = false;\n      }, 3000);\n    });\n  },\n};\n</script>\n\n<!-- eslint-disable-next-line vue/no-root-v-if -->\n<template>\n  <div v-if=\"showBannerMessage\" :class=\"`banner ${bannerType}`\">\n    <span>\n      {{ bannerMessage }}\n    </span>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.banner {\n  @apply text-white text-sm font-semibold p-3 text-center;\n\n  &.success {\n    @apply bg-n-teal-9;\n  }\n\n  &.error {\n    @apply bg-n-ruby-9;\n  }\n}\n</style>\n","<script>\nimport { mapGetters } from 'vuex';\nimport { IFrameHelper, RNHelper } from 'widget/helpers/utils';\nimport { popoutChatWindow } from '../helpers/popoutHelper';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport configMixin from 'widget/mixins/configMixin';\nimport { CONVERSATION_STATUS } from 'shared/constants/messages';\n\nexport default {\n  name: 'HeaderActions',\n  components: { FluentIcon },\n  mixins: [configMixin],\n  props: {\n    showPopoutButton: {\n      type: Boolean,\n      default: false,\n    },\n    showEndConversationButton: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  computed: {\n    ...mapGetters({\n      conversationAttributes: 'conversationAttributes/getConversationParams',\n      canUserEndConversation: 'appConfig/getCanUserEndConversation',\n    }),\n    canLeaveConversation() {\n      return [\n        CONVERSATION_STATUS.OPEN,\n        CONVERSATION_STATUS.SNOOZED,\n        CONVERSATION_STATUS.PENDING,\n      ].includes(this.conversationStatus);\n    },\n    isIframe() {\n      return IFrameHelper.isIFrame();\n    },\n    isRNWebView() {\n      return RNHelper.isRNWebView();\n    },\n    showHeaderActions() {\n      return this.isIframe || this.isRNWebView || this.hasWidgetOptions;\n    },\n    conversationStatus() {\n      return this.conversationAttributes.status;\n    },\n    hasWidgetOptions() {\n      return this.showPopoutButton || this.conversationStatus === 'open';\n    },\n  },\n  methods: {\n    popoutWindow() {\n      this.closeWindow();\n      const {\n        location: { origin },\n        chatwootWebChannel: { websiteToken },\n        authToken,\n      } = window;\n      popoutChatWindow(\n        origin,\n        websiteToken,\n        this.$root.$i18n.locale,\n        authToken\n      );\n    },\n    closeWindow() {\n      if (IFrameHelper.isIFrame()) {\n        IFrameHelper.sendMessage({ event: 'closeWindow' });\n      } else if (RNHelper.isRNWebView) {\n        RNHelper.sendMessage({ type: 'close-widget' });\n      }\n    },\n    resolveConversation() {\n      this.$store.dispatch('conversation/resolveConversation');\n    },\n  },\n};\n</script>\n\n<!-- eslint-disable-next-line vue/no-root-v-if -->\n<template>\n  <div v-if=\"showHeaderActions\" class=\"actions flex items-center gap-3\">\n    <button\n      v-if=\"\n        canLeaveConversation &&\n        canUserEndConversation &&\n        hasEndConversationEnabled &&\n        showEndConversationButton\n      \"\n      class=\"button transparent compact\"\n      :title=\"$t('END_CONVERSATION')\"\n      @click=\"resolveConversation\"\n    >\n      <FluentIcon icon=\"sign-out\" size=\"22\" class=\"text-n-slate-12\" />\n    </button>\n    <button\n      v-if=\"showPopoutButton\"\n      class=\"button transparent compact new-window--button\"\n      @click=\"popoutWindow\"\n    >\n      <FluentIcon icon=\"open\" size=\"22\" class=\"text-n-slate-12\" />\n    </button>\n    <button\n      class=\"button transparent compact close-button\"\n      :class=\"{\n        'rn-close-button': isRNWebView,\n      }\"\n      @click=\"closeWindow\"\n    >\n      <FluentIcon icon=\"dismiss\" size=\"24\" class=\"text-n-slate-12\" />\n    </button>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.actions {\n  .close-button {\n    display: none;\n  }\n\n  .rn-close-button {\n    display: block !important;\n  }\n}\n</style>\n","<script setup>\nimport Avatar from 'dashboard/components-next/avatar/Avatar.vue';\nimport { defineProps, computed } from 'vue';\n\nconst props = defineProps({\n  users: {\n    type: Array,\n    default: () => [],\n  },\n  limit: {\n    type: Number,\n    default: 4,\n  },\n});\n\nconst usersToDisplay = computed(() => props.users.slice(0, props.limit));\n</script>\n\n<template>\n  <div class=\"flex\">\n    <span\n      v-for=\"(user, index) in usersToDisplay\"\n      :key=\"user.id\"\n      :class=\"index ? 'ltr:-ml-4 rtl:-mr-4' : ''\"\n      class=\"inline-block rounded-full text-white shadow-solid\"\n    >\n      <Avatar\n        :name=\"user.name\"\n        :src=\"user.avatar_url\"\n        :size=\"36\"\n        class=\"[&>span]:outline [&>span]:outline-1 [&>span]:outline-n-background\"\n        rounded-full\n      />\n    </span>\n  </div>\n</template>\n","<script setup>\nimport { computed } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport { getTime } from 'dashboard/routes/dashboard/settings/inbox/helpers/businessHour.js';\nimport { findNextAvailableSlotDetails } from 'widget/helpers/availabilityHelpers';\n\nconst props = defineProps({\n  time: {\n    type: Date,\n    required: true,\n  },\n  utcOffset: {\n    type: String,\n    required: true,\n  },\n  workingHours: {\n    type: Array,\n    required: true,\n  },\n  workingHoursEnabled: {\n    type: Boolean,\n    required: true,\n  },\n  replyTime: {\n    type: String,\n    default: 'in_a_few_minutes',\n  },\n  isOnline: {\n    type: Boolean,\n    required: true,\n  },\n  isInWorkingHours: {\n    type: Boolean,\n    required: true,\n  },\n});\n\nconst MINUTE_ROUNDING_INTERVAL = 5;\nconst HOUR_THRESHOLD_FOR_EXACT_TIME = 3;\nconst MINUTES_IN_HOUR = 60;\n\nconst { t } = useI18n();\n\nconst dayNames = computed(() => [\n  t('DAY_NAMES.SUNDAY'),\n  t('DAY_NAMES.MONDAY'),\n  t('DAY_NAMES.TUESDAY'),\n  t('DAY_NAMES.WEDNESDAY'),\n  t('DAY_NAMES.THURSDAY'),\n  t('DAY_NAMES.FRIDAY'),\n  t('DAY_NAMES.SATURDAY'),\n]);\n\n// Check if all days in working hours are closed\nconst allDayClosed = computed(() => {\n  if (!props.workingHours.length) return false;\n  return props.workingHours.every(slot => slot.closedAllDay);\n});\n\nconst replyTimeMessage = computed(() => {\n  const replyTimeKey = `REPLY_TIME.${props.replyTime.toUpperCase()}`;\n  return t(replyTimeKey);\n});\n\nconst nextSlot = computed(() => {\n  if (\n    !props.workingHoursEnabled ||\n    allDayClosed.value ||\n    (props.isInWorkingHours && props.isOnline)\n  ) {\n    return null;\n  }\n\n  const slot = findNextAvailableSlotDetails(\n    props.time,\n    props.utcOffset,\n    props.workingHours\n  );\n  if (!slot) return null;\n\n  return {\n    ...slot,\n    hoursUntilOpen: Math.floor(slot.minutesUntilOpen / MINUTES_IN_HOUR),\n    remainingMinutes: slot.minutesUntilOpen % MINUTES_IN_HOUR,\n  };\n});\n\nconst roundedMinutesUntilOpen = computed(() => {\n  if (!nextSlot.value) return 0;\n  return (\n    Math.ceil(nextSlot.value.remainingMinutes / MINUTE_ROUNDING_INTERVAL) *\n    MINUTE_ROUNDING_INTERVAL\n  );\n});\n\nconst adjustedHoursUntilOpen = computed(() => {\n  if (!nextSlot.value) return 0;\n  return nextSlot.value.remainingMinutes > 0\n    ? nextSlot.value.hoursUntilOpen + 1\n    : nextSlot.value.hoursUntilOpen;\n});\n\nconst formattedOpeningTime = computed(() => {\n  if (!nextSlot.value) return '';\n  return getTime(\n    nextSlot.value.config.openHour || 0,\n    nextSlot.value.config.openMinutes || 0\n  );\n});\n</script>\n\n<template>\n  <span>\n    <!-- 1. If currently in working hours, show reply time -->\n    <template v-if=\"isInWorkingHours\">\n      {{ replyTimeMessage }}\n    </template>\n\n    <!-- 2. Else, if working hours are disabled, show based on online status -->\n    <template v-else-if=\"!workingHoursEnabled\">\n      {{\n        isOnline\n          ? replyTimeMessage\n          : t('TEAM_AVAILABILITY.BACK_AS_SOON_AS_POSSIBLE')\n      }}\n    </template>\n\n    <!-- 3. Else (not in working hours, but working hours ARE enabled) -->\n    <!-- Check if all configured slots are 'closedAllDay' -->\n    <template v-else-if=\"allDayClosed\">\n      {{ t('TEAM_AVAILABILITY.BACK_AS_SOON_AS_POSSIBLE') }}\n    </template>\n\n    <!-- 4. Else (not in WH, WH enabled, not allDayClosed), calculate next slot -->\n    <template v-else-if=\"!nextSlot\">\n      {{ t('REPLY_TIME.BACK_IN_SOME_TIME') }}\n    </template>\n\n    <!-- Tomorrow -->\n    <template v-else-if=\"nextSlot.daysUntilOpen === 1\">\n      {{ t('REPLY_TIME.BACK_TOMORROW') }}\n    </template>\n\n    <!-- Multiple days away (eg: on Monday) -->\n    <template v-else-if=\"nextSlot.daysUntilOpen > 1\">\n      {{\n        t('REPLY_TIME.BACK_ON_DAY', {\n          day: dayNames[nextSlot.config.dayOfWeek],\n        })\n      }}\n    </template>\n\n    <!-- Same day - less than 1 hour (eg: in 5 minutes) -->\n    <template v-else-if=\"nextSlot.hoursUntilOpen === 0\">\n      {{\n        t('REPLY_TIME.BACK_IN_MINUTES', {\n          time: `${roundedMinutesUntilOpen}`,\n        })\n      }}\n    </template>\n\n    <!-- Same day - less than 3 hours (eg: in 2 hours) -->\n    <template\n      v-else-if=\"nextSlot.hoursUntilOpen < HOUR_THRESHOLD_FOR_EXACT_TIME\"\n    >\n      {{ t('REPLY_TIME.BACK_IN_HOURS', adjustedHoursUntilOpen) }}\n    </template>\n\n    <!-- Same day - 3+ hours away (eg: at 10:00 AM) -->\n    <template v-else>\n      {{\n        t('REPLY_TIME.BACK_AT_TIME', {\n          time: formattedOpeningTime,\n        })\n      }}\n    </template>\n  </span>\n</template>\n","<script setup>\nimport { computed } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport { useMapGetter } from 'dashboard/composables/store.js';\nimport GroupedAvatars from 'widget/components/GroupedAvatars.vue';\nimport AvailabilityText from './AvailabilityText.vue';\nimport { useAvailability } from 'widget/composables/useAvailability';\n\nconst props = defineProps({\n  agents: {\n    type: Array,\n    default: () => [],\n  },\n  showHeader: {\n    type: Boolean,\n    default: true,\n  },\n  showAvatars: {\n    type: Boolean,\n    default: true,\n  },\n  textClasses: {\n    type: String,\n    default: '',\n  },\n});\n\nconst { t } = useI18n();\n\nconst availableMessage = useMapGetter('appConfig/getAvailableMessage');\nconst unavailableMessage = useMapGetter('appConfig/getUnavailableMessage');\n\nconst {\n  currentTime,\n  hasOnlineAgents,\n  isOnline,\n  inboxConfig,\n  isInWorkingHours,\n} = useAvailability(props.agents);\n\nconst workingHours = computed(() => inboxConfig.value.workingHours || []);\nconst workingHoursEnabled = computed(\n  () => inboxConfig.value.workingHoursEnabled || false\n);\nconst utcOffset = computed(\n  () => inboxConfig.value.utcOffset || inboxConfig.value.timezone || 'UTC'\n);\nconst replyTime = computed(\n  () => inboxConfig.value.replyTime || 'in_a_few_minutes'\n);\n\n// If online or in working hours\nconst isAvailable = computed(\n  () => isOnline.value || (workingHoursEnabled.value && isInWorkingHours.value)\n);\n\nconst headerText = computed(() =>\n  isAvailable.value\n    ? availableMessage.value || t('TEAM_AVAILABILITY.ONLINE')\n    : unavailableMessage.value || t('TEAM_AVAILABILITY.OFFLINE')\n);\n</script>\n\n<template>\n  <div class=\"flex items-center justify-between gap-2\">\n    <div class=\"flex flex-col gap-1\">\n      <div v-if=\"showHeader\" class=\"font-medium text-n-slate-12\">\n        {{ headerText }}\n      </div>\n\n      <AvailabilityText\n        :time=\"currentTime\"\n        :utc-offset=\"utcOffset\"\n        :working-hours=\"workingHours\"\n        :working-hours-enabled=\"workingHoursEnabled\"\n        :has-online-agents=\"hasOnlineAgents\"\n        :reply-time=\"replyTime\"\n        :is-online=\"isOnline\"\n        :is-in-working-hours=\"isInWorkingHours\"\n        :class=\"textClasses\"\n        class=\"text-n-slate-11\"\n      />\n    </div>\n\n    <GroupedAvatars v-if=\"showAvatars && isOnline\" :users=\"agents\" />\n  </div>\n</template>\n","<script setup>\nimport { toRef } from 'vue';\nimport { useRouter } from 'vue-router';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport HeaderActions from './HeaderActions.vue';\nimport AvailabilityContainer from 'widget/components/Availability/AvailabilityContainer.vue';\nimport { useAvailability } from 'widget/composables/useAvailability';\n\nconst props = defineProps({\n  avatarUrl: { type: String, default: '' },\n  title: { type: String, default: '' },\n  showPopoutButton: { type: Boolean, default: false },\n  showBackButton: { type: Boolean, default: false },\n  availableAgents: { type: Array, default: () => [] },\n});\n\nconst availableAgents = toRef(props, 'availableAgents');\n\nconst router = useRouter();\nconst { isOnline } = useAvailability(availableAgents);\n\nconst onBackButtonClick = () => {\n  router.replace({ name: 'home' });\n};\n</script>\n\n<template>\n  <header class=\"flex justify-between w-full p-5 bg-n-background gap-2\">\n    <div class=\"flex items-center\">\n      <button\n        v-if=\"showBackButton\"\n        class=\"px-2 ltr:-ml-3 rtl:-mr-3\"\n        @click=\"onBackButtonClick\"\n      >\n        <FluentIcon icon=\"chevron-left\" size=\"24\" class=\"text-n-slate-12\" />\n      </button>\n      <img\n        v-if=\"avatarUrl\"\n        class=\"w-8 h-8 ltr:mr-3 rtl:ml-3 rounded-full\"\n        :src=\"avatarUrl\"\n        alt=\"avatar\"\n      />\n      <div class=\"flex flex-col gap-1\">\n        <div\n          class=\"flex items-center text-base font-medium leading-4 text-n-slate-12\"\n        >\n          <span v-dompurify-html=\"title\" class=\"ltr:mr-1 rtl:ml-1\" />\n          <div\n            :class=\"`h-2 w-2 rounded-full\n              ${isOnline ? 'bg-n-teal-10' : 'hidden'}`\"\n          />\n        </div>\n        <AvailabilityContainer\n          :agents=\"availableAgents\"\n          :show-header=\"false\"\n          :show-avatars=\"false\"\n          text-classes=\"text-xs leading-3\"\n        />\n      </div>\n    </div>\n    <HeaderActions :show-popout-button=\"showPopoutButton\" />\n  </header>\n</template>\n","<script setup>\nimport HeaderActions from './HeaderActions.vue';\nimport { computed } from 'vue';\nimport { useMessageFormatter } from 'shared/composables/useMessageFormatter';\n\nconst props = defineProps({\n  avatarUrl: {\n    type: String,\n    default: '',\n  },\n  introHeading: {\n    type: String,\n    default: '',\n  },\n  introBody: {\n    type: String,\n    default: '',\n  },\n  showPopoutButton: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst { formatMessage } = useMessageFormatter();\n\nconst containerClasses = computed(() => [\n  props.avatarUrl ? 'justify-between' : 'justify-end',\n]);\n</script>\n\n<template>\n  <header\n    class=\"header-expanded pt-6 pb-4 px-5 relative box-border w-full bg-transparent\"\n  >\n    <div class=\"flex items-start\" :class=\"containerClasses\">\n      <img\n        v-if=\"avatarUrl\"\n        class=\"h-12 rounded-full\"\n        :src=\"avatarUrl\"\n        alt=\"Avatar\"\n      />\n      <HeaderActions\n        :show-popout-button=\"showPopoutButton\"\n        :show-end-conversation-button=\"false\"\n      />\n    </div>\n    <h2\n      v-dompurify-html=\"introHeading\"\n      class=\"mt-4 text-2xl mb-1.5 font-medium text-n-slate-12 line-clamp-4\"\n    />\n    <p\n      v-dompurify-html=\"formatMessage(introBody)\"\n      class=\"text-lg leading-normal text-n-slate-11 [&_a]:underline line-clamp-6\"\n    />\n  </header>\n</template>\n","<script>\nimport Banner from '../Banner.vue';\nimport Branding from 'shared/components/Branding.vue';\nimport ChatHeader from '../ChatHeader.vue';\nimport ChatHeaderExpanded from '../ChatHeaderExpanded.vue';\nimport configMixin from '../../mixins/configMixin';\nimport { mapGetters } from 'vuex';\nimport { IFrameHelper } from 'widget/helpers/utils';\n\nexport default {\n  components: {\n    Banner,\n    Branding,\n    ChatHeader,\n    ChatHeaderExpanded,\n  },\n  mixins: [configMixin],\n  data() {\n    return {\n      showPopoutButton: false,\n      scrollPosition: 0,\n      ticking: true,\n      disableBranding: window.chatwootWebChannel.disableBranding || false,\n      requestID: null,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      appConfig: 'appConfig/getAppConfig',\n      availableAgents: 'agent/availableAgents',\n    }),\n    portal() {\n      return window.chatwootWebChannel.portal;\n    },\n    isHeaderCollapsed() {\n      if (!this.hasIntroText) {\n        return true;\n      }\n      return !this.isOnHomeView;\n    },\n    hasIntroText() {\n      return (\n        this.channelConfig.welcomeTitle || this.channelConfig.welcomeTagline\n      );\n    },\n    showBackButton() {\n      return ['article-viewer', 'messages', 'prechat-form'].includes(\n        this.$route.name\n      );\n    },\n    isOnArticleViewer() {\n      return ['article-viewer'].includes(this.$route.name);\n    },\n    isOnHomeView() {\n      return ['home'].includes(this.$route.name);\n    },\n    opacityClass() {\n      if (this.isHeaderCollapsed) {\n        return {};\n      }\n      if (this.scrollPosition > 30) {\n        return { 'opacity-30': true };\n      }\n      if (this.scrollPosition > 25) {\n        return { 'opacity-40': true };\n      }\n      if (this.scrollPosition > 20) {\n        return { 'opacity-60': true };\n      }\n      if (this.scrollPosition > 15) {\n        return { 'opacity-80': true };\n      }\n      if (this.scrollPosition > 10) {\n        return { 'opacity-90': true };\n      }\n      return {};\n    },\n  },\n  mounted() {\n    this.$el.addEventListener('scroll', this.updateScrollPosition);\n  },\n  unmounted() {\n    this.$el.removeEventListener('scroll', this.updateScrollPosition);\n    cancelAnimationFrame(this.requestID);\n  },\n  methods: {\n    closeWindow() {\n      IFrameHelper.sendMessage({ event: 'closeWindow' });\n    },\n    updateScrollPosition(event) {\n      this.scrollPosition = event.target.scrollTop;\n      if (!this.ticking) {\n        this.requestID = window.requestAnimationFrame(() => {\n          this.ticking = false;\n        });\n\n        this.ticking = true;\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"w-full h-full bg-n-slate-2 dark:bg-n-solid-1\"\n    :class=\"{ 'overflow-auto': isOnHomeView }\"\n    @keydown.esc=\"closeWindow\"\n  >\n    <div class=\"relative flex flex-col h-full\">\n      <div\n        :class=\"{\n          expanded: !isHeaderCollapsed,\n          collapsed: isHeaderCollapsed,\n          'shadow-[0_10px_15px_-16px_rgba(50,50,93,0.08),0_4px_6px_-8px_rgba(50,50,93,0.04)]':\n            isHeaderCollapsed,\n          ...opacityClass,\n        }\"\n      >\n        <ChatHeaderExpanded\n          v-if=\"!isHeaderCollapsed\"\n          :intro-heading=\"appConfig.welcomeTitle || channelConfig.welcomeTitle\"\n          :intro-body=\"\n            appConfig.welcomeDescription || channelConfig.welcomeTagline\n          \"\n          :avatar-url=\"channelConfig.avatarUrl\"\n          :show-popout-button=\"appConfig.showPopoutButton\"\n        />\n        <ChatHeader\n          v-if=\"isHeaderCollapsed\"\n          :title=\"channelConfig.websiteName\"\n          :avatar-url=\"channelConfig.avatarUrl\"\n          :show-popout-button=\"appConfig.showPopoutButton\"\n          :available-agents=\"availableAgents\"\n          :show-back-button=\"showBackButton\"\n        />\n      </div>\n      <Banner />\n      <router-view />\n\n      <Branding v-if=\"!isOnArticleViewer\" :disable-branding=\"disableBranding\" />\n    </div>\n  </div>\n</template>\n","import { createRouter, createWebHashHistory } from 'vue-router';\nimport ViewWithHeader from './components/layouts/ViewWithHeader.vue';\nimport store from './store';\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes: [\n    {\n      path: '/unread-messages',\n      name: 'unread-messages',\n      component: () => import('./views/UnreadMessages.vue'),\n    },\n    {\n      path: '/campaigns',\n      name: 'campaigns',\n      component: () => import('./views/Campaigns.vue'),\n    },\n    {\n      path: '/',\n      component: ViewWithHeader,\n      children: [\n        {\n          path: '',\n          name: 'home',\n          component: () => import('./views/Home.vue'),\n        },\n        {\n          path: '/prechat-form',\n          name: 'prechat-form',\n          component: () => import('./views/PreChatForm.vue'),\n        },\n        {\n          path: '/messages',\n          name: 'messages',\n          component: () => import('./views/Messages.vue'),\n        },\n        {\n          path: '/article',\n          name: 'article-viewer',\n          component: () => import('./views/ArticleViewer.vue'),\n        },\n      ],\n    },\n  ],\n});\n\n/**\n * Navigation Guards to Handle Route Transitions\n *\n * Purpose:\n * Prevents duplicate form submissions and API calls during route transitions,\n * especially important in high-latency scenarios.\n *\n * Flow:\n * 1. beforeEach: Sets isUpdatingRoute to true at start of navigation\n * 2. Component buttons/actions check this flag to prevent duplicate actions\n * 3. afterEach: Resets the flag once navigation is complete\n *\n * Implementation note:\n * Handling it globally, so that we can use it across all components\n * to ensure consistent UI behavior during all route transitions.\n *\n * @see https://github.com/chatwoot/chatwoot/issues/10736\n */\n\nrouter.beforeEach(async (to, from, next) => {\n  // Prevent any user interactions during route transition\n  await store.dispatch('appConfig/setRouteTransitionState', true);\n  next();\n});\n\nrouter.afterEach(() => {\n  // Re-enable user interactions after navigation is complete\n  store.dispatch('appConfig/setRouteTransitionState', false);\n});\n\nexport default router;\n","import { createApp } from 'vue';\nimport { createI18n } from 'vue-i18n';\n\nimport VueDOMPurifyHTML from 'vue-dompurify-html';\nimport store from '../widget/store';\nimport App from '../widget/App.vue';\nimport ActionCableConnector from '../widget/helpers/actionCable';\nimport i18nMessages from '../widget/i18n';\nimport router from '../widget/router';\nimport { directive as onClickaway } from 'vue3-click-away';\nimport { domPurifyConfig } from '../shared/helpers/HTMLSanitizer';\nimport { plugin, defaultConfig } from '@formkit/vue';\n\nimport {\n  startsWithPlus,\n  isPhoneNumberValidWithDialCode,\n} from 'shared/helpers/Validators';\n\nconst i18n = createI18n({\n  legacy: false, // https://github.com/intlify/vue-i18n/issues/1902\n  locale: 'en',\n  messages: i18nMessages,\n});\n\nconst app = createApp(App);\napp.use(i18n);\napp.use(store);\napp.use(router);\napp.use(VueDOMPurifyHTML, domPurifyConfig);\napp.directive('on-clickaway', onClickaway);\n\napp.use(\n  plugin,\n  defaultConfig({\n    rules: {\n      startsWithPlus: ({ value }) => startsWithPlus(value),\n      isValidPhoneNumber: ({ value }) => isPhoneNumberValidWithDialCode(value),\n    },\n  })\n);\n\n// Event Bus\n// We can use the useEmitter directly\n// Vue.prototype.$emitter = emitter;\n\n// Vue.config.productionTip = false;\n\nwindow.onload = () => {\n  window.WOOT_WIDGET = app.mount('#app');\n  window.actionCable = new ActionCableConnector(\n    window.WOOT_WIDGET,\n    window.chatwootPubsubToken\n  );\n};\n"],"file":"assets/widget-BcosoSvU.js"}