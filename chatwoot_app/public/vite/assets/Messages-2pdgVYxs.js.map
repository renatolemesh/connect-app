{"version":3,"file":"Messages-2pdgVYxs.js","sources":["../../../app/javascript/widget/components/FooterReplyTo.vue","../../../app/javascript/widget/components/ChatAttachment.vue","../../../app/javascript/widget/components/ChatSendButton.vue","../../../app/javascript/widget/components/ChatInputWrap.vue","../../../app/javascript/widget/components/ChatFooter.vue","../../../app/javascript/widget/components/UserMessageBubble.vue","../../../app/javascript/widget/components/MessageReplyButton.vue","../../../app/javascript/widget/components/ImageBubble.vue","../../../app/javascript/widget/components/VideoBubble.vue","../../../app/javascript/widget/components/FileBubble.vue","../../../app/javascript/widget/mixins/messageMixin.js","../../../app/javascript/widget/components/ReplyToChip.vue","../../../app/javascript/widget/components/DragWrapper.vue","../../../app/javascript/widget/components/UserMessage.vue","../../../app/javascript/shared/components/CardButton.vue","../../../app/javascript/shared/components/ChatCard.vue","../../../app/javascript/shared/components/ChatForm.vue","../../../app/javascript/shared/components/ChatOption.vue","../../../app/javascript/shared/components/ChatOptions.vue","../../../app/javascript/widget/components/template/Article.vue","../../../app/javascript/widget/components/template/EmailInput.vue","../../../app/javascript/shared/components/CustomerSatisfaction.vue","../../../app/javascript/widget/api/integration.js","../../../app/javascript/widget/components/template/IntegrationCard.vue","../../../app/javascript/widget/components/AgentMessageBubble.vue","../../../app/javascript/widget/components/AgentMessage.vue","../../../app/javascript/widget/components/ChatMessage.vue","../../../app/javascript/widget/components/AgentTypingBubble.vue","../../../app/javascript/shared/components/DateSeparator.vue","../../../app/javascript/widget/components/ConversationWrap.vue","../../../app/javascript/widget/views/Messages.vue"],"sourcesContent":["<script>\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\n\nexport default {\n  name: 'FooterReplyTo',\n  components: { FluentIcon },\n  props: {\n    inReplyTo: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  emits: ['dismiss'],\n  computed: {\n    replyToAttachment() {\n      if (!this.inReplyTo?.attachments?.length) {\n        return '';\n      }\n\n      const [{ file_type: fileType } = {}] = this.inReplyTo.attachments;\n      return this.$t(`ATTACHMENTS.${fileType}.CONTENT`);\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"mb-2.5 rounded-[7px] bg-n-slate-3 px-2 py-1.5 text-sm text-n-slate-11 flex items-center gap-2\"\n  >\n    <div class=\"items-center flex-grow truncate\">\n      <strong>{{ $t('FOOTER_REPLY_TO.REPLY_TO') }}</strong>\n      {{ inReplyTo.content || replyToAttachment }}\n    </div>\n    <button\n      class=\"items-end flex-shrink-0 p-1 rounded-md hover:bg-n-slate-5\"\n      @click=\"$emit('dismiss')\"\n    >\n      <FluentIcon icon=\"dismiss\" size=\"12\" />\n    </button>\n  </div>\n</template>\n","<script>\nimport FileUpload from 'vue-upload-component';\nimport Spinner from 'shared/components/Spinner.vue';\nimport { checkFileSizeLimit } from 'shared/helpers/FileHelper';\nimport {\n  MAXIMUM_FILE_UPLOAD_SIZE,\n  ALLOWED_FILE_TYPES,\n} from 'shared/constants/messages';\nimport { BUS_EVENTS } from 'shared/constants/busEvents';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport { DirectUpload } from 'activestorage';\nimport { mapGetters } from 'vuex';\nimport { emitter } from 'shared/helpers/mitt';\n\nexport default {\n  components: { FluentIcon, FileUpload, Spinner },\n  props: {\n    onAttach: {\n      type: Function,\n      default: () => {},\n    },\n  },\n  data() {\n    return { isUploading: false };\n  },\n  computed: {\n    ...mapGetters({\n      globalConfig: 'globalConfig/get',\n      shouldShowFilePicker: 'appConfig/getShouldShowFilePicker',\n    }),\n    fileUploadSizeLimit() {\n      return MAXIMUM_FILE_UPLOAD_SIZE;\n    },\n    allowedFileTypes() {\n      return ALLOWED_FILE_TYPES;\n    },\n  },\n  mounted() {\n    document.addEventListener('paste', this.handleClipboardPaste);\n  },\n  unmounted() {\n    document.removeEventListener('paste', this.handleClipboardPaste);\n  },\n  methods: {\n    handleClipboardPaste(e) {\n      // If file picker is not enabled, do not allow paste\n      if (!this.shouldShowFilePicker) return;\n\n      const items = (e.clipboardData || e.originalEvent.clipboardData).items;\n      // items is a DataTransferItemList object which does not have forEach method\n      const itemsArray = Array.from(items);\n      itemsArray.forEach(item => {\n        if (item.kind === 'file') {\n          e.preventDefault();\n          const file = item.getAsFile();\n          this.$refs.upload.add(file);\n        }\n      });\n    },\n    getFileType(fileType) {\n      return fileType.includes('image') ? 'image' : 'file';\n    },\n    async onFileUpload(file) {\n      if (this.globalConfig.directUploadsEnabled) {\n        await this.onDirectFileUpload(file);\n      } else {\n        await this.onIndirectFileUpload(file);\n      }\n    },\n    async onDirectFileUpload(file) {\n      if (!file) {\n        return;\n      }\n      this.isUploading = true;\n      try {\n        if (checkFileSizeLimit(file, MAXIMUM_FILE_UPLOAD_SIZE)) {\n          const { websiteToken } = window.chatwootWebChannel;\n          const upload = new DirectUpload(\n            file.file,\n            `/api/v1/widget/direct_uploads?website_token=${websiteToken}`,\n            {\n              directUploadWillCreateBlobWithXHR: xhr => {\n                xhr.setRequestHeader('X-Auth-Token', window.authToken);\n              },\n            }\n          );\n\n          upload.create((error, blob) => {\n            if (error) {\n              emitter.emit(BUS_EVENTS.SHOW_ALERT, {\n                message: error,\n              });\n            } else {\n              this.onAttach({\n                file: blob.signed_id,\n                ...this.getLocalFileAttributes(file),\n              });\n            }\n          });\n        } else {\n          emitter.emit(BUS_EVENTS.SHOW_ALERT, {\n            message: this.$t('FILE_SIZE_LIMIT', {\n              MAXIMUM_FILE_UPLOAD_SIZE: this.fileUploadSizeLimit,\n            }),\n          });\n        }\n      } catch (error) {\n        // Error\n      }\n      this.isUploading = false;\n    },\n    async onIndirectFileUpload(file) {\n      if (!file) {\n        return;\n      }\n      this.isUploading = true;\n      try {\n        if (checkFileSizeLimit(file, MAXIMUM_FILE_UPLOAD_SIZE)) {\n          await this.onAttach({\n            file: file.file,\n            ...this.getLocalFileAttributes(file),\n          });\n        } else {\n          emitter.emit(BUS_EVENTS.SHOW_ALERT, {\n            message: this.$t('FILE_SIZE_LIMIT', {\n              MAXIMUM_FILE_UPLOAD_SIZE: this.fileUploadSizeLimit,\n            }),\n          });\n        }\n      } catch (error) {\n        // Error\n      }\n      this.isUploading = false;\n    },\n    getLocalFileAttributes(file) {\n      return {\n        thumbUrl: window.URL.createObjectURL(file.file),\n        fileType: this.getFileType(file.type),\n      };\n    },\n  },\n};\n</script>\n\n<template>\n  <FileUpload\n    ref=\"upload\"\n    :size=\"4096 * 2048\"\n    :accept=\"allowedFileTypes\"\n    :data=\"{\n      direct_upload_url: '/api/v1/widget/direct_uploads',\n      direct_upload: true,\n    }\"\n    @input-file=\"onFileUpload\"\n  >\n    <button class=\"min-h-8 min-w-8 flex items-center justify-center\">\n      <FluentIcon v-if=\"!isUploading.image\" icon=\"attach\" />\n      <Spinner v-if=\"isUploading\" size=\"small\" />\n    </button>\n  </FileUpload>\n</template>\n","<script>\nimport Spinner from 'shared/components/Spinner.vue';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\n\nexport default {\n  components: {\n    FluentIcon,\n    Spinner,\n  },\n  props: {\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    color: {\n      type: String,\n      default: '#6e6f73',\n    },\n  },\n};\n</script>\n\n<template>\n  <button\n    type=\"submit\"\n    :disabled=\"disabled\"\n    class=\"min-h-8 min-w-8 flex items-center justify-center ml-1\"\n  >\n    <FluentIcon v-if=\"!loading\" icon=\"send\" :style=\"`color: ${color}`\" />\n    <Spinner v-else size=\"small\" />\n  </button>\n</template>\n","<script>\nimport { mapGetters } from 'vuex';\n\nimport ChatAttachmentButton from 'widget/components/ChatAttachment.vue';\nimport ChatSendButton from 'widget/components/ChatSendButton.vue';\nimport configMixin from '../mixins/configMixin';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport ResizableTextArea from 'shared/components/ResizableTextArea.vue';\n\nimport EmojiInput from 'shared/components/emoji/EmojiInput.vue';\n\nexport default {\n  name: 'ChatInputWrap',\n  components: {\n    ChatAttachmentButton,\n    ChatSendButton,\n    EmojiInput,\n    FluentIcon,\n    ResizableTextArea,\n  },\n  mixins: [configMixin],\n  props: {\n    onSendMessage: {\n      type: Function,\n      default: () => {},\n    },\n    onSendAttachment: {\n      type: Function,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      userInput: '',\n      showEmojiPicker: false,\n      isFocused: false,\n    };\n  },\n\n  computed: {\n    ...mapGetters({\n      widgetColor: 'appConfig/getWidgetColor',\n      isWidgetOpen: 'appConfig/getIsWidgetOpen',\n      shouldShowFilePicker: 'appConfig/getShouldShowFilePicker',\n      shouldShowEmojiPicker: 'appConfig/getShouldShowEmojiPicker',\n    }),\n    showAttachment() {\n      return (\n        this.shouldShowFilePicker &&\n        this.hasAttachmentsEnabled &&\n        this.userInput.length === 0\n      );\n    },\n    showSendButton() {\n      return this.userInput.length > 0;\n    },\n  },\n  watch: {\n    isWidgetOpen(isWidgetOpen) {\n      if (isWidgetOpen) {\n        this.focusInput();\n      }\n    },\n  },\n  unmounted() {\n    document.removeEventListener('keypress', this.handleEnterKeyPress);\n  },\n  mounted() {\n    document.addEventListener('keypress', this.handleEnterKeyPress);\n    if (this.isWidgetOpen) {\n      this.focusInput();\n    }\n  },\n\n  methods: {\n    onBlur() {\n      this.isFocused = false;\n    },\n    onFocus() {\n      this.isFocused = true;\n    },\n    handleButtonClick() {\n      if (this.userInput && this.userInput.trim()) {\n        this.onSendMessage(this.userInput);\n      }\n      this.userInput = '';\n      this.focusInput();\n    },\n    handleEnterKeyPress(e) {\n      if (e.keyCode === 13 && !e.shiftKey) {\n        e.preventDefault();\n        this.handleButtonClick();\n      }\n    },\n    toggleEmojiPicker() {\n      this.showEmojiPicker = !this.showEmojiPicker;\n    },\n    hideEmojiPicker(e) {\n      if (this.showEmojiPicker) {\n        e.stopPropagation();\n        this.toggleEmojiPicker();\n      }\n    },\n    emojiOnClick(emoji) {\n      this.userInput = `${this.userInput}${emoji} `;\n    },\n    onTypingOff() {\n      this.toggleTyping('off');\n    },\n    onTypingOn() {\n      this.toggleTyping('on');\n    },\n    toggleTyping(typingStatus) {\n      this.$store.dispatch('conversation/toggleUserTyping', { typingStatus });\n    },\n    focusInput() {\n      this.$refs.chatInput.focus();\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"items-center flex ltr:pl-3 rtl:pr-3 ltr:pr-2 rtl:pl-2 rounded-[7px] transition-all duration-200 bg-n-background !shadow-[0_0_0_1px,0_0_2px_3px]\"\n    :class=\"{\n      '!shadow-n-brand dark:!shadow-n-brand': isFocused,\n      '!shadow-n-strong dark:!shadow-n-strong': !isFocused,\n    }\"\n    @keydown.esc=\"hideEmojiPicker\"\n  >\n    <ResizableTextArea\n      id=\"chat-input\"\n      ref=\"chatInput\"\n      v-model=\"userInput\"\n      :rows=\"1\"\n      :aria-label=\"$t('CHAT_PLACEHOLDER')\"\n      :placeholder=\"$t('CHAT_PLACEHOLDER')\"\n      class=\"user-message-input reset-base\"\n      @typing-off=\"onTypingOff\"\n      @typing-on=\"onTypingOn\"\n      @focus=\"onFocus\"\n      @blur=\"onBlur\"\n    />\n    <div class=\"flex items-center ltr:pl-2 rtl:pr-2\">\n      <ChatAttachmentButton\n        v-if=\"showAttachment\"\n        class=\"text-n-slate-12\"\n        :on-attach=\"onSendAttachment\"\n      />\n      <button\n        v-if=\"shouldShowEmojiPicker && hasEmojiPickerEnabled\"\n        class=\"flex items-center justify-center min-h-8 min-w-8\"\n        :aria-label=\"$t('EMOJI.ARIA_LABEL')\"\n        @click=\"toggleEmojiPicker\"\n      >\n        <FluentIcon\n          icon=\"emoji\"\n          class=\"transition-all duration-150\"\n          :class=\"{\n            'text-n-slate-12': !showEmojiPicker,\n            'text-n-brand': showEmojiPicker,\n          }\"\n        />\n      </button>\n      <EmojiInput\n        v-if=\"shouldShowEmojiPicker && showEmojiPicker\"\n        v-on-clickaway=\"hideEmojiPicker\"\n        :on-click=\"emojiOnClick\"\n        @keydown.esc=\"hideEmojiPicker\"\n      />\n      <ChatSendButton\n        v-if=\"showSendButton\"\n        :color=\"widgetColor\"\n        @click=\"handleButtonClick\"\n      />\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.emoji-dialog {\n  @apply max-w-full ltr:right-5 rtl:right-[unset] rtl:left-5 -top-[302px] before:ltr:right-2.5 before:rtl:right-[unset] before:rtl:left-2.5;\n}\n\n.user-message-input {\n  @apply border-none outline-none w-full placeholder:text-n-slate-10 resize-none h-8 min-h-8 max-h-60 py-1 px-0 my-2 bg-n-background text-n-slate-12 transition-all duration-200;\n}\n</style>\n","<script>\nimport { mapActions, mapGetters } from 'vuex';\nimport { getContrastingTextColor } from '@chatwoot/utils';\nimport CustomButton from 'shared/components/Button.vue';\nimport FooterReplyTo from 'widget/components/FooterReplyTo.vue';\nimport ChatInputWrap from 'widget/components/ChatInputWrap.vue';\nimport { BUS_EVENTS } from 'shared/constants/busEvents';\nimport { sendEmailTranscript } from 'widget/api/conversation';\nimport { useRouter } from 'vue-router';\nimport { IFrameHelper } from '../helpers/utils';\nimport { CHATWOOT_ON_START_CONVERSATION } from '../constants/sdkEvents';\nimport { emitter } from 'shared/helpers/mitt';\n\nexport default {\n  components: {\n    ChatInputWrap,\n    CustomButton,\n    FooterReplyTo,\n  },\n  setup() {\n    const router = useRouter();\n    return { router };\n  },\n  data() {\n    return {\n      inReplyTo: null,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      conversationAttributes: 'conversationAttributes/getConversationParams',\n      widgetColor: 'appConfig/getWidgetColor',\n      conversationSize: 'conversation/getConversationSize',\n      currentUser: 'contacts/getCurrentUser',\n      isWidgetStyleFlat: 'appConfig/isWidgetStyleFlat',\n    }),\n    textColor() {\n      return getContrastingTextColor(this.widgetColor);\n    },\n    hideReplyBox() {\n      const { allowMessagesAfterResolved } = window.chatwootWebChannel;\n      const { status } = this.conversationAttributes;\n      return !allowMessagesAfterResolved && status === 'resolved';\n    },\n    showEmailTranscriptButton() {\n      return this.hasEmail;\n    },\n    hasEmail() {\n      return this.currentUser && this.currentUser.has_email;\n    },\n    hasReplyTo() {\n      return (\n        this.inReplyTo && (this.inReplyTo.content || this.inReplyTo.attachments)\n      );\n    },\n  },\n  mounted() {\n    emitter.on(BUS_EVENTS.TOGGLE_REPLY_TO_MESSAGE, this.toggleReplyTo);\n  },\n  methods: {\n    ...mapActions('conversation', ['sendMessage', 'sendAttachment']),\n    ...mapActions('conversationAttributes', ['getAttributes']),\n    async handleSendMessage(content) {\n      await this.sendMessage({\n        content,\n        replyTo: this.inReplyTo ? this.inReplyTo.id : null,\n      });\n      // reset replyTo message after sending\n      this.inReplyTo = null;\n      // Update conversation attributes on new conversation\n      if (this.conversationSize === 0) {\n        this.getAttributes();\n      }\n    },\n    async handleSendAttachment(attachment) {\n      await this.sendAttachment({\n        attachment,\n        replyTo: this.inReplyTo ? this.inReplyTo.id : null,\n      });\n      this.inReplyTo = null;\n    },\n    startNewConversation() {\n      this.router.replace({ name: 'prechat-form' });\n      IFrameHelper.sendMessage({\n        event: 'onEvent',\n        eventIdentifier: CHATWOOT_ON_START_CONVERSATION,\n        data: { hasConversation: true },\n      });\n    },\n    toggleReplyTo(message) {\n      this.inReplyTo = message;\n    },\n    async sendTranscript() {\n      if (this.hasEmail) {\n        try {\n          await sendEmailTranscript();\n          emitter.emit(BUS_EVENTS.SHOW_ALERT, {\n            message: this.$t('EMAIL_TRANSCRIPT.SEND_EMAIL_SUCCESS'),\n            type: 'success',\n          });\n        } catch (error) {\n          emitter.$emit(BUS_EVENTS.SHOW_ALERT, {\n            message: this.$t('EMAIL_TRANSCRIPT.SEND_EMAIL_ERROR'),\n          });\n        }\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <footer\n    v-if=\"!hideReplyBox\"\n    class=\"relative z-50 mb-1\"\n    :class=\"{\n      'rounded-lg': !isWidgetStyleFlat,\n      'pt-2.5 shadow-[0px_-20px_20px_1px_rgba(0,_0,_0,_0.05)] dark:shadow-[0px_-20px_20px_1px_rgba(0,_0,_0,_0.15)] rounded-t-none':\n        hasReplyTo,\n    }\"\n  >\n    <FooterReplyTo\n      v-if=\"hasReplyTo\"\n      :in-reply-to=\"inReplyTo\"\n      @dismiss=\"inReplyTo = null\"\n    />\n    <ChatInputWrap\n      class=\"shadow-sm\"\n      :on-send-message=\"handleSendMessage\"\n      :on-send-attachment=\"handleSendAttachment\"\n    />\n  </footer>\n  <div v-else>\n    <CustomButton\n      class=\"font-medium\"\n      block\n      :bg-color=\"widgetColor\"\n      :text-color=\"textColor\"\n      @click=\"startNewConversation\"\n    >\n      {{ $t('START_NEW_CONVERSATION') }}\n    </CustomButton>\n    <CustomButton\n      v-if=\"showEmailTranscriptButton\"\n      type=\"clear\"\n      class=\"font-normal\"\n      @click=\"sendTranscript\"\n    >\n      {{ $t('EMAIL_TRANSCRIPT.BUTTON_TEXT') }}\n    </CustomButton>\n  </div>\n</template>\n","<script>\nimport { useMessageFormatter } from 'shared/composables/useMessageFormatter';\nimport { getContrastingTextColor } from '@chatwoot/utils';\n\nexport default {\n  name: 'UserMessageBubble',\n  props: {\n    message: {\n      type: String,\n      default: '',\n    },\n    widgetColor: {\n      type: String,\n      default: '',\n    },\n  },\n  setup() {\n    const { formatMessage } = useMessageFormatter();\n    return {\n      formatMessage,\n    };\n  },\n  computed: {\n    textColor() {\n      return getContrastingTextColor(this.widgetColor);\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    v-dompurify-html=\"formatMessage(message, false)\"\n    class=\"chat-bubble user\"\n    :style=\"{ background: widgetColor, color: textColor }\"\n  />\n</template>\n\n<style lang=\"scss\" scoped>\n.chat-bubble.user::v-deep {\n  p code {\n    @apply bg-n-alpha-2 dark:bg-n-alpha-1 text-white;\n  }\n\n  pre {\n    @apply text-white bg-n-alpha-2 dark:bg-n-alpha-1;\n\n    code {\n      @apply bg-transparent text-white;\n    }\n  }\n\n  blockquote {\n    @apply bg-transparent border-n-slate-7 ltr:border-l-2 rtl:border-r-2 border-solid;\n\n    p {\n      @apply text-n-slate-5 dark:text-n-slate-12/90;\n    }\n  }\n}\n</style>\n","<script>\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\n\nexport default {\n  name: 'MessageReplyButton',\n  components: { FluentIcon },\n};\n</script>\n\n<template>\n  <button\n    class=\"p-1 mb-1 rounded-full text-n-slate-11 bg-n-slate-3 hover:text-n-slate-12\"\n  >\n    <FluentIcon icon=\"arrow-reply\" size=\"11\" class=\"flex-shrink-0\" />\n  </button>\n</template>\n","<script>\nexport default {\n  props: {\n    url: { type: String, default: '' },\n    thumb: { type: String, default: '' },\n    readableTime: { type: String, default: '' },\n  },\n  emits: ['error'],\n  methods: {\n    onImgError() {\n      this.$emit('error');\n    },\n  },\n};\n</script>\n\n<template>\n  <a\n    :href=\"url\"\n    target=\"_blank\"\n    rel=\"noreferrer noopener nofollow\"\n    class=\"image\"\n  >\n    <div class=\"wrap\">\n      <img :src=\"thumb\" alt=\"Picture message\" @error=\"onImgError\" />\n      <span class=\"time\">{{ readableTime }}</span>\n    </div>\n  </a>\n</template>\n\n<style lang=\"scss\" scoped>\n.image {\n  display: block;\n\n  .wrap {\n    position: relative;\n    display: flex;\n    max-width: 100%;\n\n    &::before {\n      background-image: linear-gradient(-180deg, transparent 3%, #1f2d3d 130%);\n      bottom: 0;\n      content: '';\n      height: 20%;\n      left: 0;\n      opacity: 0.8;\n      position: absolute;\n      width: 100%;\n    }\n  }\n\n  img {\n    width: 100%;\n    max-width: 250px;\n  }\n\n  .time {\n    @apply text-xs bottom-1 text-white ltr:right-3 rtl:left-3 whitespace-nowrap absolute;\n  }\n}\n</style>\n","<script setup>\ndefineProps({\n  url: { type: String, default: '' },\n  readableTime: { type: String, default: '' },\n});\n\nconst emit = defineEmits(['error']);\n\nconst onVideoError = () => {\n  emit('error');\n};\n</script>\n\n<template>\n  <div class=\"relative block max-w-full\">\n    <video\n      class=\"w-full max-w-[250px] h-auto\"\n      :src=\"url\"\n      controls\n      @error=\"onVideoError\"\n    />\n    <span\n      class=\"absolute text-xs text-white dark:text-white right-3 bottom-1 whitespace-nowrap\"\n    >\n      {{ readableTime }}\n    </span>\n  </div>\n</template>\n","<script>\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport { getContrastingTextColor } from '@chatwoot/utils';\n\nexport default {\n  components: {\n    FluentIcon,\n  },\n  props: {\n    url: {\n      type: String,\n      default: '',\n    },\n    isInProgress: {\n      type: Boolean,\n      default: false,\n    },\n    widgetColor: {\n      type: String,\n      default: '',\n    },\n    isUserBubble: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    title() {\n      return this.isInProgress\n        ? this.$t('COMPONENTS.FILE_BUBBLE.UPLOADING')\n        : decodeURI(this.fileName);\n    },\n    fileName() {\n      return this.url.substring(this.url.lastIndexOf('/') + 1);\n    },\n    contrastingTextColor() {\n      return getContrastingTextColor(this.widgetColor);\n    },\n    textColor() {\n      return this.isUserBubble && this.widgetColor\n        ? this.contrastingTextColor\n        : '';\n    },\n  },\n  methods: {\n    openLink() {\n      const win = window.open(this.url, '_blank');\n      win.focus();\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"file flex flex-row items-center p-3 cursor-pointer\">\n    <div class=\"icon-wrap\" :style=\"{ color: textColor }\">\n      <FluentIcon icon=\"document\" size=\"28\" />\n    </div>\n    <div class=\"ltr:pr-1 rtl:pl-1\">\n      <div\n        class=\"m-0 font-medium text-sm\"\n        :class=\"{ 'text-n-slate-12': !isUserBubble }\"\n        :style=\"{ color: textColor }\"\n      >\n        {{ title }}\n      </div>\n      <div class=\"leading-none mb-1\">\n        <a\n          class=\"download\"\n          rel=\"noreferrer noopener nofollow\"\n          target=\"_blank\"\n          :style=\"{ color: textColor }\"\n          :href=\"url\"\n        >\n          {{ $t('COMPONENTS.FILE_BUBBLE.DOWNLOAD') }}\n        </a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.file {\n  .icon-wrap {\n    @apply text-[2.5rem] text-n-brand leading-none ltr:ml-1 rtl:mr-1 ltr:mr-2 rtl:ml-2;\n  }\n\n  .download {\n    @apply text-n-brand font-medium p-0 m-0 text-xs no-underline;\n  }\n}\n</style>\n","export default {\n  computed: {\n    messageContentAttributes() {\n      const { content_attributes: attribute = {} } = this.message;\n      return attribute;\n    },\n    hasAttachments() {\n      return !!(\n        this.message.attachments && this.message.attachments.length > 0\n      );\n    },\n  },\n};\n","<script>\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\n\nexport default {\n  name: 'AgentMessage',\n  components: {\n    FluentIcon,\n  },\n  props: {\n    replyTo: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      timeOutID: null,\n    };\n  },\n  computed: {\n    replyToAttachment() {\n      if (!this.replyTo?.attachments?.length) {\n        return '';\n      }\n\n      const [{ file_type: fileType } = {}] = this.replyTo.attachments;\n      return this.$t(`ATTACHMENTS.${fileType}.CONTENT`);\n    },\n  },\n\n  unmounted() {\n    clearTimeout(this.timeOutID);\n  },\n  methods: {\n    navigateTo(id) {\n      const elementId = `cwmsg-${id}`;\n      this.$nextTick(() => {\n        const el = document.getElementById(elementId);\n        el.scrollIntoView();\n        el.classList.add('bg-n-slate-3', 'dark:bg-n-solid-3');\n        this.timeOutID = setTimeout(() => {\n          el.classList.remove('bg-n-slate-3', 'dark:bg-n-solid-3');\n        }, 500);\n      });\n    },\n  },\n};\n</script>\n\n<template>\n  <button\n    class=\"px-1.5 py-0.5 rounded-md text-n-slate-11 bg-n-slate-4 opacity-60 hover:opacity-100 cursor-pointer flex items-center gap-1.5\"\n    @click=\"navigateTo(replyTo.id)\"\n  >\n    <FluentIcon icon=\"arrow-reply\" size=\"12\" class=\"flex-shrink-0\" />\n    <div class=\"truncate max-w-[8rem]\">\n      {{ replyTo.content || replyToAttachment }}\n    </div>\n  </button>\n</template>\n","<script>\nexport default {\n  name: 'DragWrapper',\n  props: {\n    direction: {\n      type: String,\n      required: true,\n      validator: value => ['left', 'right'].includes(value),\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  emits: ['dragged'],\n  data() {\n    return {\n      startX: null,\n      dragDistance: 0,\n      threshold: 50, // Threshold value in pixels\n    };\n  },\n  methods: {\n    handleTouchStart(event) {\n      if (this.disabled) return;\n      this.startX = event.touches[0].clientX;\n    },\n    handleTouchMove(event) {\n      if (this.disabled) return;\n      const touchX = event.touches[0].clientX;\n      let deltaX = touchX - this.startX;\n\n      if (this.direction === 'right') {\n        this.dragDistance = Math.min(this.threshold, deltaX);\n      } else if (this.direction === 'left') {\n        this.dragDistance = Math.max(-this.threshold, deltaX);\n      }\n    },\n    resetPosition() {\n      if (\n        (this.dragDistance >= this.threshold && this.direction === 'right') ||\n        (this.dragDistance <= -this.threshold && this.direction === 'left')\n      ) {\n        this.$emit('dragged', this.direction);\n      }\n      this.dragDistance = 0; // Reset the position after releasing the touch\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    :style=\"{ transform: `translateX(${dragDistance}px)` }\"\n    class=\"will-change-transform\"\n    @touchstart=\"handleTouchStart\"\n    @touchmove=\"handleTouchMove\"\n    @touchend=\"resetPosition\"\n  >\n    <slot />\n  </div>\n</template>\n","<script>\nimport UserMessageBubble from 'widget/components/UserMessageBubble.vue';\nimport MessageReplyButton from 'widget/components/MessageReplyButton.vue';\nimport ImageBubble from 'widget/components/ImageBubble.vue';\nimport VideoBubble from 'widget/components/VideoBubble.vue';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport FileBubble from 'widget/components/FileBubble.vue';\nimport { messageStamp } from 'shared/helpers/timeHelper';\nimport messageMixin from '../mixins/messageMixin';\nimport ReplyToChip from 'widget/components/ReplyToChip.vue';\nimport DragWrapper from 'widget/components/DragWrapper.vue';\nimport { BUS_EVENTS } from 'shared/constants/busEvents';\nimport { emitter } from 'shared/helpers/mitt';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'UserMessage',\n  components: {\n    UserMessageBubble,\n    MessageReplyButton,\n    ImageBubble,\n    VideoBubble,\n    FileBubble,\n    FluentIcon,\n    ReplyToChip,\n    DragWrapper,\n  },\n  mixins: [messageMixin],\n  props: {\n    message: {\n      type: Object,\n      default: () => {},\n    },\n    replyTo: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      hasImageError: false,\n      hasVideoError: false,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      widgetColor: 'appConfig/getWidgetColor',\n    }),\n\n    isInProgress() {\n      const { status = '' } = this.message;\n      return status === 'in_progress';\n    },\n    showTextBubble() {\n      const { message } = this;\n      return !!message.content;\n    },\n    readableTime() {\n      const { created_at: createdAt = '' } = this.message;\n      return messageStamp(createdAt);\n    },\n    isFailed() {\n      const { status = '' } = this.message;\n      return status === 'failed';\n    },\n    errorMessage() {\n      const { meta } = this.message;\n      return meta\n        ? meta.error\n        : this.$t('COMPONENTS.MESSAGE_BUBBLE.ERROR_MESSAGE');\n    },\n    hasReplyTo() {\n      return this.replyTo && (this.replyTo.content || this.replyTo.attachments);\n    },\n  },\n  watch: {\n    message() {\n      this.hasImageError = false;\n      this.hasVideoError = false;\n    },\n  },\n  mounted() {\n    this.hasImageError = false;\n    this.hasVideoError = false;\n  },\n  methods: {\n    async retrySendMessage() {\n      await this.$store.dispatch(\n        'conversation/sendMessageWithData',\n        this.message\n      );\n    },\n    onImageLoadError() {\n      this.hasImageError = true;\n    },\n    onVideoLoadError() {\n      this.hasVideoError = true;\n    },\n    toggleReply() {\n      emitter.emit(BUS_EVENTS.TOGGLE_REPLY_TO_MESSAGE, this.message);\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"user-message-wrap group\">\n    <div class=\"flex gap-1 user-message\">\n      <div\n        class=\"message-wrap\"\n        :class=\"{ 'in-progress': isInProgress, 'is-failed': isFailed }\"\n      >\n        <div v-if=\"hasReplyTo\" class=\"flex justify-end mt-2 mb-1 text-xs\">\n          <ReplyToChip :reply-to=\"replyTo\" />\n        </div>\n        <div class=\"flex justify-end gap-1\">\n          <div class=\"flex flex-col justify-end\">\n            <MessageReplyButton\n              v-if=\"!isInProgress && !isFailed\"\n              class=\"transition-opacity delay-75 opacity-0 group-hover:opacity-100 sm:opacity-0\"\n              @click=\"toggleReply\"\n            />\n          </div>\n          <DragWrapper direction=\"left\" @dragged=\"toggleReply\">\n            <UserMessageBubble\n              v-if=\"showTextBubble\"\n              :message=\"message.content\"\n              :status=\"message.status\"\n              :widget-color=\"widgetColor\"\n            />\n            <div\n              v-if=\"hasAttachments\"\n              class=\"chat-bubble has-attachment user\"\n              :style=\"{ backgroundColor: widgetColor }\"\n            >\n              <div\n                v-for=\"attachment in message.attachments\"\n                :key=\"attachment.id\"\n              >\n                <ImageBubble\n                  v-if=\"attachment.file_type === 'image' && !hasImageError\"\n                  :url=\"attachment.data_url\"\n                  :thumb=\"attachment.data_url\"\n                  :readable-time=\"readableTime\"\n                  @error=\"onImageLoadError\"\n                />\n\n                <VideoBubble\n                  v-if=\"attachment.file_type === 'video' && !hasVideoError\"\n                  :url=\"attachment.data_url\"\n                  :readable-time=\"readableTime\"\n                  @error=\"onVideoLoadError\"\n                />\n\n                <FileBubble\n                  v-else\n                  :url=\"attachment.data_url\"\n                  :is-in-progress=\"isInProgress\"\n                  :widget-color=\"widgetColor\"\n                  is-user-bubble\n                />\n              </div>\n            </div>\n          </DragWrapper>\n        </div>\n        <div\n          v-if=\"isFailed\"\n          class=\"flex justify-end px-4 py-2 text-n-ruby-9 align-middle\"\n        >\n          <button\n            v-if=\"!hasAttachments\"\n            :title=\"$t('COMPONENTS.MESSAGE_BUBBLE.RETRY')\"\n            class=\"inline-flex items-center justify-center ltr:ml-2 rtl:mr-2\"\n            @click=\"retrySendMessage\"\n          >\n            <FluentIcon icon=\"arrow-clockwise\" size=\"14\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n","<script>\nimport { mapGetters } from 'vuex';\nimport { getContrastingTextColor } from '@chatwoot/utils';\nimport { IFrameHelper } from 'widget/helpers/utils';\n\nexport default {\n  components: {},\n  props: {\n    action: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  computed: {\n    ...mapGetters({\n      widgetColor: 'appConfig/getWidgetColor',\n    }),\n    textColor() {\n      return getContrastingTextColor(this.widgetColor);\n    },\n    isLink() {\n      return this.action.type === 'link';\n    },\n  },\n  methods: {\n    onClick() {\n      if (this.action.type === 'postback') {\n        // Send message to parent iframe\n        if (IFrameHelper.isIFrame()) {\n          IFrameHelper.sendMessage({\n            event: 'postback',\n            data: { payload: this.action.payload },\n          });\n        }\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <a\n    v-if=\"isLink\"\n    :key=\"action.uri\"\n    class=\"action-button button\"\n    :href=\"action.uri\"\n    :style=\"{\n      background: widgetColor,\n      borderColor: widgetColor,\n      color: textColor,\n    }\"\n    target=\"_blank\"\n    rel=\"noopener nofollow noreferrer\"\n  >\n    {{ action.text }}\n  </a>\n  <button\n    v-else\n    :key=\"action.payload\"\n    class=\"action-button button !bg-n-background dark:!bg-n-alpha-black1 text-n-brand\"\n    :style=\"{ borderColor: widgetColor, color: widgetColor }\"\n    @click=\"onClick\"\n  >\n    {{ action.text }}\n  </button>\n</template>\n\n<style scoped lang=\"scss\">\n.action-button {\n  @apply items-center rounded-lg flex font-medium justify-center mt-1 p-0 w-full;\n}\n</style>\n","<script>\nimport CardButton from 'shared/components/CardButton.vue';\n\nexport default {\n  components: {\n    CardButton,\n  },\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    description: {\n      type: String,\n      default: '',\n    },\n    mediaUrl: {\n      type: String,\n      default: '',\n    },\n    actions: {\n      type: Array,\n      default: () => [],\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"card-message chat-bubble agent bg-n-background dark:bg-n-solid-3 max-w-56 rounded-lg overflow-hidden\"\n  >\n    <img\n      class=\"w-full object-contain max-h-[150px] rounded-[5px]\"\n      :src=\"mediaUrl\"\n    />\n    <div class=\"card-body\">\n      <h4\n        class=\"!text-base !font-medium !mt-1 !mb-1 !leading-[1.5] text-n-slate-12\"\n      >\n        {{ title }}\n      </h4>\n      <p class=\"!mb-1 text-n-slate-11\">\n        {{ description }}\n      </p>\n      <CardButton v-for=\"action in actions\" :key=\"action.id\" :action=\"action\" />\n    </div>\n  </div>\n</template>\n","<script>\nimport { mapGetters } from 'vuex';\nimport { getContrastingTextColor } from '@chatwoot/utils';\n\nexport default {\n  props: {\n    buttonLabel: {\n      type: String,\n      default: '',\n    },\n    items: {\n      type: Array,\n      default: () => [],\n    },\n    submittedValues: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  emits: ['submit'],\n  data() {\n    return {\n      formValues: {},\n      hasSubmitted: false,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      widgetColor: 'appConfig/getWidgetColor',\n    }),\n    textColor() {\n      return getContrastingTextColor(this.widgetColor);\n    },\n    isFormValid() {\n      return this.items.reduce((acc, { name }) => {\n        return !!this.formValues[name] && acc;\n      }, true);\n    },\n  },\n  mounted() {\n    if (this.submittedValues.length) {\n      this.updateFormValues();\n    } else {\n      this.setFormDefaults();\n    }\n  },\n  methods: {\n    onSubmitClick() {\n      this.hasSubmitted = true;\n    },\n    onSubmit() {\n      if (!this.isFormValid) {\n        return;\n      }\n      this.$emit('submit', this.formValues);\n    },\n    buildFormObject(formObjectArray) {\n      return formObjectArray.reduce((acc, obj) => {\n        return {\n          ...acc,\n          [obj.name]: obj.value || obj.default,\n        };\n      }, {});\n    },\n    updateFormValues() {\n      this.formValues = this.buildFormObject(this.submittedValues);\n    },\n    setFormDefaults() {\n      this.formValues = this.buildFormObject(this.items);\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"form chat-bubble agent w-full p-4 bg-n-background dark:bg-n-solid-3\"\n  >\n    <form @submit.prevent=\"onSubmit\">\n      <div\n        v-for=\"item in items\"\n        :key=\"item.key\"\n        class=\"pb-2 w-full\"\n        :class=\"{\n          'has-submitted': hasSubmitted,\n        }\"\n      >\n        <label class=\"text-n-slate-12\">\n          {{ item.label }}\n        </label>\n        <input\n          v-if=\"item.type === 'email'\"\n          v-model=\"formValues[item.name]\"\n          :type=\"item.type\"\n          :pattern=\"item.regex\"\n          :title=\"item.title\"\n          :required=\"item.required && 'required'\"\n          :name=\"item.name\"\n          :placeholder=\"item.placeholder\"\n          :disabled=\"!!submittedValues.length\"\n        />\n        <input\n          v-else-if=\"item.type === 'text'\"\n          v-model=\"formValues[item.name]\"\n          :required=\"item.required && 'required'\"\n          :pattern=\"item.pattern\"\n          :title=\"item.title\"\n          :type=\"item.type\"\n          :name=\"item.name\"\n          :placeholder=\"item.placeholder\"\n          :disabled=\"!!submittedValues.length\"\n        />\n        <textarea\n          v-else-if=\"item.type === 'text_area'\"\n          v-model=\"formValues[item.name]\"\n          :required=\"item.required && 'required'\"\n          :title=\"item.title\"\n          :name=\"item.name\"\n          :placeholder=\"item.placeholder\"\n          :disabled=\"!!submittedValues.length\"\n        />\n        <select\n          v-else-if=\"item.type === 'select'\"\n          v-model=\"formValues[item.name]\"\n          :required=\"item.required && 'required'\"\n        >\n          <option\n            v-for=\"option in item.options\"\n            :key=\"option.key\"\n            :value=\"option.value\"\n          >\n            {{ option.label }}\n          </option>\n        </select>\n        <span class=\"error-message\">\n          {{ item.pattern_error || $t('CHAT_FORM.INVALID.FIELD') }}\n        </span>\n      </div>\n      <button\n        v-if=\"!submittedValues.length\"\n        class=\"button block\"\n        type=\"submit\"\n        :style=\"{\n          background: widgetColor,\n          borderColor: widgetColor,\n          color: textColor,\n        }\"\n        @click=\"onSubmitClick\"\n      >\n        {{ buttonLabel || $t('COMPONENTS.FORM_BUBBLE.SUBMIT') }}\n      </button>\n    </form>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.form {\n  label {\n    @apply block font-medium py-1 px-0 capitalize;\n  }\n\n  .button {\n    @apply text-sm rounded-lg;\n  }\n\n  .error-message {\n    @apply text-n-ruby-9 mt-1 hidden;\n  }\n\n  input,\n  textarea,\n  select {\n    @apply dark:bg-n-alpha-black1;\n  }\n\n  .has-submitted {\n    input:invalid,\n    textarea:invalid {\n      @apply outline-n-ruby-8 dark:outline-n-ruby-8 hover:outline-n-ruby-9 dark:hover:outline-n-ruby-9;\n    }\n    input:invalid + .error-message,\n    textarea:invalid + .error-message {\n      display: block;\n    }\n  }\n}\n</style>\n","<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  components: {},\n  props: {\n    action: {\n      type: Object,\n      default: () => {},\n    },\n    isSelected: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  emits: ['optionSelect'],\n  computed: {\n    ...mapGetters({\n      widgetColor: 'appConfig/getWidgetColor',\n    }),\n  },\n  methods: {\n    onClick() {\n      this.$emit('optionSelect', this.action);\n    },\n  },\n};\n</script>\n\n<template>\n  <li\n    class=\"option\"\n    :class=\"{ 'is-selected': isSelected }\"\n    :style=\"{ borderColor: widgetColor }\"\n  >\n    <button class=\"option-button button\" @click=\"onClick\">\n      <span :style=\"{ color: widgetColor }\">{{ action.title }}</span>\n    </button>\n  </li>\n</template>\n\n<style scoped lang=\"scss\">\n.option {\n  @apply rounded-[5rem] border border-solid border-n-brand ltr:float-left rtl:float-right m-1 max-w-full;\n\n  .option-button {\n    @apply bg-transparent border-0 cursor-pointer h-auto leading-normal ltr:text-left rtl:text-right whitespace-normal rounded-[2rem] min-h-[2.5rem];\n\n    span {\n      display: inline-block;\n      vertical-align: middle;\n    }\n  }\n}\n</style>\n","<script>\nimport ChatOption from 'shared/components/ChatOption.vue';\nimport { useMessageFormatter } from 'shared/composables/useMessageFormatter';\n\nexport default {\n  components: {\n    ChatOption,\n  },\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    options: {\n      type: Array,\n      default: () => [],\n    },\n    selected: {\n      type: String,\n      default: '',\n    },\n    hideFields: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  emits: ['optionSelect'],\n  setup() {\n    const { formatMessage } = useMessageFormatter();\n    return {\n      formatMessage,\n    };\n  },\n  methods: {\n    isSelected(option) {\n      return this.selected === option.id;\n    },\n    onClick(selectedOption) {\n      this.$emit('optionSelect', selectedOption);\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"chat-bubble agent max-w-64 !py-2 !px-4 rounded-lg overflow-hidden mt-1 bg-n-background dark:bg-n-solid-3\"\n  >\n    <h4 class=\"text-n-slate-12 text-sm font-normal my-1 leading-[1.5]\">\n      <div\n        v-dompurify-html=\"formatMessage(title, false)\"\n        class=\"text-n-slate-12\"\n      />\n    </h4>\n    <ul v-if=\"!hideFields\" class=\"w-full\">\n      <ChatOption\n        v-for=\"option in options\"\n        :key=\"option.id\"\n        :action=\"option\"\n        :is-selected=\"isSelected(option)\"\n        class=\"list-none p-0\"\n        @option-select=\"onClick\"\n      />\n    </ul>\n  </div>\n</template>\n","<script>\nimport { useMessageFormatter } from 'shared/composables/useMessageFormatter';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\n\nexport default {\n  components: {\n    FluentIcon,\n  },\n  props: {\n    items: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  setup() {\n    const { truncateMessage } = useMessageFormatter();\n    return { truncateMessage };\n  },\n};\n</script>\n\n<!-- eslint-disable-next-line vue/no-root-v-if -->\n<template>\n  <div\n    v-if=\"!!items.length\"\n    class=\"chat-bubble agent bg-n-background dark:bg-n-solid-3\"\n  >\n    <div\n      v-for=\"item in items\"\n      :key=\"item.link\"\n      class=\"border-b border-solid border-n-weak text-sm py-2 px-0 last:border-b-0\"\n    >\n      <a\n        :href=\"item.link\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer nofollow\"\n        class=\"text-n-slate-12 no-underline\"\n      >\n        <span class=\"flex items-center text-n-slate-12 font-medium\">\n          <FluentIcon icon=\"link\" class=\"ltr:mr-1 rtl:ml-1 text-n-slate-12\" />\n          <span class=\"text-n-slate-12\">\n            {{ item.title }}\n          </span>\n        </span>\n        <span class=\"block mt-1 text-n-slate-12\">\n          {{ truncateMessage(item.description) }}\n        </span>\n      </a>\n    </div>\n  </div>\n</template>\n","<script>\nimport { mapGetters } from 'vuex';\nimport { useVuelidate } from '@vuelidate/core';\nimport { required, email } from '@vuelidate/validators';\nimport { getContrastingTextColor } from '@chatwoot/utils';\n\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport Spinner from 'shared/components/Spinner.vue';\n\nexport default {\n  components: {\n    FluentIcon,\n    Spinner,\n  },\n  props: {\n    messageId: {\n      type: Number,\n      required: true,\n    },\n    messageContentAttributes: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  data() {\n    return {\n      email: '',\n      isUpdating: false,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      widgetColor: 'appConfig/getWidgetColor',\n    }),\n    textColor() {\n      return getContrastingTextColor(this.widgetColor);\n    },\n    hasSubmitted() {\n      return (\n        this.messageContentAttributes &&\n        this.messageContentAttributes.submitted_email\n      );\n    },\n  },\n  validations: {\n    email: {\n      required,\n      email,\n    },\n  },\n  methods: {\n    async onSubmit() {\n      if (this.v$.$invalid) {\n        return;\n      }\n      this.isUpdating = true;\n      try {\n        await this.$store.dispatch('message/update', {\n          email: this.email,\n          messageId: this.messageId,\n        });\n      } catch (error) {\n        // Ignore error\n      } finally {\n        this.isUpdating = false;\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <form\n      v-if=\"!hasSubmitted\"\n      class=\"email-input-group h-10 flex my-2 mx-0 min-w-[200px]\"\n      @submit.prevent=\"onSubmit\"\n    >\n      <input\n        v-model=\"email\"\n        type=\"email\"\n        :placeholder=\"$t('EMAIL_PLACEHOLDER')\"\n        :class=\"{ error: v$.email.$error }\"\n        @input=\"v$.email.$touch\"\n        @keydown.enter=\"onSubmit\"\n      />\n      <button\n        class=\"button small\"\n        :disabled=\"v$.email.$invalid\"\n        :style=\"{\n          background: widgetColor,\n          borderColor: widgetColor,\n          color: textColor,\n        }\"\n      >\n        <FluentIcon v-if=\"!isUpdating\" icon=\"chevron-right\" />\n        <Spinner v-else class=\"mx-2\" />\n      </button>\n    </form>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.email-input-group {\n  input {\n    @apply dark:bg-n-alpha-black1 rtl:rounded-tl-[0] ltr:rounded-tr-[0] rtl:rounded-bl-[0] ltr:rounded-br-[0] p-2.5 w-full focus:ring-0 focus:outline-n-brand;\n\n    &::placeholder {\n      @apply text-n-slate-10;\n    }\n\n    &.error {\n      @apply outline-n-ruby-8 dark:outline-n-ruby-8 hover:outline-n-ruby-9 dark:hover:outline-n-ruby-9;\n    }\n  }\n\n  .button {\n    @apply rtl:rounded-tr-[0] ltr:rounded-tl-[0] rtl:rounded-br-[0] ltr:rounded-bl-[0] rounded-lg h-auto ltr:-ml-px rtl:-mr-px text-xl;\n\n    .spinner {\n      display: block;\n      padding: 0;\n      height: auto;\n      width: auto;\n    }\n  }\n}\n</style>\n","<script>\nimport { mapGetters } from 'vuex';\nimport Spinner from 'shared/components/Spinner.vue';\nimport { CSAT_RATINGS, CSAT_DISPLAY_TYPES } from 'shared/constants/messages';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport StarRating from 'shared/components/StarRating.vue';\nimport { getContrastingTextColor } from '@chatwoot/utils';\n\nexport default {\n  components: {\n    Spinner,\n    FluentIcon,\n    StarRating,\n  },\n  props: {\n    messageContentAttributes: {\n      type: Object,\n      default: () => {},\n    },\n    messageId: {\n      type: Number,\n      required: true,\n    },\n    displayType: {\n      type: String,\n      default: CSAT_DISPLAY_TYPES.EMOJI,\n    },\n    message: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      email: '',\n      ratings: CSAT_RATINGS,\n      selectedRating: null,\n      isUpdating: false,\n      feedback: '',\n    };\n  },\n  computed: {\n    ...mapGetters({ widgetColor: 'appConfig/getWidgetColor' }),\n    isRatingSubmitted() {\n      return this.messageContentAttributes?.csat_survey_response?.rating;\n    },\n    isFeedbackSubmitted() {\n      return this.messageContentAttributes?.csat_survey_response\n        ?.feedback_message;\n    },\n    isButtonDisabled() {\n      return !(this.selectedRating && this.feedback);\n    },\n    textColor() {\n      return getContrastingTextColor(this.widgetColor);\n    },\n    title() {\n      return this.isRatingSubmitted\n        ? this.$t('CSAT.SUBMITTED_TITLE')\n        : this.message || this.$t('CSAT.TITLE');\n    },\n    isEmojiType() {\n      return this.displayType === CSAT_DISPLAY_TYPES.EMOJI;\n    },\n    isStarType() {\n      return this.displayType === CSAT_DISPLAY_TYPES.STAR;\n    },\n  },\n\n  mounted() {\n    if (this.isRatingSubmitted) {\n      const {\n        csat_survey_response: { rating, feedback_message },\n      } = this.messageContentAttributes;\n      this.selectedRating = rating;\n      this.feedback = feedback_message;\n    }\n  },\n\n  methods: {\n    buttonClass(rating) {\n      return [\n        { selected: rating.value === this.selectedRating },\n        { disabled: this.isRatingSubmitted },\n        { hover: this.isRatingSubmitted },\n        'emoji-button',\n      ];\n    },\n    async onSubmit() {\n      this.isUpdating = true;\n      try {\n        await this.$store.dispatch('message/update', {\n          submittedValues: {\n            csat_survey_response: {\n              rating: this.selectedRating,\n              feedback_message: this.feedback,\n            },\n          },\n          messageId: this.messageId,\n        });\n      } catch (error) {\n        // Ignore error\n      } finally {\n        this.isUpdating = false;\n      }\n    },\n\n    selectRating(rating) {\n      this.selectedRating = rating.value;\n      this.onSubmit();\n    },\n    selectStarRating(value) {\n      this.selectedRating = value;\n      this.onSubmit();\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"customer-satisfaction w-full bg-n-background dark:bg-n-solid-3 shadow-[0_0.25rem_6px_rgba(50,50,93,0.08),0_1px_3px_rgba(0,0,0,0.05)] ltr:rounded-bl-[0.25rem] rtl:rounded-br-[0.25rem] rounded-lg inline-block leading-[1.5] mt-1 border-t-2 border-t-n-brand border-solid\"\n    :style=\"{ borderColor: widgetColor }\"\n  >\n    <h6 class=\"text-n-slate-12 text-sm font-medium pt-5 px-2.5 text-center\">\n      {{ title }}\n    </h6>\n    <div v-if=\"isEmojiType\" class=\"ratings flex justify-around py-5 px-4\">\n      <button\n        v-for=\"rating in ratings\"\n        :key=\"rating.key\"\n        :class=\"buttonClass(rating)\"\n        @click=\"selectRating(rating)\"\n      >\n        {{ rating.emoji }}\n      </button>\n    </div>\n    <StarRating\n      v-else-if=\"isStarType\"\n      :selected-rating=\"selectedRating\"\n      :is-disabled=\"isRatingSubmitted\"\n      @select-rating=\"selectStarRating\"\n    />\n    <form\n      v-if=\"!isFeedbackSubmitted\"\n      class=\"feedback-form flex\"\n      @submit.prevent=\"onSubmit()\"\n    >\n      <input\n        v-model=\"feedback\"\n        :placeholder=\"$t('CSAT.PLACEHOLDER')\"\n        @keydown.enter=\"onSubmit\"\n      />\n      <button\n        class=\"button small\"\n        :disabled=\"isButtonDisabled\"\n        :style=\"{\n          background: widgetColor,\n          borderColor: widgetColor,\n          color: textColor,\n        }\"\n      >\n        <Spinner v-if=\"isUpdating && feedback\" />\n        <FluentIcon v-else icon=\"chevron-right\" />\n      </button>\n    </form>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.customer-satisfaction {\n  .ratings {\n    .emoji-button {\n      @apply shadow-none grayscale text-2xl outline-none transition-all duration-200;\n\n      &.selected,\n      &:hover,\n      &:focus,\n      &:active {\n        @apply grayscale-0 scale-[1.32];\n      }\n\n      &.disabled {\n        @apply cursor-not-allowed opacity-50 pointer-events-none;\n      }\n    }\n  }\n\n  .feedback-form {\n    input {\n      @apply h-10 dark:bg-n-alpha-black1 rtl:rounded-tl-[0] rtl:rounded-tr-[0] ltr:rounded-tr-[0] ltr:rounded-tl-[0] rtl:rounded-bl-[0] ltr:rounded-br-[0] ltr:rounded-bl-[0.25rem] rtl:rounded-br-[0.25rem] rounded-lg p-2.5 w-full focus:ring-0 focus:outline-n-brand;\n\n      &::placeholder {\n        @apply text-n-slate-10;\n      }\n    }\n\n    .button {\n      @apply rtl:rounded-tr-[0] rtl:rounded-tl-[0] appearance-none ltr:rounded-tl-[0] ltr:rounded-tr-[0] rtl:rounded-br-[0] ltr:rounded-bl-[0] rounded-lg h-auto ltr:-ml-px rtl:-mr-px text-xl;\n\n      .spinner {\n        display: block;\n        padding: 0;\n        height: auto;\n        width: auto;\n      }\n    }\n  }\n}\n</style>\n","import { API } from 'widget/helpers/axios';\nimport { buildSearchParamsWithLocale } from '../helpers/urlParamsHelper';\n\nexport default {\n  addParticipantToDyteMeeting: messageId => {\n    const search = buildSearchParamsWithLocale(window.location.search);\n    const urlData = {\n      url: `/api/v1/widget/integrations/dyte/add_participant_to_meeting${search}`,\n    };\n    return API.post(urlData.url, { message_id: messageId });\n  },\n};\n","<script>\nimport IntegrationAPIClient from 'widget/api/integration';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport { buildDyteURL } from 'shared/helpers/IntegrationHelper';\nimport { getContrastingTextColor } from '@chatwoot/utils';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  components: {\n    FluentIcon,\n  },\n  props: {\n    messageId: {\n      type: Number,\n      required: true,\n    },\n  },\n  data() {\n    return { isLoading: false, dyteAuthToken: '', isSDKMounted: false };\n  },\n  computed: {\n    ...mapGetters({ widgetColor: 'appConfig/getWidgetColor' }),\n    textColor() {\n      return getContrastingTextColor(this.widgetColor);\n    },\n    meetingLink() {\n      return buildDyteURL(this.dyteAuthToken);\n    },\n  },\n  methods: {\n    async joinTheCall() {\n      this.isLoading = true;\n      try {\n        const response = await IntegrationAPIClient.addParticipantToDyteMeeting(\n          this.messageId\n        );\n        const { data: { token } = {} } = response;\n        this.dyteAuthToken = token;\n      } catch (error) {\n        // Ignore Error for now\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    leaveTheRoom() {\n      this.dyteAuthToken = '';\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <button\n      class=\"button join-call-button\"\n      color-scheme=\"secondary\"\n      :is-loading=\"isLoading\"\n      :style=\"{\n        background: widgetColor,\n        borderColor: widgetColor,\n        color: textColor,\n      }\"\n      @click=\"joinTheCall\"\n    >\n      <FluentIcon icon=\"video-add\" class=\"rtl:ml-2 ltr:mr-2\" />\n      {{ $t('INTEGRATIONS.DYTE.CLICK_HERE_TO_JOIN') }}\n    </button>\n    <div v-if=\"dyteAuthToken\" class=\"video-call--container\">\n      <iframe\n        :src=\"meetingLink\"\n        allow=\"camera;microphone;fullscreen;display-capture;picture-in-picture;clipboard-write;\"\n      />\n      <button\n        class=\"button small join-call-button leave-room-button\"\n        @click=\"leaveTheRoom\"\n      >\n        {{ $t('INTEGRATIONS.DYTE.LEAVE_THE_ROOM') }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.video-call--container {\n  position: fixed;\n  top: 72px;\n  left: 0;\n  width: 100%;\n  height: 100%;\n\n  z-index: 100;\n\n  iframe {\n    width: 100%;\n    height: calc(100% - 72px);\n\n    border: 0;\n  }\n}\n\n.join-call-button {\n  @apply flex items-center my-2 rounded-lg;\n}\n\n.leave-room-button {\n  @apply absolute top-0 ltr:right-2 rtl:left-2 px-1 rounded-md;\n}\n</style>\n","<script>\nimport { useMessageFormatter } from 'shared/composables/useMessageFormatter';\nimport ChatCard from 'shared/components/ChatCard.vue';\nimport ChatForm from 'shared/components/ChatForm.vue';\nimport ChatOptions from 'shared/components/ChatOptions.vue';\nimport ChatArticle from './template/Article.vue';\nimport EmailInput from './template/EmailInput.vue';\nimport CustomerSatisfaction from 'shared/components/CustomerSatisfaction.vue';\nimport IntegrationCard from './template/IntegrationCard.vue';\n\nexport default {\n  name: 'AgentMessageBubble',\n  components: {\n    ChatArticle,\n    ChatCard,\n    ChatForm,\n    ChatOptions,\n    EmailInput,\n    CustomerSatisfaction,\n    IntegrationCard,\n  },\n  props: {\n    message: { type: String, default: null },\n    contentType: { type: String, default: null },\n    messageType: { type: Number, default: null },\n    messageId: { type: Number, default: null },\n    messageContentAttributes: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  setup() {\n    const { formatMessage, getPlainText, truncateMessage, highlightContent } =\n      useMessageFormatter();\n    return {\n      formatMessage,\n      getPlainText,\n      truncateMessage,\n      highlightContent,\n    };\n  },\n  computed: {\n    isTemplate() {\n      return this.messageType === 3;\n    },\n    isTemplateEmail() {\n      return this.contentType === 'input_email';\n    },\n    isCards() {\n      return this.contentType === 'cards';\n    },\n    isOptions() {\n      return this.contentType === 'input_select';\n    },\n    isForm() {\n      return this.contentType === 'form';\n    },\n    isArticle() {\n      return this.contentType === 'article';\n    },\n    isCSAT() {\n      return this.contentType === 'input_csat';\n    },\n    isIntegrations() {\n      return this.contentType === 'integrations';\n    },\n  },\n  methods: {\n    onResponse(messageResponse) {\n      this.$store.dispatch('message/update', messageResponse);\n    },\n    onOptionSelect(selectedOption) {\n      this.onResponse({\n        submittedValues: [selectedOption],\n        messageId: this.messageId,\n      });\n    },\n    onFormSubmit(formValues) {\n      const formValuesAsArray = Object.keys(formValues).map(key => ({\n        name: key,\n        value: formValues[key],\n      }));\n      this.onResponse({\n        submittedValues: formValuesAsArray,\n        messageId: this.messageId,\n      });\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"chat-bubble-wrap\">\n    <div\n      v-if=\"\n        !isCards && !isOptions && !isForm && !isArticle && !isCards && !isCSAT\n      \"\n      class=\"chat-bubble agent bg-n-background dark:bg-n-solid-3 text-n-slate-12\"\n    >\n      <div\n        v-dompurify-html=\"formatMessage(message, false)\"\n        class=\"message-content text-n-slate-12\"\n      />\n      <EmailInput\n        v-if=\"isTemplateEmail\"\n        :message-id=\"messageId\"\n        :message-content-attributes=\"messageContentAttributes\"\n      />\n\n      <IntegrationCard\n        v-if=\"isIntegrations\"\n        :message-id=\"messageId\"\n        :meeting-data=\"messageContentAttributes.data\"\n      />\n    </div>\n    <div v-if=\"isOptions\">\n      <ChatOptions\n        :title=\"message\"\n        :options=\"messageContentAttributes.items\"\n        :hide-fields=\"!!messageContentAttributes.submitted_values\"\n        @option-select=\"onOptionSelect\"\n      />\n    </div>\n    <ChatForm\n      v-if=\"isForm && !messageContentAttributes.submitted_values\"\n      :items=\"messageContentAttributes.items\"\n      :button-label=\"messageContentAttributes.button_label\"\n      :submitted-values=\"messageContentAttributes.submitted_values\"\n      @submit=\"onFormSubmit\"\n    />\n    <div v-if=\"isCards\">\n      <ChatCard\n        v-for=\"item in messageContentAttributes.items\"\n        :key=\"item.title\"\n        :media-url=\"item.media_url\"\n        :title=\"item.title\"\n        :description=\"item.description\"\n        :actions=\"item.actions\"\n      />\n    </div>\n    <div v-if=\"isArticle\">\n      <ChatArticle :items=\"messageContentAttributes.items\" />\n    </div>\n    <CustomerSatisfaction\n      v-if=\"isCSAT\"\n      :message-content-attributes=\"messageContentAttributes.submitted_values\"\n      :display-type=\"messageContentAttributes.display_type\"\n      :message=\"message\"\n      :message-id=\"messageId\"\n    />\n  </div>\n</template>\n","<script>\nimport UserMessage from 'widget/components/UserMessage.vue';\nimport AgentMessageBubble from 'widget/components/AgentMessageBubble.vue';\nimport MessageReplyButton from 'widget/components/MessageReplyButton.vue';\nimport { messageStamp } from 'shared/helpers/timeHelper';\nimport ImageBubble from 'widget/components/ImageBubble.vue';\nimport VideoBubble from 'widget/components/VideoBubble.vue';\nimport FileBubble from 'widget/components/FileBubble.vue';\nimport Avatar from 'dashboard/components-next/avatar/Avatar.vue';\nimport { MESSAGE_TYPE } from 'widget/helpers/constants';\nimport configMixin from '../mixins/configMixin';\nimport messageMixin from '../mixins/messageMixin';\nimport { isASubmittedFormMessage } from 'shared/helpers/MessageTypeHelper';\nimport ReplyToChip from 'widget/components/ReplyToChip.vue';\nimport { BUS_EVENTS } from 'shared/constants/busEvents';\nimport { emitter } from 'shared/helpers/mitt';\n\nexport default {\n  name: 'AgentMessage',\n  components: {\n    AgentMessageBubble,\n    ImageBubble,\n    VideoBubble,\n    Avatar,\n    UserMessage,\n    FileBubble,\n    MessageReplyButton,\n    ReplyToChip,\n  },\n  mixins: [configMixin, messageMixin],\n  props: {\n    message: {\n      type: Object,\n      default: () => {},\n    },\n    replyTo: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      hasImageError: false,\n      hasVideoError: false,\n    };\n  },\n  computed: {\n    shouldDisplayAgentMessage() {\n      if (\n        this.contentType === 'input_select' &&\n        this.messageContentAttributes.submitted_values &&\n        !this.message.content\n      ) {\n        return false;\n      }\n      return this.message.content;\n    },\n    readableTime() {\n      const { created_at: createdAt = '' } = this.message;\n      return messageStamp(createdAt, 'LLL d yyyy, h:mm a');\n    },\n    messageType() {\n      const { message_type: type = 1 } = this.message;\n      return type;\n    },\n    contentType() {\n      const { content_type: type = '' } = this.message;\n      return type;\n    },\n    agentName() {\n      if (this.message.sender) {\n        return this.message.sender.available_name || this.message.sender.name;\n      }\n\n      if (this.useInboxAvatarForBot) {\n        return this.channelConfig.websiteName;\n      }\n\n      return this.$t('UNREAD_VIEW.BOT');\n    },\n    avatarUrl() {\n      const displayImage = this.useInboxAvatarForBot\n        ? this.inboxAvatarUrl\n        : '/assets/images/chatwoot_bot.png';\n\n      if (this.message.message_type === MESSAGE_TYPE.TEMPLATE) {\n        return displayImage;\n      }\n\n      return this.message.sender\n        ? this.message.sender.avatar_url\n        : displayImage;\n    },\n    hasRecordedResponse() {\n      return (\n        this.messageContentAttributes.submitted_email ||\n        (this.messageContentAttributes.submitted_values &&\n          !['form', 'input_csat'].includes(this.contentType))\n      );\n    },\n    responseMessage() {\n      if (this.messageContentAttributes.submitted_email) {\n        return { content: this.messageContentAttributes.submitted_email };\n      }\n\n      if (this.messageContentAttributes.submitted_values) {\n        if (this.contentType === 'input_select') {\n          const [selectionOption = {}] =\n            this.messageContentAttributes.submitted_values;\n          return { content: selectionOption.title || selectionOption.value };\n        }\n      }\n      return '';\n    },\n    isASubmittedForm() {\n      return isASubmittedFormMessage(this.message);\n    },\n    submittedFormValues() {\n      return this.messageContentAttributes.submitted_values.map(\n        submittedValue => ({\n          id: submittedValue.name,\n          content: submittedValue.value,\n        })\n      );\n    },\n    wrapClass() {\n      return {\n        'has-text': this.shouldDisplayAgentMessage,\n      };\n    },\n    hasReplyTo() {\n      return this.replyTo && (this.replyTo.content || this.replyTo.attachments);\n    },\n  },\n  watch: {\n    message() {\n      this.hasImageError = false;\n      this.hasVideoError = false;\n    },\n  },\n  mounted() {\n    this.hasImageError = false;\n    this.hasVideoError = false;\n  },\n  methods: {\n    onImageLoadError() {\n      this.hasImageError = true;\n    },\n    onVideoLoadError() {\n      this.hasVideoError = true;\n    },\n    toggleReply() {\n      emitter.emit(BUS_EVENTS.TOGGLE_REPLY_TO_MESSAGE, this.message);\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"agent-message-wrap group\"\n    :class=\"{\n      'has-response': hasRecordedResponse || isASubmittedForm,\n    }\"\n  >\n    <div v-if=\"!isASubmittedForm\" class=\"agent-message\">\n      <div class=\"avatar-wrap\">\n        <div class=\"user-thumbnail-box\">\n          <Avatar\n            v-if=\"message.showAvatar || hasRecordedResponse\"\n            :src=\"avatarUrl\"\n            :size=\"24\"\n            :name=\"agentName\"\n            rounded-full\n          />\n        </div>\n      </div>\n      <div class=\"message-wrap\">\n        <div v-if=\"hasReplyTo\" class=\"flex mt-2 mb-1 text-xs\">\n          <ReplyToChip :reply-to=\"replyTo\" />\n        </div>\n        <div class=\"flex w-full gap-1\">\n          <div\n            class=\"space-y-2\"\n            :class=\"{\n              'w-full':\n                contentType === 'form' &&\n                !messageContentAttributes?.submitted_values,\n            }\"\n          >\n            <AgentMessageBubble\n              v-if=\"shouldDisplayAgentMessage\"\n              :content-type=\"contentType\"\n              :message-content-attributes=\"messageContentAttributes\"\n              :message-id=\"message.id\"\n              :message-type=\"messageType\"\n              :message=\"message.content\"\n            />\n            <div\n              v-if=\"hasAttachments\"\n              class=\"space-y-2 chat-bubble has-attachment agent bg-n-background dark:bg-n-solid-3\"\n              :class=\"wrapClass\"\n            >\n              <div\n                v-for=\"attachment in message.attachments\"\n                :key=\"attachment.id\"\n              >\n                <ImageBubble\n                  v-if=\"attachment.file_type === 'image' && !hasImageError\"\n                  :url=\"attachment.data_url\"\n                  :thumb=\"attachment.data_url\"\n                  :readable-time=\"readableTime\"\n                  @error=\"onImageLoadError\"\n                />\n\n                <VideoBubble\n                  v-if=\"attachment.file_type === 'video' && !hasVideoError\"\n                  :url=\"attachment.data_url\"\n                  :readable-time=\"readableTime\"\n                  @error=\"onVideoLoadError\"\n                />\n\n                <audio\n                  v-else-if=\"attachment.file_type === 'audio'\"\n                  controls\n                  class=\"h-10 dark:invert\"\n                >\n                  <source :src=\"attachment.data_url\" />\n                </audio>\n                <FileBubble v-else :url=\"attachment.data_url\" />\n              </div>\n            </div>\n          </div>\n          <div class=\"flex flex-col justify-end\">\n            <MessageReplyButton\n              class=\"transition-opacity delay-75 opacity-0 group-hover:opacity-100 sm:opacity-0\"\n              @click=\"toggleReply\"\n            />\n          </div>\n        </div>\n        <p\n          v-if=\"message.showAvatar || hasRecordedResponse\"\n          v-dompurify-html=\"agentName\"\n          class=\"agent-name text-n-slate-11\"\n        />\n      </div>\n    </div>\n\n    <UserMessage v-if=\"hasRecordedResponse\" :message=\"responseMessage\" />\n    <div v-if=\"isASubmittedForm\">\n      <UserMessage\n        v-for=\"submittedValue in submittedFormValues\"\n        :key=\"submittedValue.id\"\n        :message=\"submittedValue\"\n      />\n    </div>\n  </div>\n</template>\n","<script>\nimport AgentMessage from 'widget/components/AgentMessage.vue';\nimport UserMessage from 'widget/components/UserMessage.vue';\nimport { mapGetters } from 'vuex';\nimport { MESSAGE_TYPE } from 'widget/helpers/constants';\n\nexport default {\n  components: {\n    AgentMessage,\n    UserMessage,\n  },\n  props: {\n    message: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  computed: {\n    ...mapGetters({\n      allMessages: 'conversation/getConversation',\n    }),\n    isUserMessage() {\n      return this.message.message_type === MESSAGE_TYPE.INCOMING;\n    },\n    replyTo() {\n      const replyTo = this.message?.content_attributes?.in_reply_to;\n      return replyTo ? this.allMessages[replyTo] : null;\n    },\n  },\n};\n</script>\n\n<template>\n  <UserMessage\n    v-if=\"isUserMessage\"\n    :id=\"`cwmsg-${message.id}`\"\n    :message=\"message\"\n    :reply-to=\"replyTo\"\n  />\n  <AgentMessage\n    v-else\n    :id=\"`cwmsg-${message.id}`\"\n    :message=\"message\"\n    :reply-to=\"replyTo\"\n  />\n</template>\n\n<style scoped lang=\"scss\">\n.message-wrap {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n  max-width: 90%;\n}\n</style>\n","<script>\nexport default {\n  name: 'AgentTypingBubble',\n};\n</script>\n\n<template>\n  <div class=\"agent-message-wrap sticky bottom-1\">\n    <div class=\"agent-message\">\n      <div class=\"avatar-wrap\" />\n      <div class=\"message-wrap mt-2\">\n        <div\n          class=\"chat-bubble agent typing-bubble bg-n-background dark:bg-n-solid-3\"\n        >\n          <img\n            src=\"assets/images/typing.gif\"\n            alt=\"Agent is typing a message\"\n            class=\"!w-full\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.typing-bubble {\n  @apply max-w-[2.4rem] p-2 ltr:rounded-bl-[1.25rem] rtl:rounded-br-[1.25rem] ltr:rounded-tl-lg rtl:rounded-tr-lg;\n}\n</style>\n","<script>\nimport { formatDate } from 'shared/helpers/DateHelper';\n\nexport default {\n  props: {\n    date: {\n      type: String,\n      required: true,\n    },\n  },\n  computed: {\n    formattedDate() {\n      return formatDate({\n        date: this.date,\n        todayText: this.$t('TODAY'),\n        yesterdayText: this.$t('YESTERDAY'),\n      });\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"text-sm text-n-slate-11 h-[50px] leading-[50px] relative text-center w-full before:content-[''] before:h-px before:absolute before:top-6 before:w-[calc((100%-120px)/2)] before:bg-n-slate-4 before:dark:bg-n-slate-6 before:left-0 after:content-[''] after:h-px after:absolute after:top-6 after:w-[calc((100%-120px)/2)] after:bg-n-slate-4 after:dark:bg-n-slate-6 after:right-0\"\n  >\n    {{ formattedDate }}\n  </div>\n</template>\n","<script>\nimport ChatMessage from 'widget/components/ChatMessage.vue';\nimport AgentTypingBubble from 'widget/components/AgentTypingBubble.vue';\nimport DateSeparator from 'shared/components/DateSeparator.vue';\nimport Spinner from 'shared/components/Spinner.vue';\nimport { useDarkMode } from 'widget/composables/useDarkMode';\nimport { MESSAGE_TYPE } from 'shared/constants/messages';\nimport { mapActions, mapGetters } from 'vuex';\n\nexport default {\n  name: 'ConversationWrap',\n  components: {\n    ChatMessage,\n    AgentTypingBubble,\n    DateSeparator,\n    Spinner,\n  },\n  props: {\n    groupedMessages: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  setup() {\n    const { darkMode } = useDarkMode();\n    return { darkMode };\n  },\n  data() {\n    return {\n      previousScrollHeight: 0,\n      previousConversationSize: 0,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      earliestMessage: 'conversation/getEarliestMessage',\n      lastMessage: 'conversation/getLastMessage',\n      allMessagesLoaded: 'conversation/getAllMessagesLoaded',\n      isFetchingList: 'conversation/getIsFetchingList',\n      conversationSize: 'conversation/getConversationSize',\n      isAgentTyping: 'conversation/getIsAgentTyping',\n      conversationAttributes: 'conversationAttributes/getConversationParams',\n    }),\n    colorSchemeClass() {\n      return `${this.darkMode === 'dark' ? 'dark-scheme' : 'light-scheme'}`;\n    },\n    showStatusIndicator() {\n      const { status } = this.conversationAttributes;\n      const isConversationInPendingStatus = status === 'pending';\n      const isLastMessageIncoming =\n        this.lastMessage.message_type === MESSAGE_TYPE.INCOMING;\n      return (\n        this.isAgentTyping ||\n        (isConversationInPendingStatus && isLastMessageIncoming)\n      );\n    },\n  },\n  watch: {\n    allMessagesLoaded() {\n      this.previousScrollHeight = 0;\n    },\n  },\n  mounted() {\n    this.$el.addEventListener('scroll', this.handleScroll);\n    this.scrollToBottom();\n  },\n  updated() {\n    if (this.previousConversationSize !== this.conversationSize) {\n      this.previousConversationSize = this.conversationSize;\n      this.scrollToBottom();\n    }\n  },\n  unmounted() {\n    this.$el.removeEventListener('scroll', this.handleScroll);\n  },\n  methods: {\n    ...mapActions('conversation', ['fetchOldConversations']),\n    scrollToBottom() {\n      const container = this.$el;\n      container.scrollTop = container.scrollHeight - this.previousScrollHeight;\n      this.previousScrollHeight = 0;\n    },\n    handleScroll() {\n      if (\n        this.isFetchingList ||\n        this.allMessagesLoaded ||\n        !this.conversationSize\n      ) {\n        return;\n      }\n\n      if (this.$el.scrollTop < 100) {\n        this.fetchOldConversations({ before: this.earliestMessage.id });\n        this.previousScrollHeight = this.$el.scrollHeight;\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"conversation--container\" :class=\"colorSchemeClass\">\n    <div class=\"conversation-wrap\" :class=\"{ 'is-typing': isAgentTyping }\">\n      <div v-if=\"isFetchingList\" class=\"message--loader\">\n        <Spinner />\n      </div>\n      <div\n        v-for=\"groupedMessage in groupedMessages\"\n        :key=\"groupedMessage.date\"\n        class=\"messages-wrap\"\n      >\n        <DateSeparator :date=\"groupedMessage.date\" />\n        <ChatMessage\n          v-for=\"message in groupedMessage.messages\"\n          :key=\"message.id\"\n          :message=\"message\"\n        />\n      </div>\n      <AgentTypingBubble v-if=\"showStatusIndicator\" />\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.conversation--container {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow-y: auto;\n  color-scheme: light dark;\n\n  &.light-scheme {\n    color-scheme: light;\n  }\n\n  &.dark-scheme {\n    color-scheme: dark;\n  }\n}\n\n.conversation-wrap {\n  flex: 1;\n  @apply px-2 pt-8 pb-2;\n}\n\n.message--loader {\n  text-align: center;\n}\n</style>\n","<script>\nimport { mapGetters } from 'vuex';\n\nimport ChatFooter from '../components/ChatFooter.vue';\nimport ConversationWrap from '../components/ConversationWrap.vue';\n\nexport default {\n  components: { ChatFooter, ConversationWrap },\n  computed: {\n    ...mapGetters({\n      groupedMessages: 'conversation/getGroupedConversation',\n    }),\n  },\n  mounted() {\n    this.$store.dispatch('conversation/setUserLastSeen');\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"flex flex-col flex-1 overflow-hidden rounded-b-lg bg-n-slate-2 dark:bg-n-solid-1\"\n  >\n    <div class=\"flex flex-1 overflow-auto\">\n      <ConversationWrap :grouped-messages=\"groupedMessages\" />\n    </div>\n    <ChatFooter class=\"px-5\" />\n  </div>\n</template>\n"],"names":["_sfc_main","FluentIcon","_b","_a","fileType","_hoisted_1","_hoisted_2","_openBlock","_createElementBlock","_createElementVNode","_ctx","_createTextVNode","_toDisplayString","$props","$options","_createVNode","_component_FluentIcon","FileUpload","Spinner","mapGetters","MAXIMUM_FILE_UPLOAD_SIZE","ALLOWED_FILE_TYPES","items","item","file","checkFileSizeLimit","websiteToken","DirectUpload","xhr","error","blob","emitter","BUS_EVENTS","_createBlock","_component_FileUpload","_withCtx","$data","_createCommentVNode","_component_Spinner","_normalizeStyle","ChatAttachmentButton","ChatSendButton","EmojiInput","ResizableTextArea","configMixin","isWidgetOpen","emoji","typingStatus","_normalizeClass","_cache","_withKeys","args","_component_ResizableTextArea","$event","_component_ChatAttachmentButton","_component_EmojiInput","_component_ChatSendButton","ChatInputWrap","CustomButton","FooterReplyTo","useRouter","getContrastingTextColor","allowMessagesAfterResolved","status","mapActions","content","attachment","IFrameHelper","CHATWOOT_ON_START_CONVERSATION","message","sendEmailTranscript","_component_CustomButton","_component_FooterReplyTo","_component_ChatInputWrap","formatMessage","useMessageFormatter","_directive_dompurify_html","$setup","_hoisted_3","_hoisted_4","emit","__emit","onVideoError","messageMixin","attribute","id","elementId","el","value","event","deltaX","_renderSlot","UserMessageBubble","MessageReplyButton","ImageBubble","VideoBubble","FileBubble","ReplyToChip","DragWrapper","createdAt","messageStamp","meta","_hoisted_5","_hoisted_7","_component_ReplyToChip","_component_MessageReplyButton","_component_DragWrapper","_component_UserMessageBubble","_Fragment","_renderList","_component_ImageBubble","_component_VideoBubble","_component_FileBubble","_hoisted_6","CardButton","action","_component_CardButton","acc","name","formObjectArray","obj","_hoisted_8","_withModifiers","option","ChatOption","selectedOption","_withDirectives","_component_ChatOption","truncateMessage","useVuelidate","required","email","StarRating","CSAT_DISPLAY_TYPES","CSAT_RATINGS","rating","feedback_message","_component_StarRating","IntegrationAPIClient","messageId","urlData","buildSearchParamsWithLocale","API","buildDyteURL","response","token","ChatArticle","ChatCard","ChatForm","ChatOptions","EmailInput","CustomerSatisfaction","IntegrationCard","getPlainText","highlightContent","messageResponse","formValues","formValuesAsArray","key","_component_EmailInput","_component_IntegrationCard","_component_ChatOptions","_component_ChatForm","_component_ChatCard","_component_ChatArticle","_component_CustomerSatisfaction","AgentMessageBubble","Avatar","UserMessage","type","displayImage","MESSAGE_TYPE","selectionOption","isASubmittedFormMessage","submittedValue","_hoisted_9","_component_Avatar","_component_AgentMessageBubble","_hoisted_10","_component_UserMessage","_hoisted_11","AgentMessage","replyTo","_component_AgentMessage","_createStaticVNode","_imports_0","formatDate","ChatMessage","AgentTypingBubble","DateSeparator","darkMode","useDarkMode","isConversationInPendingStatus","isLastMessageIncoming","container","groupedMessage","_component_DateSeparator","_component_ChatMessage","_component_AgentTypingBubble","ChatFooter","ConversationWrap","_component_ConversationWrap","_component_ChatFooter"],"mappings":"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"}